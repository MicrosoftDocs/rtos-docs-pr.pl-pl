---
title: Rozdział 5 — sterowniki sieciowe usługi Azure RTO NetX Duo
description: Ten rozdział zawiera opis sterowników sieciowych dla usługi Azure RTO NetX Duo.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: ede57b7512f4a1a4c30759f428962739aaa2777c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/22/2021
ms.locfileid: "104822087"
---
# <a name="chapter-5---azure-rtos-netx-duo-network-drivers"></a><span data-ttu-id="da03d-103">Rozdział 5 — sterowniki sieciowe usługi Azure RTO NetX Duo</span><span class="sxs-lookup"><span data-stu-id="da03d-103">Chapter 5 - Azure RTOS NetX Duo Network Drivers</span></span>

<span data-ttu-id="da03d-104">Ten rozdział zawiera opis sterowników sieciowych dla usługi Azure RTO NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-104">This chapter contains a description of network drivers for Azure RTOS NetX Duo.</span></span> <span data-ttu-id="da03d-105">Przedstawione informacje ułatwiają deweloperom pisanie sterowników sieciowych specyficznych dla aplikacji dla NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-105">The information presented is designed to help developers write application-specific network drivers for NetX Duo.</span></span>

## <a name="driver-introduction"></a><span data-ttu-id="da03d-106">Wprowadzenie do sterownika</span><span class="sxs-lookup"><span data-stu-id="da03d-106">Driver Introduction</span></span>

<span data-ttu-id="da03d-107">Struktura NX_IP zawiera wszystkie elementy do zarządzania pojedynczym wystąpieniem IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-107">The NX_IP structure contains everything to manage a single IP instance.</span></span> <span data-ttu-id="da03d-108">Obejmuje to ogólne informacje o protokole TCP/IP, a także procedurę wejścia sterownika sieci fizycznej specyficzną dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="da03d-108">This includes general TCP/IP protocol information as well as the application-specific physical network driver's entry routine.</span></span> <span data-ttu-id="da03d-109">Procedura wejścia sterownika jest definiowana w usłudze \***nx_ip_create** _.</span><span class="sxs-lookup"><span data-stu-id="da03d-109">The driver's entry routine is defined during the \***nx_ip_create** _ service.</span></span> <span data-ttu-id="da03d-110">Dodatkowe urządzenia mogą być dodawane do wystąpienia IP za pośrednictwem _ *_nx_ip_interface_attach_*\* usługi.</span><span class="sxs-lookup"><span data-stu-id="da03d-110">Additional devices may be added to the IP instance via the _ *_nx_ip_interface_attach_*\* service.</span></span>

<span data-ttu-id="da03d-111">Komunikacja między NetX Duo a sterownikiem sieciowym aplikacji jest realizowana za pomocą struktury żądania **NX_IP_DRIVER** .</span><span class="sxs-lookup"><span data-stu-id="da03d-111">Communication between NetX Duo and the application's network driver is accomplished through the **NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="da03d-112">Ta struktura jest najczęściej zdefiniowana lokalnie na stosie obiektu wywołującego i dlatego jest wydawana po powrocie sterownika i wywołania funkcji.</span><span class="sxs-lookup"><span data-stu-id="da03d-112">This structure is most often defined locally on the caller's stack and is therefore released after the driver and calling function return.</span></span> <span data-ttu-id="da03d-113">Struktura jest zdefiniowana w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="da03d-113">The structure is defined as follows.</span></span>

```c
typedef struct NX_IP_DRIVER_STRUCT
{
      UINT           nx_ip_driver_command;
      UINT           nx_ip_driver_status;
      ULONG          nx_ip_driver_physical_address_msw;
      ULONG          nx_ip_driver_physical_address_lsw;
      NX_PACKET      *nx_ip_driver_packet;
      ULONG          *nx_ip_driver_return_ptr;
      NX_IP          *nx_ip_driver_ptr;
      NX_INTERFACE   *nx_ip_driver_interface;01
} NX_IP_DRIVER;
```
## <a name="driver-entry"></a><span data-ttu-id="da03d-114">Wpis sterownika</span><span class="sxs-lookup"><span data-stu-id="da03d-114">Driver Entry</span></span> 

<span data-ttu-id="da03d-115">NetX Duo wywołuje funkcję wpisu sterownika sieci na potrzeby inicjowania sterownika i wysyłania pakietów oraz dla różnych operacji kontroli i stanu, w tym inicjowania i włączania urządzenia sieciowego.</span><span class="sxs-lookup"><span data-stu-id="da03d-115">NetX Duo invokes the network driver entry function for driver initialization and for sending packets and for various control and status operations, including initializing and enabling the network device.</span></span> <span data-ttu-id="da03d-116">NetX Duo wydaje polecenia do sterownika sieciowego przez ustawienie \***nx_ip_driver_command** _ pola w strukturze _ \*NX_IP_DRIVER\*\*.</span><span class="sxs-lookup"><span data-stu-id="da03d-116">NetX Duo issues commands to the network driver by setting the ***nx_ip_driver_command** _ field in the _ *NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="da03d-117">Funkcja wprowadzania sterowników ma następujący format:</span><span class="sxs-lookup"><span data-stu-id="da03d-117">The driver entry function has the following format:</span></span>

```c
VOID my_driver_entry(NX_IP_DRIVER *request);
```
## <a name="driver-requests"></a><span data-ttu-id="da03d-118">Żądania sterowników</span><span class="sxs-lookup"><span data-stu-id="da03d-118">Driver Requests</span></span>

<span data-ttu-id="da03d-119">NetX Duo tworzy żądanie sterownika przy użyciu określonego polecenia i wywołuje funkcję wejścia sterownika, aby wykonać polecenie.</span><span class="sxs-lookup"><span data-stu-id="da03d-119">NetX Duo creates the driver request with a specific command and invokes the driver entry function to execute the command.</span></span> <span data-ttu-id="da03d-120">Ze względu na to, że każdy sterownik sieciowy ma jedną funkcję wejścia, NetX Duo wykonuje wszystkie żądania poprzez strukturę danych żądania sterownika.</span><span class="sxs-lookup"><span data-stu-id="da03d-120">Because each network driver has a single entry function, NetX Duo makes all requests through the driver request data structure.</span></span> <span data-ttu-id="da03d-121">Element członkowski ***nx_ip_driver_command** _ w strukturze danych żądania sterownika (_* NX_IP_DRIVER \* \*) definiuje żądanie. Informacje o stanie są raportowane z powrotem do obiektu wywołującego w elemencie członkowskim \**_nx_ip_driver_status_*_.</span><span class="sxs-lookup"><span data-stu-id="da03d-121">The ***nx_ip_driver_command** _ member of the driver request data structure (_*NX_IP_DRIVER\*\*) defines the request. Status information is reported back to the caller in the member \**_nx_ip_driver_status_*_.</span></span> <span data-ttu-id="da03d-122">Jeśli to pole ma wartość _ \* NX_SUCCESS \* \*, żądanie sterownika zostało pomyślnie zakończone.</span><span class="sxs-lookup"><span data-stu-id="da03d-122">If this field is _\*NX_SUCCESS\*\*, the driver request was completed successfully.</span></span>

<span data-ttu-id="da03d-123">NetX Duo serializować cały dostęp do sterownika.</span><span class="sxs-lookup"><span data-stu-id="da03d-123">NetX Duo serializes all access to the driver.</span></span> <span data-ttu-id="da03d-124">W związku z tym sterownik nie musi obsługiwać wielu wątków asynchronicznie wywołujących funkcję entry.</span><span class="sxs-lookup"><span data-stu-id="da03d-124">Therefore, the driver does not need to handle multiple threads asynchronously calling the entry function.</span></span> <span data-ttu-id="da03d-125">Należy pamiętać, że funkcja sterownika urządzenia jest wykonywana z zablokowanym elementem mutex IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-125">Note that the device driver function executes with the IP mutex locked.</span></span> <span data-ttu-id="da03d-126">W związku z tym wewnętrzna funkcja sterownika urządzenia nie jest blokowana.</span><span class="sxs-lookup"><span data-stu-id="da03d-126">Therefore the device driver internal function shall not block itself.</span></span>

<span data-ttu-id="da03d-127">Zazwyczaj sterownik urządzenia obsługuje również przerwania.</span><span class="sxs-lookup"><span data-stu-id="da03d-127">Typically the device driver also handles interrupts.</span></span> <span data-ttu-id="da03d-128">W związku z tym wszystkie funkcje sterownika muszą być bezpieczne dla przerwań.</span><span class="sxs-lookup"><span data-stu-id="da03d-128">Therefore, all driver functions need to be interrupt-safe.</span></span>

### <a name="driver-initialization"></a><span data-ttu-id="da03d-129">Inicjowanie sterownika</span><span class="sxs-lookup"><span data-stu-id="da03d-129">Driver Initialization</span></span>   
<span data-ttu-id="da03d-130">Chociaż rzeczywiste przetwarzanie inicjacji sterownika jest specyficzne dla aplikacji, zwykle składa się ona ze struktury danych i fizycznej inicjalizacji sprzętowej.</span><span class="sxs-lookup"><span data-stu-id="da03d-130">Although the actual driver initialization processing is application specific, it usually consists of data structure and physical hardware initialization.</span></span> <span data-ttu-id="da03d-131">Informacje wymagane od NetX Duo na potrzeby inicjowania sterowników to maksymalna jednostka transmisji (MTU) IP, czyli liczba bajtów dostępnych dla ładunku warstwy IP, w tym nagłówek IPv4 lub IPv6, a jeśli interfejs fizyczny wymaga mapowania logicznego do fizycznego.</span><span class="sxs-lookup"><span data-stu-id="da03d-131">The information required from NetX Duo for driver initialization is the IP Maximum Transmission Unit (MTU), which is the number of bytes available to the IP-layer payload, including IPv4 or IPv6 header) and if the physical interface needs logical-to-physical mapping.</span></span> <span data-ttu-id="da03d-132">Sterownik konfiguruje wartość MTU interfejsu przez wywołanie ***nx_ip_interface_mtu_set***.</span><span class="sxs-lookup"><span data-stu-id="da03d-132">The driver configures the interface MTU value by calling ***nx_ip_interface_mtu_set***.</span></span>

<span data-ttu-id="da03d-133">Sterownik urządzenia musi wywołać \***nx_ip_interface_address_mapping_configure** _, aby poinformować NetX Duo o tym, czy mapowanie adresów interfejsu jest wymagane.</span><span class="sxs-lookup"><span data-stu-id="da03d-133">The device driver needs to call \***nx_ip_interface_address_mapping_configure** _ to inform NetX Duo whether or not interface address mapping is required.</span></span> <span data-ttu-id="da03d-134">Jeśli konieczne jest mapowanie adresów, sterownik jest odpowiedzialny za skonfigurowanie interfejsu z prawidłowym adresem MAC i dostarczenie adresu MAC w celu NetX za pośrednictwem _ *_nx_ip_interface_physical_address_set_* \*.</span><span class="sxs-lookup"><span data-stu-id="da03d-134">If address mapping is needed, the driver is responsible for configuring the interface with valid MAC address, and supply the MAC address to NetX via _\*_nx_ip_interface_physical_address_set_\*\*.</span></span>

<span data-ttu-id="da03d-135">Gdy sterownik sieciowy odbiera żądanie zainicjowania NX_LINK od NetX Duo, otrzymuje wskaźnik do bloku kontroli adresów IP jako część bloku kontrolki żądania NX_IP_DRIVER pokazanego powyżej.</span><span class="sxs-lookup"><span data-stu-id="da03d-135">When the network driver receives the NX_LINK INITIALIZE request from NetX Duo, it receives a pointer to the IP control block as part of the NX_IP_DRIVER request control block shown above.</span></span>

<span data-ttu-id="da03d-136">Gdy aplikacja wywoła ***nx_ip_create***, wątek pomocnika IP wysyła żądanie sterownika z zestawem polecenie, aby NX_LINK_INITIALIZE do sterownika w celu zainicjowania fizycznego interfejsu sieciowego.</span><span class="sxs-lookup"><span data-stu-id="da03d-136">After the application calls ***nx_ip_create***, the IP helper thread sends a driver request with the command set to NX_LINK_INITIALIZE to the driver to initialize its physical network interface.</span></span> <span data-ttu-id="da03d-137">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania Initialize.</span><span class="sxs-lookup"><span data-stu-id="da03d-137">The following NX_IP_DRIVER members are used for the initialize request.</span></span>

| <span data-ttu-id="da03d-138">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-138">NX_IP_DRIVER&nbsp;member</span></span> | <span data-ttu-id="da03d-139">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-139">Meaning</span></span>    |
| ------------------------- | ----------------------------- |
| <span data-ttu-id="da03d-140">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-140">nx_ip_driver_command</span></span>   | <span data-ttu-id="da03d-141">NX_LINK_INITIALIZE</span><span class="sxs-lookup"><span data-stu-id="da03d-141">NX_LINK_INITIALIZE</span></span>    |
| <span data-ttu-id="da03d-142">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-142">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="da03d-143">Wskaźnik na wystąpienie protokołu IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-143">Pointer to the IP instance.</span></span> <span data-ttu-id="da03d-144">Ta wartość powinna być zapisywana przez sterownik, aby funkcja sterownika mogła znaleźć wystąpienie adresu IP, na którym ma działać.</span><span class="sxs-lookup"><span data-stu-id="da03d-144">This value should be saved by the driver so that the driver function can find the IP instance to operate on.</span></span>    |
| <span data-ttu-id="da03d-145">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-145">nx_ip_driver_interface</span></span> | <span data-ttu-id="da03d-146">Wskaźnik do struktury interfejsu sieciowego w ramach wystąpienia adresu IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-146">Pointer to the network interface structure within the IP instance.</span></span> <span data-ttu-id="da03d-147">Te informacje powinny być zapisywane przez sterownik.</span><span class="sxs-lookup"><span data-stu-id="da03d-147">This information should be saved by the driver.</span></span> <span data-ttu-id="da03d-148">W przypadku pakietów odbierających sterownik używa informacji o strukturze interfejsu podczas wysyłania pakietu w górę stosu.</span><span class="sxs-lookup"><span data-stu-id="da03d-148">On receiving packets, the driver shall use the interface structure information when sending the packet up the stack.</span></span> <span data-ttu-id="da03d-149">Indeks interfejsu (indeks urządzenia) można uzyskać, odczytując element członkowski nx_interface_index wewnątrz tej struktury danych.</span><span class="sxs-lookup"><span data-stu-id="da03d-149">The interface index (device index) can be obtained by reading the member nx_interface_index inside this data structure.</span></span> |
| <span data-ttu-id="da03d-150">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-150">nx_ip_driver_status</span></span>    | <span data-ttu-id="da03d-151">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-151">Completion status.</span></span> <span data-ttu-id="da03d-152">Jeśli sterownik nie może zainicjować określonego interfejsu w wystąpieniu protokołu IP, spowoduje to zwrócenie stanu błędu o wartości niezerowej.</span><span class="sxs-lookup"><span data-stu-id="da03d-152">If the driver is not able to initialize the specified interface to the IP instance, it will return a nonzero error status.</span></span> |


> [!NOTE]  
> <span data-ttu-id="da03d-153">*Sterownik jest faktycznie wywoływany z wątku pomocnika IP, który został utworzony dla wystąpienia IP. W związku z tym procedura sterownika powinna unikać wykonywania operacji blokowania lub wątek pomocnika IP może spowodować nieograniczone opóźnienia dla aplikacji, które korzystają z wątku IP*.</span><span class="sxs-lookup"><span data-stu-id="da03d-153">*The driver is actually called from the IP helper thread that was created for the IP instance. Therefore the driver routine should avoid performing blocking operations, or the IP helper thread could stall, causing unbounded delays to applications that rely on the IP thread*.</span></span>

### <a name="enable-link"></a><span data-ttu-id="da03d-154">Włącz link</span><span class="sxs-lookup"><span data-stu-id="da03d-154">Enable Link</span></span>   
<span data-ttu-id="da03d-155">Następnie wątek pomocnika IP włącza sieć fizyczną przez ustawienie polecenia sterownika NX_LINK_ENABLE w żądaniu sterownika i wysłanie żądania do sterownika sieciowego.</span><span class="sxs-lookup"><span data-stu-id="da03d-155">Next, the IP helper thread enables the physical network by setting the driver command to NX_LINK_ENABLE in the driver request and sending the request to the network driver.</span></span> <span data-ttu-id="da03d-156">Dzieje się to wkrótce po zakończeniu wątku pomocnika IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-156">This happens shortly after the IP helper thread completes the initialization request.</span></span> <span data-ttu-id="da03d-157">Włączenie linku może być proste, ponieważ ustawienie pola *nx_interface_link_up* w wystąpieniu interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-157">Enabling the link may be as simple as setting the *nx_interface_link_up* field in the interface instance.</span></span> <span data-ttu-id="da03d-158">Może to jednak również wymagać manipulowania sprzętem fizycznym.</span><span class="sxs-lookup"><span data-stu-id="da03d-158">But it may also involve manipulation of the physical hardware.</span></span> <span data-ttu-id="da03d-159">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania włączenia linku.</span><span class="sxs-lookup"><span data-stu-id="da03d-159">The following NX_IP_DRIVER members are used for the enable link request.</span></span>

| <span data-ttu-id="da03d-160">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-160">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="da03d-161">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-161">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="da03d-162">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-162">nx_ip_driver_command</span></span>   | <span data-ttu-id="da03d-163">NX_LINK_ENABLE</span><span class="sxs-lookup"><span data-stu-id="da03d-163">NX_LINK_ENABLE</span></span>   |
| <span data-ttu-id="da03d-164">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-164">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="da03d-165">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-165">Pointer to IP instance</span></span>  |
| <span data-ttu-id="da03d-166">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-166">nx_ip_driver_interface</span></span> | <span data-ttu-id="da03d-167">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-167">Pointer to the interface instance</span></span> |
| <span data-ttu-id="da03d-168">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-168">nx_ip_driver_status</span></span>    | <span data-ttu-id="da03d-169">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-169">Completion status.</span></span> <span data-ttu-id="da03d-170">Jeśli sterownik nie może włączyć określonego interfejsu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-170">If the driver is not able to enable the specified interface, it will return a non-zero error status.</span></span> |

### <a name="disable-link"></a><span data-ttu-id="da03d-171">Wyłącz link</span><span class="sxs-lookup"><span data-stu-id="da03d-171">Disable Link</span></span>   
<span data-ttu-id="da03d-172">To żądanie jest podejmowane przez NetX Duo podczas usuwania wystąpienia IP przez usługę \***nx_ip_delete** _.</span><span class="sxs-lookup"><span data-stu-id="da03d-172">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="da03d-173">Lub aplikacja może wydać to polecenie, aby tymczasowo wyłączyć link w celu zaoszczędzenia mocy.</span><span class="sxs-lookup"><span data-stu-id="da03d-173">Or an application may issue this command in order to temporarily disable the link in order to save power.</span></span> <span data-ttu-id="da03d-174">Ta usługa wyłącza fizyczny interfejs sieciowy w wystąpieniu IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-174">This service disables the physical network interface on the IP instance.</span></span> <span data-ttu-id="da03d-175">Przetwarzanie w celu wyłączenia łącza może być proste, ponieważ czyści _flagę nx_interface_link_up \* w wystąpieniu interfejsu. Może to jednak również wymagać manipulowania sprzętem fizycznym. Zwykle jest to operacja odwrotna operacji \***enable link**_ .</span><span class="sxs-lookup"><span data-stu-id="da03d-175">The processing to disable the link may be as simple as clearing the _nx_interface_link_up\* flag in the interface instance. But it may also involve manipulation of the physical hardware. Typically it is a reverse operation of the \***Enable Link**_ operation.</span></span> <span data-ttu-id="da03d-176">Gdy łącze zostanie wyłączone, żądanie aplikacji _ Włącz operację \*_link_\*\*, aby włączyć interfejs.</span><span class="sxs-lookup"><span data-stu-id="da03d-176">After the link is disabled, the application request _ *_Enable Link_*\* operation to enable the interface.</span></span>

<span data-ttu-id="da03d-177">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania Disable link.</span><span class="sxs-lookup"><span data-stu-id="da03d-177">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="da03d-178">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-178">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="da03d-179">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-179">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="da03d-180">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-180">nx_ip_driver_command</span></span>   | <span data-ttu-id="da03d-181">NX_LINK_DISABLE</span><span class="sxs-lookup"><span data-stu-id="da03d-181">NX_LINK_DISABLE</span></span>    |
| <span data-ttu-id="da03d-182">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-182">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="da03d-183">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-183">Pointer to IP instance</span></span>   |
| <span data-ttu-id="da03d-184">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-184">nx_ip_driver_interface</span></span> | <span data-ttu-id="da03d-185">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-185">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="da03d-186">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-186">nx_ip_driver_status</span></span>    | <span data-ttu-id="da03d-187">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-187">Completion status.</span></span> <span data-ttu-id="da03d-188">Jeśli sterownik nie może wyłączyć określonego interfejsu w wystąpieniu protokołu IP, zwróci on stan błędu różny od zera.</span><span class="sxs-lookup"><span data-stu-id="da03d-188">If the driver is not able to disable the specified interface in the IP instance, it will return a non-zero error status.</span></span> |

### <a name="uninitialize-link"></a><span data-ttu-id="da03d-189">Odinicjuj łącze</span><span class="sxs-lookup"><span data-stu-id="da03d-189">Uninitialize Link</span></span>   
<span data-ttu-id="da03d-190">To żądanie jest podejmowane przez NetX Duo podczas usuwania wystąpienia IP przez usługę \***nx_ip_delete** _.</span><span class="sxs-lookup"><span data-stu-id="da03d-190">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="da03d-191">To żądanie służy do odinicjowania interfejsu i zwolnienia wszelkich zasobów utworzonych podczas fazy inicjalizacji.</span><span class="sxs-lookup"><span data-stu-id="da03d-191">This request uninitialize the interface, and release any resources created during initialization phase.</span></span> <span data-ttu-id="da03d-192">Zwykle jest to operacja odwrotna operacji _ \*_Initialize link_\*\*.</span><span class="sxs-lookup"><span data-stu-id="da03d-192">Typically it is a reverse operation of the _ *_Initialize Link_*\* operation.</span></span> <span data-ttu-id="da03d-193">Po uninitalized interfejsu nie można użyć urządzenia, dopóki interfejs nie zostanie ponownie zainicjowany.</span><span class="sxs-lookup"><span data-stu-id="da03d-193">After the interface is uninitalized, the device cannot be used until the interface is initialized again.</span></span>

<span data-ttu-id="da03d-194">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania Disable link.</span><span class="sxs-lookup"><span data-stu-id="da03d-194">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="da03d-195">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-195">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="da03d-196">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-196">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="da03d-197">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-197">nx_ip_driver_command</span></span>   | <span data-ttu-id="da03d-198">NX_LINK_UNINITIALZE</span><span class="sxs-lookup"><span data-stu-id="da03d-198">NX_LINK_UNINITIALZE</span></span>      |
| <span data-ttu-id="da03d-199">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-199">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="da03d-200">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-200">Pointer to IP instance</span></span>   |
| <span data-ttu-id="da03d-201">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-201">nx_ip_driver_interface</span></span> | <span data-ttu-id="da03d-202">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-202">Pointer to the interface instance</span></span> |
| <span data-ttu-id="da03d-203">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-203">nx_ip_driver_status</span></span>    | <span data-ttu-id="da03d-204">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-204">Completion status.</span></span> <span data-ttu-id="da03d-205">Jeśli sterownik nie może wymusić inicjalizacji określonego interfejsu do wystąpienia IP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-205">If the driver is not able to uninitialize the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="packet-send"></a><span data-ttu-id="da03d-206">Wysyłanie pakietów</span><span class="sxs-lookup"><span data-stu-id="da03d-206">Packet Send</span></span>   
<span data-ttu-id="da03d-207">To żądanie jest wykonywane podczas wewnętrznego przetwarzania protokołu IPv4 lub IPv6, którego wszystkie protokoły NetX Duo używają do przesyłania pakietów (z wyjątkiem ARP, RARP).</span><span class="sxs-lookup"><span data-stu-id="da03d-207">This request is made during internal IPv4 or IPv6 send processing, which all NetX Duo protocols use to transmit packets (except for ARP, RARP).</span></span> <span data-ttu-id="da03d-208">W przypadku odebrania polecenia Wyślij pakiet *nx_packet_prepend_ptr* wskazuje na początek pakietu do wysłania, czyli początek nagłówka IPv4 lub IPv6.</span><span class="sxs-lookup"><span data-stu-id="da03d-208">On receiving the packet send command, the *nx_packet_prepend_ptr* points to the beginning of the packet to be sent, which is the beginning of the IPv4 or IPv6 header.</span></span> <span data-ttu-id="da03d-209">*nx_packet_length* wskazuje łączny rozmiar (w bajtach) przesyłanych danych.</span><span class="sxs-lookup"><span data-stu-id="da03d-209">*nx_packet_length* indicates the total size (in bytes) of the data being transmitted.</span></span> <span data-ttu-id="da03d-210">Jeśli *nx_packet_next* jest prawidłowy, wychodzący datagram IP jest przechowywany w wielu pakietach, sterownik jest wymagany do podążania za łańcuchowym pakietem i przesyłania całej ramki.</span><span class="sxs-lookup"><span data-stu-id="da03d-210">If *nx_packet_next* is valid, the outgoing IP datagram is stored in multiple packets, the driver is required to follow the chained packet and transmit the entire frame.</span></span> <span data-ttu-id="da03d-211">Należy zauważyć, że prawidłowy obszar danych w każdym łańcuchowym pakiecie jest przechowywany między *nx_packet_prepend_ptr* i *nx_packet_append_ptr*.</span><span class="sxs-lookup"><span data-stu-id="da03d-211">Note that valid data area in each chained packet is stored between *nx_packet_prepend_ptr* and *nx_packet_append_ptr*.</span></span>

<span data-ttu-id="da03d-212">Sterownik jest odpowiedzialny za konstruowanie nagłówka fizycznego.</span><span class="sxs-lookup"><span data-stu-id="da03d-212">The driver is responsible for constructing physical header.</span></span> <span data-ttu-id="da03d-213">Jeśli wymagany jest adres fizyczny do mapowania adresów IP (np. Ethernet), warstwa adresów IP już rozwiązała adres MAC.</span><span class="sxs-lookup"><span data-stu-id="da03d-213">If physical address to IP address mapping is required (such as Ethernet), the IP layer already resolved the MAC address.</span></span> <span data-ttu-id="da03d-214">Docelowy adres MAC jest przesyłany z wystąpienia IP przechowywanego w *nx_ip_driver_physical_address_msw i nx_ip_driver_physical_address_lsw*.</span><span class="sxs-lookup"><span data-stu-id="da03d-214">The destination MAC address is passed from the IP instance, stored in *nx_ip_driver_physical_address_msw and nx_ip_driver_physical_address_lsw*.</span></span>

<span data-ttu-id="da03d-215">Po dodaniu fizycznego nagłówka, przetwarzanie wysyłane przez pakiet, następnie wywołuje funkcję wyjściową sterownika, aby przesłać pakiet.</span><span class="sxs-lookup"><span data-stu-id="da03d-215">After adding the physical header, the packet send processing then calls the driver's output function to transmit the packet.</span></span>

<span data-ttu-id="da03d-216">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania wysłania pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-216">The following NX_IP_DRIVER members are used for the packet send request.</span></span>

| <span data-ttu-id="da03d-217">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-217">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="da03d-218">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-218">Meaning</span></span>                               |
| -----------------------------------| --------------------------------------|
| <span data-ttu-id="da03d-219">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-219">nx_ip_driver_command</span></span>            | <span data-ttu-id="da03d-220">NX_LINK_PACKET_SEND</span><span class="sxs-lookup"><span data-stu-id="da03d-220">NX_LINK_PACKET_SEND</span></span>                |
| <span data-ttu-id="da03d-221">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-221">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="da03d-222">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-222">Pointer to IP instance</span></span>                |
| <span data-ttu-id="da03d-223">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="da03d-223">nx_ip_driver_packet</span></span>             | <span data-ttu-id="da03d-224">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="da03d-224">Pointer to the packet to send</span></span>         |
| <span data-ttu-id="da03d-225">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-225">nx_ip_driver_interface</span></span>          | <span data-ttu-id="da03d-226">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-226">Pointer to the interface instance.</span></span>    |
| <span data-ttu-id="da03d-227">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="da03d-227">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="da03d-228">Najbardziej znaczące 32-bitowe adresów fizycznych (tylko w przypadku konieczności mapowania fizycznego)</span><span class="sxs-lookup"><span data-stu-id="da03d-228">Most significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="da03d-229">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-229">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="da03d-230">Najmniej znaczące 32-bitów adresów fizycznych (tylko w przypadku konieczności mapowania fizycznego)</span><span class="sxs-lookup"><span data-stu-id="da03d-230">Least significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="da03d-231">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-231">nx_ip_driver_status</span></span>             | <span data-ttu-id="da03d-232">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-232">Completion status.</span></span> <span data-ttu-id="da03d-233">Jeśli sterownik nie może wysłać pakietu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-233">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="packet-broadcastipv4-packets-only"></a><span data-ttu-id="da03d-234">Emisja pakietu (tylko pakiety IPv4)</span><span class="sxs-lookup"><span data-stu-id="da03d-234">Packet Broadcast(IPv4 packets only)</span></span>  
<span data-ttu-id="da03d-235">To żądanie jest niemal identyczne z żądaniem wysyłania pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-235">This request is almost identical to the send packet request.</span></span> <span data-ttu-id="da03d-236">Jedyną różnicą jest to, że docelowe pola adresu fizycznego są ustawiane na adres MAC emisji sieci Ethernet.</span><span class="sxs-lookup"><span data-stu-id="da03d-236">The only difference is that the destination physical address fields are set to the Ethernet broadcast MAC address.</span></span> <span data-ttu-id="da03d-237">Do żądania emisji pakietów są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="da03d-237">The following NX_IP_DRIVER members are used for the packet broadcast request.</span></span>

| <span data-ttu-id="da03d-238">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-238">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="da03d-239">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-239">Meaning</span></span>                                                                                                  |
|------------------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="da03d-240">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-240">nx_ip_driver_command</span></span>               | <span data-ttu-id="da03d-241">NX_LINK_PACKET_BROADCAST</span><span class="sxs-lookup"><span data-stu-id="da03d-241">NX_LINK_PACKET_BROADCAST</span></span>                                                                                 |
| <span data-ttu-id="da03d-242">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-242">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="da03d-243">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-243">Pointer to IP instance</span></span>                                                                                   |
| <span data-ttu-id="da03d-244">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="da03d-244">nx_ip_driver_packet</span></span>                | <span data-ttu-id="da03d-245">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="da03d-245">Pointer to the packet to send</span></span>                                                                            |
| <span data-ttu-id="da03d-246">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="da03d-246">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="da03d-247">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="da03d-247">0x0000FFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="da03d-248">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-248">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="da03d-249">0xFFFFFFFF (emisja)</span><span class="sxs-lookup"><span data-stu-id="da03d-249">0xFFFFFFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="da03d-250">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-250">nx_ip_driver_interface</span></span>             | <span data-ttu-id="da03d-251">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-251">Pointer to the interface instance.</span></span>                                                                       |
| <span data-ttu-id="da03d-252">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-252">nx_ip_driver_status</span></span>                | <span data-ttu-id="da03d-253">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-253">Completion status.</span></span> <span data-ttu-id="da03d-254">Jeśli sterownik nie może wysłać pakietu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-254">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="arp-send"></a><span data-ttu-id="da03d-255">Wysyłanie protokołu ARP</span><span class="sxs-lookup"><span data-stu-id="da03d-255">ARP Send</span></span>  
<span data-ttu-id="da03d-256">To żądanie jest również podobne do żądania wysłania pakietów IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-256">This request is also similar to the IP packet send request.</span></span> <span data-ttu-id="da03d-257">Jedyną różnicą jest to, że nagłówek Ethernet określa pakiet ARP zamiast pakietu IP, a docelowe pola adresów fizycznych są ustawiane na adres MAC emisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-257">The only difference is that the Ethernet header specifies an ARP packet instead of an IP packet, and destination physical address fields are set to MAC broadcast address.</span></span> <span data-ttu-id="da03d-258">Do żądania wysłania ARP są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="da03d-258">The following NX_IP_DRIVER members are used for the ARP send request.</span></span>

| <span data-ttu-id="da03d-259">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-259">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="da03d-260">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-260">Meaning</span></span>                                                                                                      |
|------------------------------------|--------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="da03d-261">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-261">nx_ip_driver_command</span></span>               | <span data-ttu-id="da03d-262">NX_LINK_ARP_SEND</span><span class="sxs-lookup"><span data-stu-id="da03d-262">NX_LINK_ARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="da03d-263">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-263">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="da03d-264">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-264">Pointer to IP instance</span></span>                                                                                       |
| <span data-ttu-id="da03d-265">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="da03d-265">nx_ip_driver_packet</span></span>                | <span data-ttu-id="da03d-266">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="da03d-266">Pointer to the packet to send</span></span>                                                                                |
| <span data-ttu-id="da03d-267">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="da03d-267">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="da03d-268">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="da03d-268">0x0000FFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="da03d-269">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-269">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="da03d-270">0xFFFFFFFF (emisja)</span><span class="sxs-lookup"><span data-stu-id="da03d-270">0xFFFFFFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="da03d-271">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-271">nx_ip_driver_interface</span></span>             | <span data-ttu-id="da03d-272">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-272">Pointer to the interface instance.</span></span>                                                                           |
| <span data-ttu-id="da03d-273">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-273">nx_ip_driver_status</span></span>                | <span data-ttu-id="da03d-274">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-274">Completion status.</span></span> <span data-ttu-id="da03d-275">Jeśli sterownik nie może wysłać pakietu ARP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-275">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-276">*Jeśli mapowanie fizyczne nie jest potrzebne, implementacja tego żądania nie jest wymagana*.</span><span class="sxs-lookup"><span data-stu-id="da03d-276">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

<span data-ttu-id="da03d-277">*Mimo że protokół ARP został zastąpiony protokołem Neighbor Discovery i protokołem odnajdowania routera w protokole IPv6, sterowniki sieciowe Ethernet muszą nadal być zgodne z komputerami równorzędnymi i routerami IPv4. W związku z tym sterowniki muszą nadal obsługiwać pakiety ARP*.</span><span class="sxs-lookup"><span data-stu-id="da03d-277">*Although ARP has been replaced with the Neighbor Discovery Protocol and the Router Discovery Protocol in IPv6, Ethernet network drivers must still be compatible with IPv4 peers and routers. Therefore, drivers must still handle ARP packets*.</span></span>

### <a name="arp-response-send"></a><span data-ttu-id="da03d-278">Wysyłanie odpowiedzi ARP</span><span class="sxs-lookup"><span data-stu-id="da03d-278">ARP Response Send</span></span>  
<span data-ttu-id="da03d-279">To żądanie jest niemal identyczne z żądaniem wysyłania pakietów protokołu ARP.</span><span class="sxs-lookup"><span data-stu-id="da03d-279">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="da03d-280">Jedyną różnicą jest to, że docelowe pola adresów fizycznych są przesyłane z wystąpienia IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-280">The only difference is the destination physical address fields are passed from the IP instance.</span></span> <span data-ttu-id="da03d-281">Do żądania wysłania odpowiedzi ARP są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="da03d-281">The following NX_IP_DRIVER members are used for the ARP response send request.</span></span>

| <span data-ttu-id="da03d-282">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-282">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="da03d-283">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-283">Meaning</span></span>                                  |
| -------------------------------------- | -----------------------------------------|
| <span data-ttu-id="da03d-284">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-284">nx_ip_driver_command</span></span>                | <span data-ttu-id="da03d-285">NX_LINK_ARP_RESPONSE_SEND</span><span class="sxs-lookup"><span data-stu-id="da03d-285">NX_LINK_ARP_RESPONSE_SEND</span></span>            |
| <span data-ttu-id="da03d-286">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-286">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="da03d-287">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-287">Pointer to IP instance</span></span>   |
| <span data-ttu-id="da03d-288">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="da03d-288">nx_ip_driver_packet</span></span>                 | <span data-ttu-id="da03d-289">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="da03d-289">Pointer to the packet to send</span></span>          |
| <span data-ttu-id="da03d-290">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="da03d-290">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="da03d-291">Najbardziej znaczące 32-bitów adresu fizycznego</span><span class="sxs-lookup"><span data-stu-id="da03d-291">Most significant 32-bits of physical address</span></span> |
| <span data-ttu-id="da03d-292">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-292">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="da03d-293">Najmniej znaczące 32-bitowe adresy fizyczne</span><span class="sxs-lookup"><span data-stu-id="da03d-293">Least significant 32-bits of physical address</span></span> |
| <span data-ttu-id="da03d-294">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-294">nx_ip_driver_interface</span></span>              | <span data-ttu-id="da03d-295">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-295">Pointer to the interface instance</span></span> |
| <span data-ttu-id="da03d-296">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-296">nx_ip_driver_status</span></span>                 | <span data-ttu-id="da03d-297">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-297">Completion status.</span></span> <span data-ttu-id="da03d-298">Jeśli sterownik nie może wysłać pakietu ARP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-298">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-299">*Jeśli mapowanie fizyczne nie jest potrzebne, implementacja tego żądania nie jest wymagana*.</span><span class="sxs-lookup"><span data-stu-id="da03d-299">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

### <a name="rarp-send"></a><span data-ttu-id="da03d-300">RARP wysyłaj</span><span class="sxs-lookup"><span data-stu-id="da03d-300">RARP Send</span></span>   
<span data-ttu-id="da03d-301">To żądanie jest niemal identyczne z żądaniem wysyłania pakietów protokołu ARP.</span><span class="sxs-lookup"><span data-stu-id="da03d-301">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="da03d-302">Jedyne różnice to typ nagłówka pakietu i pola adresu fizycznego nie są wymagane, ponieważ fizyczne miejsce docelowe jest zawsze adresem emisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-302">The only differences are the type of packet header and the physical address fields are not required because the physical destination is always a broadcast address.</span></span>

<span data-ttu-id="da03d-303">Następujące NX_IP_DRIVER elementy członkowskie są używane dla żądania wysłania RARP.</span><span class="sxs-lookup"><span data-stu-id="da03d-303">The following NX_IP_DRIVER members are used for the RARP send request.</span></span>

| <span data-ttu-id="da03d-304">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-304">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="da03d-305">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-305">Meaning</span></span>                                                                                                       |
|------------------------------------|---------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="da03d-306">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-306">nx_ip_driver_command</span></span>               | <span data-ttu-id="da03d-307">NX_LINK_RARP_SEND</span><span class="sxs-lookup"><span data-stu-id="da03d-307">NX_LINK_RARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="da03d-308">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-308">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="da03d-309">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-309">Pointer to IP instance</span></span>                                                                                        |
| <span data-ttu-id="da03d-310">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="da03d-310">nx_ip_driver_packet</span></span>                | <span data-ttu-id="da03d-311">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="da03d-311">Pointer to the packet to send</span></span>                                                                                 |
| <span data-ttu-id="da03d-312">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="da03d-312">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="da03d-313">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="da03d-313">0x0000FFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="da03d-314">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-314">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="da03d-315">0xFFFFFFFF (emisja)</span><span class="sxs-lookup"><span data-stu-id="da03d-315">0xFFFFFFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="da03d-316">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-316">nx_ip_driver_interface</span></span>             | <span data-ttu-id="da03d-317">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-317">Pointer to the interface instance.</span></span>                                                                            |
| <span data-ttu-id="da03d-318">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-318">nx_ip_driver_status</span></span>                | <span data-ttu-id="da03d-319">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-319">Completion status.</span></span> <span data-ttu-id="da03d-320">Jeśli sterownik nie może wysłać pakietu RARP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-320">If the driver is not able to send the RARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-321">*Aplikacje wymagające usługi RARP muszą implementować to polecenie*.</span><span class="sxs-lookup"><span data-stu-id="da03d-321">*Applications that require RARP service must implement this command*.</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="da03d-322">Przyłączanie do grupy multiemisji</span><span class="sxs-lookup"><span data-stu-id="da03d-322">Multicast Group Join</span></span>   
<span data-ttu-id="da03d-323">To żądanie jest nawiązywane za pomocą usługi ***nx_igmp_multicast_interface Join** _ i _*_nx_ipv4_multicast_interface_join_*_ w protokole IPv4, _ *_nxd_ipv6_multicast_interface_join_** Service w protokole IPv6 i różne operacje wymagane przez protokół IPv6.</span><span class="sxs-lookup"><span data-stu-id="da03d-323">This request is made with the ***nx_igmp_multicast_interface join** _ and _*_nx_ipv4_multicast_interface_join_*_ service in IPv4, _ *_nxd_ipv6_multicast_interface_join_** service in IPv6, and various operation required by IPv6.</span></span> <span data-ttu-id="da03d-324">Sterownik sieciowy przyjmuje podany adres grupy multiemisji i konfiguruje nośnik fizyczny do akceptowania pakietów przychodzących z tego adresu grupy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-324">The network driver takes the supplied multicast group address and sets up the physical media to accept incoming packets from that multicast group address.</span></span> <span data-ttu-id="da03d-325">Należy pamiętać, że w przypadku sterowników, które nie obsługują filtru multiemisji, logika odbierania sterowników może być w trybie ogólnym.</span><span class="sxs-lookup"><span data-stu-id="da03d-325">Note that for drivers that don't support multicast filter, the driver receive logic may have to be in promiscuous mode.</span></span> <span data-ttu-id="da03d-326">W takim przypadku może być konieczne odfiltrowanie ramek przychodzących na podstawie docelowego adresu MAC, co zmniejsza ilość ruchu przesyłanego do wystąpienia IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-326">In this case, the driver may need to filter incoming frames based on destination MAC address, thus reducing the amount of traffic passed into the IP instance.</span></span> <span data-ttu-id="da03d-327">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania dołączenia do grupy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-327">The following NX_IP_DRIVER members are used for the multicast group join request.</span></span>

| <span data-ttu-id="da03d-328">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-328">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="da03d-329">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-329">Meaning</span></span>                                 |
| -------------------------------------- | --------------------------------------- |
| <span data-ttu-id="da03d-330">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-330">nx_ip_driver_command</span></span>                | <span data-ttu-id="da03d-331">NX_LINK_MULTICAST_JOIN</span><span class="sxs-lookup"><span data-stu-id="da03d-331">NX_LINK_MULTICAST_JOIN</span></span>               |
| <span data-ttu-id="da03d-332">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-332">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="da03d-333">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-333">Pointer to IP instance</span></span>  |
| <span data-ttu-id="da03d-334">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="da03d-334">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="da03d-335">Najbardziej znaczące 32-bitowe fizyczne adresy multiemisji</span><span class="sxs-lookup"><span data-stu-id="da03d-335">Most significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="da03d-336">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-336">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="da03d-337">Najmniej znaczące 32-bitowe fizyczne adresy multiemisji</span><span class="sxs-lookup"><span data-stu-id="da03d-337">Least significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="da03d-338">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-338">nx_ip_driver_interface</span></span>              | <span data-ttu-id="da03d-339">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-339">Pointer to the interface instance</span></span> |
| <span data-ttu-id="da03d-340">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-340">nx_ip_driver_status</span></span>                 | <span data-ttu-id="da03d-341">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-341">Completion status.</span></span> <span data-ttu-id="da03d-342">Jeśli sterownik nie może dołączyć do grupy multiemisji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-342">If the driver is not able to join the multicast group, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="da03d-343">*Aplikacje IPv6 będą wymagały implementacji multiemisji w sterowniku dla protokołów opartych na protokole ICMPv6, takich jak konfiguracja adresu. Jednak w przypadku aplikacji IPv4 implementacja tego żądania nie jest konieczna, jeśli możliwości multiemisji nie są wymagane*.</span><span class="sxs-lookup"><span data-stu-id="da03d-343">*IPv6 applications will require multicast to be implemented in the driver for ICMPv6 based protocols such as address configuration. However, for IPv4 applications, implementation of this request is not necessary if multicast capabilities are not required*.</span></span>

> [!IMPORTANT]  
> <span data-ttu-id="da03d-344">*Jeśli protokół IPv6 nie jest włączony, a możliwości multiemisji nie są wymagane przez protokół IPv4, implementacja tego żądania nie jest wymagana*.</span><span class="sxs-lookup"><span data-stu-id="da03d-344">*If IPv6 is not enabled, and multicast capabilities are not required by IPv4, implementation of this request is not required*.</span></span>

### <a name="multicast-group-leave"></a><span data-ttu-id="da03d-345">Opuszczenie grupy multiemisji</span><span class="sxs-lookup"><span data-stu-id="da03d-345">Multicast Group Leave</span></span>  
<span data-ttu-id="da03d-346">To żądanie jest wywoływane przez jawne wywołanie usług ***nx_igmp_multicast_interface_leave** _ lub _*_nx_ipv4_multicast_interface_leave_*_ w protokole IPv4, _ *_nxd_ipv6_multicast_interface_leave_** Service w protokole IPv6 lub przez różne wewnętrzne operacje NetX Duo wymagane dla protokołu IPv6.</span><span class="sxs-lookup"><span data-stu-id="da03d-346">This request is invoked by explicitly calling the ***nx_igmp_multicast_interface_leave** _ or _*_nx_ipv4_multicast_interface_leave_*_ services in IPv4, _ *_nxd_ipv6_multicast_interface_leave_** service in IPv6, or by various internal NetX Duo operations required for IPv6.</span></span> <span data-ttu-id="da03d-347">Sterownik usuwa podany adres multiemisji Ethernet z listy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-347">The driver removes the supplied Ethernet multicast address from the multicast list.</span></span> <span data-ttu-id="da03d-348">Gdy host opuścił grupę multiemisji, pakiety w sieci z tym adresem multiemisji Ethernet nie są już odbierane przez to wystąpienie tego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-348">After a host has left a multicast group, packets on the network with this Ethernet multicast address are no longer received by this IP instance.</span></span> <span data-ttu-id="da03d-349">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania opuszczenia grupy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-349">The following NX_IP_DRIVER members are used for the multicast group leave request.</span></span>

| <span data-ttu-id="da03d-350">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-350">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="da03d-351">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-351">Meaning</span></span>                              |
| -----------------------------------| -------------------------------------|
| <span data-ttu-id="da03d-352">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-352">nx_ip_driver_command</span></span>            | <span data-ttu-id="da03d-353">NX_LINK_MULTICAST_LEAVE</span><span class="sxs-lookup"><span data-stu-id="da03d-353">NX_LINK_MULTICAST_LEAVE</span></span>           |
| <span data-ttu-id="da03d-354">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-354">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="da03d-355">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-355">Pointer to IP instance</span></span>   |
| <span data-ttu-id="da03d-356">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="da03d-356">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="da03d-357">Najbardziej znaczące 32 bitów fizycznego adresu multiemisji</span><span class="sxs-lookup"><span data-stu-id="da03d-357">Most significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="da03d-358">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-358">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="da03d-359">Najmniej znaczące 32 bitów fizycznego adresu multiemisji</span><span class="sxs-lookup"><span data-stu-id="da03d-359">Least significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="da03d-360">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-360">nx_ip_driver_interface</span></span>              | <span data-ttu-id="da03d-361">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-361">Pointer to the interface instance</span></span> |
| <span data-ttu-id="da03d-362">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-362">nx_ip_driver_status</span></span>                 | <span data-ttu-id="da03d-363">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-363">Completion status.</span></span> <span data-ttu-id="da03d-364">Jeśli sterownik nie może opuścić grupy multiemisji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-364">If the driver is not able to leave the multicast group, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-365">*Jeśli możliwości multiemisji nie są wymagane przez protokół IPv4 lub IPv6, implementacja tego żądania nie jest wymagana*.</span><span class="sxs-lookup"><span data-stu-id="da03d-365">*If multicast capabilities are not required by either IPv4 or IPv6, implementation of this request is not required*.</span></span>

### <a name="attach-interface"></a><span data-ttu-id="da03d-366">Dołącz interfejs</span><span class="sxs-lookup"><span data-stu-id="da03d-366">Attach Interface</span></span>  
<span data-ttu-id="da03d-367">To żądanie jest wywoływane z NetX Duo do sterownika urządzenia, umożliwiając sterownikowi skojarzenie wystąpienia sterownika z odpowiednim wystąpieniem IP i wystąpieniem interfejsu fizycznego w ramach adresu IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-367">This request is invoked from the NetX Duo to the device driver, allowing the driver to associate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="da03d-368">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania dołączania interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-368">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="da03d-369">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-369">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="da03d-370">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-370">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="da03d-371">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-371">nx_ip_driver_command</span></span>   | <span data-ttu-id="da03d-372">NX_LINK_INTERFACE_ATTACH</span><span class="sxs-lookup"><span data-stu-id="da03d-372">NX_LINK_INTERFACE_ATTACH</span></span> |
| <span data-ttu-id="da03d-373">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-373">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="da03d-374">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-374">Pointer to IP instance</span></span>   |
| <span data-ttu-id="da03d-375">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-375">nx_ip_driver_interface</span></span> | <span data-ttu-id="da03d-376">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-376">Pointer to the interface instance.</span></span>|
| <span data-ttu-id="da03d-377">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-377">nx_ip_driver_status</span></span>    | <span data-ttu-id="da03d-378">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-378">Completion status.</span></span> <span data-ttu-id="da03d-379">Jeśli sterownik nie może odłączyć określonego interfejsu do wystąpienia IP, zostanie zwrócony stan błędu różny od zera.</span><span class="sxs-lookup"><span data-stu-id="da03d-379">If the driver is not able to detach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="detach-interface"></a><span data-ttu-id="da03d-380">Odłącz interfejs</span><span class="sxs-lookup"><span data-stu-id="da03d-380">Detach Interface</span></span>    
<span data-ttu-id="da03d-381">To żądanie jest wywoływane przez NetX Duo do sterownika urządzenia, umożliwiając sterownikowi skojarzenie wystąpienia sterownika z odpowiednim wystąpieniem IP i wystąpieniem interfejsu fizycznego w ramach adresu IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-381">This request is invoked by NetX Duo to the device driver, allowing the driver to disassociate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="da03d-382">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania dołączania interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-382">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="da03d-383">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-383">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="da03d-384">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-384">Meaning</span></span>                                                                                                                                    |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="da03d-385">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-385">nx_ip_driver_command</span></span>   | <span data-ttu-id="da03d-386">NX_LINK_INTERFACE_DETACH</span><span class="sxs-lookup"><span data-stu-id="da03d-386">NX_LINK_INTERFACE_DETACH</span></span>                                                                                                                   |
| <span data-ttu-id="da03d-387">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-387">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="da03d-388">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-388">Pointer to IP instance</span></span>                                                                                                                     |
| <span data-ttu-id="da03d-389">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-389">nx_ip_driver_interface</span></span> | <span data-ttu-id="da03d-390">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="da03d-390">Pointer to the interface instance.</span></span>                                                                                                         |
| <span data-ttu-id="da03d-391">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-391">nx_ip_driver_status</span></span>    | <span data-ttu-id="da03d-392">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-392">Completion status.</span></span> <span data-ttu-id="da03d-393">Jeśli sterownik nie może dołączyć określonego interfejsu do wystąpienia protokołu IP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-393">If the driver is not able to attach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="get-link-status"></a><span data-ttu-id="da03d-394">Pobierz stan łącza</span><span class="sxs-lookup"><span data-stu-id="da03d-394">Get Link Status</span></span>    
<span data-ttu-id="da03d-395">Aplikacja może wysyłać zapytania o stan łącza interfejsu sieciowego za pomocą usługi NetX Duo ***nx_ip_interface_status_check*** Service dla dowolnego interfejsu na hoście.</span><span class="sxs-lookup"><span data-stu-id="da03d-395">The application can query the network interface link status using the NetX Duo service ***nx_ip_interface_status_check*** service for any interface on the host.</span></span> <span data-ttu-id="da03d-396">Aby uzyskać więcej informacji na temat tych usług, zobacz rozdział 4 "Opis usług NetX Duo" na stronie 149.</span><span class="sxs-lookup"><span data-stu-id="da03d-396">See Chapter 4, "Description of NetX Duo Services" on page 149, for more details on these services.</span></span>

<span data-ttu-id="da03d-397">Stan łącza jest zawarty w polu *nx_interface_link_up* w strukturze NX_INTERFACE wskazywanym przez *nx_ip_driver_interface* wskaźnik.</span><span class="sxs-lookup"><span data-stu-id="da03d-397">The link status is contained in the *nx_interface_link_up* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* pointer.</span></span> <span data-ttu-id="da03d-398">Do żądania stanu linku są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="da03d-398">The following NX_IP_DRIVER members are used for the link status request.</span></span>

| <span data-ttu-id="da03d-399">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-399">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="da03d-400">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-400">Meaning</span></span>                  |
| --------------------------- | -------------------------|
| <span data-ttu-id="da03d-401">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-401">nx_ip_driver_command</span></span>     | <span data-ttu-id="da03d-402">NX_LINK_GET_STATUS</span><span class="sxs-lookup"><span data-stu-id="da03d-402">NX_LINK_GET_STATUS</span></span>    |
| <span data-ttu-id="da03d-403">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-403">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="da03d-404">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-404">Pointer to IP instance</span></span>   |
| <span data-ttu-id="da03d-405">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-405">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-406">Wskaźnik do miejsca docelowego w celu umieszczenia stanu.</span><span class="sxs-lookup"><span data-stu-id="da03d-406">Pointer to the destination to place the status.</span></span> |
| <span data-ttu-id="da03d-407">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-407">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-408">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-408">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="da03d-409">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-409">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-410">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-410">Completion status.</span></span> <span data-ttu-id="da03d-411">Jeśli sterownik nie może uzyskać określonego stanu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-411">If the driver is not able to get specific status, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="da03d-412">\***nx_ip_status_check** _ jest nadal dostępny do sprawdzenia stanu interfejsu podstawowego.</span><span class="sxs-lookup"><span data-stu-id="da03d-412">\***nx_ip_status_check** _ is still available for checking the status of the primary interface.</span></span> <span data-ttu-id="da03d-413">Jednak deweloperzy aplikacji zachęca się do korzystania z usługi specyficznej dla interfejsu: _ *_nx_ip_interface_status_check._*\*</span><span class="sxs-lookup"><span data-stu-id="da03d-413">However, application developers are encouraged to use the interface specific service: _ *_nx_ip_interface_status_check._*\*</span></span>

### <a name="get-link-speed"></a><span data-ttu-id="da03d-414">Pobierz szybkość łącza</span><span class="sxs-lookup"><span data-stu-id="da03d-414">Get Link Speed</span></span>  
<span data-ttu-id="da03d-415">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="da03d-415">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="da03d-416">Sterownik przechowuje szybkość linii linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="da03d-416">The driver stores the link's line speed in the supplied destination.</span></span> <span data-ttu-id="da03d-417">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania szybkiej szybkości łącza.</span><span class="sxs-lookup"><span data-stu-id="da03d-417">The following NX_IP_DRIVER members are used for the link line speed request.</span></span>

| <span data-ttu-id="da03d-418">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-418">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="da03d-419">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-419">Meaning</span></span>                   |
| ------------------------| ------------------------- |
| <span data-ttu-id="da03d-420">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-420">nx_ip_driver_command</span></span>     | <span data-ttu-id="da03d-421">NX_LINK_GET_SPEED</span><span class="sxs-lookup"><span data-stu-id="da03d-421">NX_LINK_GET_SPEED</span></span>          |
| <span data-ttu-id="da03d-422">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-422">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="da03d-423">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-423">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="da03d-424">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-424">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-425">Wskaźnik do miejsca docelowego, aby umieścić szybkość linii</span><span class="sxs-lookup"><span data-stu-id="da03d-425">Pointer to the destination to place the line speed</span></span>                                                             |
| <span data-ttu-id="da03d-426">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-426">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-427">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-427">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="da03d-428">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-428">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-429">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-429">Completion status.</span></span> <span data-ttu-id="da03d-430">Jeśli sterownik nie może uzyskać informacji o szybkości, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-430">If the driver is not able to get speed information, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-431">*To żądanie nie jest używane wewnętrznie przez NetX Duo, więc jego implementacja jest opcjonalna*.</span><span class="sxs-lookup"><span data-stu-id="da03d-431">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-duplex-type"></a><span data-ttu-id="da03d-432">Pobierz typ dupleksu</span><span class="sxs-lookup"><span data-stu-id="da03d-432">Get Duplex Type</span></span>   
<span data-ttu-id="da03d-433">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="da03d-433">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="da03d-434">Sterownik przechowuje typ dupleksu linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="da03d-434">The driver stores the link's duplex type in the supplied destination.</span></span> <span data-ttu-id="da03d-435">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania typu dupleksowego.</span><span class="sxs-lookup"><span data-stu-id="da03d-435">The following NX_IP_DRIVER members are used for the duplex type request.</span></span>

| <span data-ttu-id="da03d-436">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-436">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="da03d-437">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-437">Meaning</span></span>                                                                                                    |
| --------------------------- | -------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="da03d-438">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-438">nx_ip_driver_command</span></span>     | <span data-ttu-id="da03d-439">NX_LINK_GET_DUPLEX_TYPE</span><span class="sxs-lookup"><span data-stu-id="da03d-439">NX_LINK_GET_DUPLEX_TYPE</span></span>                                                                                    |
| <span data-ttu-id="da03d-440">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-440">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="da03d-441">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-441">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="da03d-442">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-442">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-443">Wskaźnik do miejsca docelowego w celu umieszczenia typu dupleksowego</span><span class="sxs-lookup"><span data-stu-id="da03d-443">Pointer to the destination to place the duplex type</span></span>                                                            |
| <span data-ttu-id="da03d-444">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-444">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-445">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-445">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="da03d-446">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-446">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-447">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-447">Completion status.</span></span> <span data-ttu-id="da03d-448">Jeśli sterownik nie może uzyskać informacji o dupleksie, spowoduje to zwrócenie stanu błędu o wartości niezerowej.</span><span class="sxs-lookup"><span data-stu-id="da03d-448">If the driver is not able to get duplex information, it will return a nonzero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-449">*To żądanie nie jest używane wewnętrznie przez NetX Duo, więc jego implementacja jest opcjonalna*.</span><span class="sxs-lookup"><span data-stu-id="da03d-449">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-error-count"></a><span data-ttu-id="da03d-450">Pobierz liczbę błędów</span><span class="sxs-lookup"><span data-stu-id="da03d-450">Get Error Count</span></span>   
<span data-ttu-id="da03d-451">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="da03d-451">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="da03d-452">Sterownik przechowuje liczbę błędów linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="da03d-452">The driver stores the link's error count in the supplied destination.</span></span> <span data-ttu-id="da03d-453">Aby zapewnić obsługę tej funkcji, Sterownik musi śledzić błędy operacji.</span><span class="sxs-lookup"><span data-stu-id="da03d-453">To support this feature, the driver needs to track operation errors.</span></span> <span data-ttu-id="da03d-454">Do żądania liczby błędów linków są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="da03d-454">The following NX_IP_DRIVER members are used for the link error count request.</span></span>

| <span data-ttu-id="da03d-455">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-455">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="da03d-456">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-456">Meaning</span></span>                   |
| --------------------------- | -------------------------------|
| <span data-ttu-id="da03d-457">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-457">nx_ip_driver_command</span></span>     | <span data-ttu-id="da03d-458">NX_LINK_GET_ERROR_COUNT</span><span class="sxs-lookup"><span data-stu-id="da03d-458">NX_LINK_GET_ERROR_COUNT</span></span>   |
| <span data-ttu-id="da03d-459">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-459">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="da03d-460">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-460">Pointer to IP instance</span></span>   |
| <span data-ttu-id="da03d-461">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-461">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-462">Wskaźnik do miejsca docelowego, w którym ma zostać umieszczona liczba błędów</span><span class="sxs-lookup"><span data-stu-id="da03d-462">Pointer to the destination to place the error count</span></span> |
| <span data-ttu-id="da03d-463">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-463">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-464">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-464">Pointer to the interface instance</span></span>|
| <span data-ttu-id="da03d-465">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-465">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-466">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-466">Completion status.</span></span> <span data-ttu-id="da03d-467">Jeśli sterownik nie może uzyskać liczby błędów, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-467">If the driver is not able to get error count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="da03d-468">*To żądanie nie jest używane wewnętrznie przez NetX Duo, więc jego implementacja jest opcjonalna*.</span><span class="sxs-lookup"><span data-stu-id="da03d-468">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-receive-packet-count"></a><span data-ttu-id="da03d-469">Pobierz liczbę pakietów odebranych</span><span class="sxs-lookup"><span data-stu-id="da03d-469">Get Receive Packet Count</span></span>    
<span data-ttu-id="da03d-470">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="da03d-470">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="da03d-471">Sterownik przechowuje liczbę pakietów odbioru linku w podanej lokalizacji docelowej.</span><span class="sxs-lookup"><span data-stu-id="da03d-471">The driver stores the link's receive packet count in the supplied destination.</span></span> <span data-ttu-id="da03d-472">Aby zapewnić obsługę tej funkcji, Sterownik musi śledzić liczbę odebranych pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-472">To support this feature, the driver needs to keep track of the number of packets received.</span></span> <span data-ttu-id="da03d-473">Następujące NX_IP_DRIVER członkowie są używani do żądania odebrania liczby pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-473">The following NX_IP_DRIVER members are used for the link receive packet count request.</span></span>

| <span data-ttu-id="da03d-474">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-474">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="da03d-475">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-475">Meaning</span></span>                        |
| --------------------------- | -------------------------------|
| <span data-ttu-id="da03d-476">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-476">nx_ip_driver_command</span></span>     | <span data-ttu-id="da03d-477">NX_LINK_GET_RX_COUNT</span><span class="sxs-lookup"><span data-stu-id="da03d-477">NX_LINK_GET_RX_COUNT</span></span>      |
| <span data-ttu-id="da03d-478">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-478">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="da03d-479">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-479">Pointer to IP instance</span></span>  |
| <span data-ttu-id="da03d-480">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-480">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-481">Wskaźnik do miejsca docelowego, w którym ma zostać umieszczona liczba pakietów odbieranych</span><span class="sxs-lookup"><span data-stu-id="da03d-481">Pointer to the destination to place the receive packet count</span></span>   |
| <span data-ttu-id="da03d-482">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-482">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-483">Wskaźnik do fizycznego interfejsu sieciowego</span><span class="sxs-lookup"><span data-stu-id="da03d-483">Pointer to the physical network interface</span></span>  |
| <span data-ttu-id="da03d-484">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-484">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-485">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-485">Completion status.</span></span> <span data-ttu-id="da03d-486">Jeśli sterownik nie może uzyskać liczby odbieranych, zostanie zwrócony stan błędu różny od zera.</span><span class="sxs-lookup"><span data-stu-id="da03d-486">If the driver is not able to get receive count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-487">*To żądanie nie jest używane wewnętrznie przez NetX Duo, więc jego implementacja jest opcjonalna*.</span><span class="sxs-lookup"><span data-stu-id="da03d-487">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-transmit-packet-count"></a><span data-ttu-id="da03d-488">Pobierz liczbę pakietów transmisji</span><span class="sxs-lookup"><span data-stu-id="da03d-488">Get Transmit Packet Count</span></span>   
<span data-ttu-id="da03d-489">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="da03d-489">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="da03d-490">Sterownik przechowuje liczbę pakietów przesyłanych przez link w podanej lokalizacji docelowej.</span><span class="sxs-lookup"><span data-stu-id="da03d-490">The driver stores the link's transmit packet count in the supplied destination.</span></span> <span data-ttu-id="da03d-491">Aby zapewnić obsługę tej funkcji, Sterownik musi śledzić każdy pakiet przesyłany w każdym interfejsie.</span><span class="sxs-lookup"><span data-stu-id="da03d-491">To support this feature, the driver needs to keep track of each packet it transmits on each interface.</span></span> <span data-ttu-id="da03d-492">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania liczby pakietów przesyłania linku.</span><span class="sxs-lookup"><span data-stu-id="da03d-492">The following  NX_IP_DRIVER members are used for the link transmit packet count request.</span></span>

| <span data-ttu-id="da03d-493">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-493">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="da03d-494">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-494">Meaning</span></span>                   |
| ----------------------- | ------------------------- |
| <span data-ttu-id="da03d-495">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-495">nx_ip_driver_command</span></span> | <span data-ttu-id="da03d-496">NX_LINK_GET_TX_COUNT</span><span class="sxs-lookup"><span data-stu-id="da03d-496">NX_LINK_GET_TX_COUNT</span></span>  |
| <span data-ttu-id="da03d-497">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-497">nx_ip_driver_ptr</span></span>     | <span data-ttu-id="da03d-498">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-498">Pointer to IP instance</span></span>    |
| <span data-ttu-id="da03d-499">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-499">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-500">Wskaźnik do lokalizacji docelowej, w której ma zostać umieszczona liczba pakietów transmisji</span><span class="sxs-lookup"><span data-stu-id="da03d-500">Pointer to the destination to place the transmit packet count</span></span>  |
| <span data-ttu-id="da03d-501">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-501">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-502">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-502">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="da03d-503">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-503">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-504">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-504">Completion status.</span></span> <span data-ttu-id="da03d-505">Jeśli sterownik nie jest w stanie uzyskać liczby transmisji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-505">If the driver is not able to get transmit count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-506">*To żądanie nie jest używane wewnętrznie przez NetX Duo, więc jego implementacja jest opcjonalna*.</span><span class="sxs-lookup"><span data-stu-id="da03d-506">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-allocation-errors"></a><span data-ttu-id="da03d-507">Pobierz błędy alokacji</span><span class="sxs-lookup"><span data-stu-id="da03d-507">Get Allocation Errors</span></span>   
<span data-ttu-id="da03d-508">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="da03d-508">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="da03d-509">Sterownik przechowuje liczbę błędów alokacji puli pakietów linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="da03d-509">The driver stores the link's packet pool allocation error count in the supplied destination.</span></span> <span data-ttu-id="da03d-510">Do żądania liczby błędów alokacji łącza są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="da03d-510">The following NX_IP_DRIVER members are used for the link allocation error count request.</span></span>

| <span data-ttu-id="da03d-511">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-511">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="da03d-512">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-512">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="da03d-513">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-513">nx_ip_driver_command</span></span>     | <span data-ttu-id="da03d-514">NX_LINK_GET_ALLOC_ERRORS</span><span class="sxs-lookup"><span data-stu-id="da03d-514">NX_LINK_GET_ALLOC_ERRORS</span></span>  |
| <span data-ttu-id="da03d-515">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-515">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="da03d-516">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-516">Pointer to IP instance</span></span>     |
| <span data-ttu-id="da03d-517">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-517">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-518">Wskaźnik do miejsca docelowego, w którym ma zostać umieszczona liczba błędów alokacji</span><span class="sxs-lookup"><span data-stu-id="da03d-518">Pointer to the destination to place the allocation error count</span></span>  |
| <span data-ttu-id="da03d-519">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-519">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-520">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-520">Pointer to the interface instance</span></span>  |
| <span data-ttu-id="da03d-521">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-521">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-522">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-522">Completion status.</span></span> <span data-ttu-id="da03d-523">Jeśli sterownik nie może pobrać błędów alokacji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-523">If the driver is not able to get allocation errors, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="da03d-524">*To żądanie nie jest używane wewnętrznie przez NetX Duo, więc jego implementacja jest opcjonalna*.</span><span class="sxs-lookup"><span data-stu-id="da03d-524">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="driver-deferred-processing"></a><span data-ttu-id="da03d-525">Przetwarzanie Odroczone sterownika</span><span class="sxs-lookup"><span data-stu-id="da03d-525">Driver Deferred Processing</span></span>    
<span data-ttu-id="da03d-526">To żądanie jest nawiązywane z wątku pomocnika IP w odpowiedzi na sterownik wywołujący procedurę _\* **nx_ip_driver_deferred_processing**_ z przesyłania lub odbierania funkcji ISR.</span><span class="sxs-lookup"><span data-stu-id="da03d-526">This request is made from the IP helper thread in response to the driver calling the _\***nx_ip_driver_deferred_processing**_ routine from a transmit or receive ISR.</span></span> <span data-ttu-id="da03d-527">Dzięki temu sterownik może opóźniać odbieranie i przesyłanie pakietów do wątku pomocnika IP, a tym samym zmniejszyć ilość do przetworzenia w procesie ISR.</span><span class="sxs-lookup"><span data-stu-id="da03d-527">This allows the driver ISR to defer the packet receive and transmit processing to the IP helper thread and thus reduce the amount to process in the ISR.</span></span> <span data-ttu-id="da03d-528">Pole _nx_interface_additional_link_info \* w strukturze NX_INTERFACE wskazywane przez *nx_ip_driver_interface* może być używane przez sterownik do przechowywania informacji o odroczonym zdarzeniu przetwarzania z kontekstu wątku pomocnika IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-528">The _nx_interface_additional_link_info\* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* may be used by the driver to store information about the deferred processing event from the IP helper thread context.</span></span> <span data-ttu-id="da03d-529">Następujące NX_IP_DRIVER elementy członkowskie są używane dla zdarzenia odroczonego przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="da03d-529">The following  NX_IP_DRIVER members are used for the deferred processing event.</span></span>

| <span data-ttu-id="da03d-530">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-530">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="da03d-531">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-531">Meaning</span></span>                           |
| ------------------------- | --------------------------------- |
| <span data-ttu-id="da03d-532">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-532">nx_ip_driver_command</span></span>   | <span data-ttu-id="da03d-533">NX_LINK_DEFERRED_PROCESSING</span><span class="sxs-lookup"><span data-stu-id="da03d-533">NX_LINK_DEFERRED_PROCESSING</span></span>    |
| <span data-ttu-id="da03d-534">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-534">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="da03d-535">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-535">Pointer to IP instance</span></span>            |
| <span data-ttu-id="da03d-536">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-536">nx_ip_driver_interface</span></span> | <span data-ttu-id="da03d-537">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-537">Pointer to the interface instance</span></span> |

### <a name="set-physical-address"></a><span data-ttu-id="da03d-538">Ustaw adres fizyczny</span><span class="sxs-lookup"><span data-stu-id="da03d-538">Set Physical Address</span></span>  
<span data-ttu-id="da03d-539">To żądanie jest wykonywane z poziomu usługi \***nx_ip_interface_physical_address_set** _.</span><span class="sxs-lookup"><span data-stu-id="da03d-539">This request is made from within the \***nx_ip_interface_physical_address_set** _ service.</span></span> <span data-ttu-id="da03d-540">Ta usługa umożliwia aplikacji zmianę adresu fizycznego interfejsu w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="da03d-540">This service allows an application to change the interface physical address at run time.</span></span> <span data-ttu-id="da03d-541">Po odebraniu tego polecenia sterownik jest wymagany do ponownego skonfigurowania adresu sprzętowego interfejsu sieciowego do podanego adresu fizycznego.</span><span class="sxs-lookup"><span data-stu-id="da03d-541">On receiving this command, the driver is required to re-configure the hardware address of the network interface to the supplied physical address.</span></span> <span data-ttu-id="da03d-542">Ponieważ wystąpienie adresu IP ma już nowy adres, nie trzeba wywoływać usługi _ *_nx_ip_interface_address_set_*\* z tego polecenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-542">Since the IP instance already has the new address, there is no need to call the _ *_nx_ip_interface_address_set_*\* service from this command.</span></span>

<span data-ttu-id="da03d-543">Następujące NX_IP_DRIVER elementy członkowskie są używane dla żądania polecenia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="da03d-543">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="da03d-544">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-544">NX_IP_DRIVER&nbsp;member</span></span>      | <span data-ttu-id="da03d-545">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-545">Meaning</span></span>                      |
| -------------------------- | ---------------------------- |
| <span data-ttu-id="da03d-546">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-546">nx_ip_driver_command</span></span>    | <span data-ttu-id="da03d-547">NX_LINK_SET_PHYSICAL_ADDRESS</span><span class="sxs-lookup"><span data-stu-id="da03d-547">NX_LINK_SET_PHYSICAL_ADDRESS</span></span>  |
| <span data-ttu-id="da03d-548">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-548">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="da03d-549">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-549">Pointer to IP instance</span></span>  |
| <span data-ttu-id="da03d-550">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-550">nx_ip_driver_interface</span></span>  | <span data-ttu-id="da03d-551">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-551">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="da03d-552">nx_ip_driver_physical_ad dress_msw</span><span class="sxs-lookup"><span data-stu-id="da03d-552">nx_ip_driver_physical_ad dress_msw</span></span> | <span data-ttu-id="da03d-553">Najbardziej znaczące 32-bitów nowego adresu fizycznego</span><span class="sxs-lookup"><span data-stu-id="da03d-553">Most significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="da03d-554">nx_ip_driver_physical_ad dress_lsw</span><span class="sxs-lookup"><span data-stu-id="da03d-554">nx_ip_driver_physical_ad dress_lsw</span></span> | <span data-ttu-id="da03d-555">Najmniej znaczące 32-bitów nowego adresu fizycznego</span><span class="sxs-lookup"><span data-stu-id="da03d-555">Least significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="da03d-556">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-556">nx_ip_driver_status</span></span>                  | <span data-ttu-id="da03d-557">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-557">Completion status.</span></span> <span data-ttu-id="da03d-558">Jeśli sterownik nie może zmienić konfiguracji adresu fizycznego, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-558">If the driver is not able to reconfigure the physical address, it will return a non-zero error status.</span></span> |

### <a name="user-commands"></a><span data-ttu-id="da03d-559">Polecenia użytkownika</span><span class="sxs-lookup"><span data-stu-id="da03d-559">User Commands</span></span>    
<span data-ttu-id="da03d-560">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="da03d-560">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="da03d-561">Sterownik przetwarza polecenia użytkownika specyficzne dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="da03d-561">The driver processes the application specific user commands.</span></span> <span data-ttu-id="da03d-562">Następujące NX_IP_DRIVER elementy członkowskie są używane dla żądania polecenia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="da03d-562">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="da03d-563">NX_IP_DRIVER &nbsp; składową</span><span class="sxs-lookup"><span data-stu-id="da03d-563">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="da03d-564">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="da03d-564">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="da03d-565">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="da03d-565">nx_ip_driver_command</span></span>     | <span data-ttu-id="da03d-566">NX_LINK_USER_COMMAND</span><span class="sxs-lookup"><span data-stu-id="da03d-566">NX_LINK_USER_COMMAND</span></span>       |
| <span data-ttu-id="da03d-567">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-567">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="da03d-568">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="da03d-568">Pointer to IP instance</span></span>        |
| <span data-ttu-id="da03d-569">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="da03d-569">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="da03d-570">Zdefiniowane przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="da03d-570">User defined</span></span>       |
| <span data-ttu-id="da03d-571">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="da03d-571">nx_ip_driver_interface</span></span>   | <span data-ttu-id="da03d-572">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="da03d-572">Pointer to the interface instance</span></span>    |
| <span data-ttu-id="da03d-573">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="da03d-573">nx_ip_driver_status</span></span>      | <span data-ttu-id="da03d-574">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-574">Completion status.</span></span> <span data-ttu-id="da03d-575">Jeśli sterownik nie może wykonać poleceń użytkownika, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="da03d-575">If the driver is not able to execute user commands, it will return a non-zero error status.</span></span> |

> [!IMPORTANT] 
> <span data-ttu-id="da03d-576">*To żądanie nie jest używane wewnętrznie przez NetX Duo, więc jego implementacja jest opcjonalna*.</span><span class="sxs-lookup"><span data-stu-id="da03d-576">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="unimplemented-commands"></a><span data-ttu-id="da03d-577">Niezaimplementowane polecenia</span><span class="sxs-lookup"><span data-stu-id="da03d-577">Unimplemented Commands</span></span>  
<span data-ttu-id="da03d-578">Polecenia niezaimplementowane przez sterownik sieciowy muszą mieć pole stanu powrotu ustawione na NX_UNHANDLED_COMMAND.</span><span class="sxs-lookup"><span data-stu-id="da03d-578">Commands unimplemented by the network driver must have the return status field set to NX_UNHANDLED_COMMAND.</span></span>

## <a name="driver-capability"></a><span data-ttu-id="da03d-579">Możliwość sterownika</span><span class="sxs-lookup"><span data-stu-id="da03d-579">Driver Capability</span></span>

<span data-ttu-id="da03d-580">Niektóre interfejsy sieciowe oferują funkcje odciążania sum kontrolnych.</span><span class="sxs-lookup"><span data-stu-id="da03d-580">Some network interfaces offer checksum offload features.</span></span> <span data-ttu-id="da03d-581">Sterowniki urządzeń mogą korzystać z przyspieszania sprzętowego w celu zwolnienia czasu procesora CPU od uruchamiania różnych obliczeń sum kontrolnych.</span><span class="sxs-lookup"><span data-stu-id="da03d-581">Device drivers may take advantage of the hardware accelerations to free up CPU time from running various checksum computations.</span></span>

<span data-ttu-id="da03d-582">W zależności od poziomu sprzętu, sterownik urządzenia musi poinformować wystąpienie IP, która funkcja sprzętowa jest włączona.</span><span class="sxs-lookup"><span data-stu-id="da03d-582">Depending the level of hardware checksum support from the hardware, the device driver needs to inform the IP instance which hardware feature is enabled.</span></span> <span data-ttu-id="da03d-583">W ten sposób wystąpienie protokołu IP jest świadome funkcji sprzętowej i odciążania jak największej ilości obliczeń na sprzęcie.</span><span class="sxs-lookup"><span data-stu-id="da03d-583">This way, the IP instance is aware of the hardware feature, and offload as much computation to the hardware as possible.</span></span> <span data-ttu-id="da03d-584">Sterownik powinien używać ***nx_ip_interface_capability_set*** interfejsu API do ustawiania wszystkich funkcji, które interfejs fizyczny może obsłużyć.</span><span class="sxs-lookup"><span data-stu-id="da03d-584">The driver should use the API ***nx_ip_interface_capability_set*** to set all the features the physical interface is able to handle.</span></span>

<span data-ttu-id="da03d-585">Mogą być używane następujące funkcje:</span><span class="sxs-lookup"><span data-stu-id="da03d-585">The following features can be used:</span></span>

- <span data-ttu-id="da03d-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span></span>
- <span data-ttu-id="da03d-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="da03d-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span></span>

<span data-ttu-id="da03d-598">W przypadku obliczeń sum kontrolnych, które mogą być wykonywane na sprzęcie, Sterownik musi odpowiednio skonfigurować sprzęt lub deskryptory buforów, aby można było wygenerować sumę kontrolną dla pakietu wyjściowego i wstawić ją do nagłówka przez sprzęt.</span><span class="sxs-lookup"><span data-stu-id="da03d-598">For a checksum computation that can be performed in hardware, the driver must set up the hardware or the buffer descriptors correctly so the checksum for an out-going packet can be generated and inserted into the header by the hardware.</span></span> <span data-ttu-id="da03d-599">W przypadku odebrania pakietu logika sumy kontrolnej sprzętowego powinna mieć możliwość zweryfikowania wartości sumy kontrolnej.</span><span class="sxs-lookup"><span data-stu-id="da03d-599">On receiving a packet, the hardware checksum logic should be able to verify the checksum value.</span></span> <span data-ttu-id="da03d-600">Jeśli wartość sumy kontrolnej jest niepoprawna, odebrana ramka powinna zostać odrzucona.</span><span class="sxs-lookup"><span data-stu-id="da03d-600">If the checksum value is incorrect, the received frame should be discarded.</span></span>

<span data-ttu-id="da03d-601">Nawet w przypadku możliwości wykonywania obliczeń sum kontrolnych na sprzęcie wystąpienie protokołu IP nadal zachowuje funkcję sumy kontrolnej.</span><span class="sxs-lookup"><span data-stu-id="da03d-601">Even with the capability of performing checksum computation in hardware, the IP instance still maintains the checksum capability.</span></span> <span data-ttu-id="da03d-602">W niektórych scenariuszach, na przykład datagram UDP przechodzący przez ochronę IPsec, należy obliczyć sumę kontrolną UDP w oprogramowaniu przed przekazaniem ramki UDP w dół stosu.</span><span class="sxs-lookup"><span data-stu-id="da03d-602">In certain scenarios, for example a UDP datagram going through IPsec protection, the UDP checksum must be computed in software before passing the UDP frame down the stack.</span></span> <span data-ttu-id="da03d-603">Większość funkcji sumy kontrolnej sprzętu nie obsługuje obliczeń sum kontrolnych dla segmentu danych chronionych przez protokół IPsec.</span><span class="sxs-lookup"><span data-stu-id="da03d-603">Most hardware checksum feature does not support checksum computation for a segment of data protected by IPsec.</span></span> <span data-ttu-id="da03d-604">Dla ramki UDP lub ICMP, która musi być pofragmentowana, suma kontrolna UDP lub ICMP musi być obliczana w oprogramowaniu.</span><span class="sxs-lookup"><span data-stu-id="da03d-604">For a UDP or ICMP frame that needs to be fragmented, the UDP or ICMP checksum needs to be computed in software.</span></span> <span data-ttu-id="da03d-605">Większość logiki sumy kontrolnej sprzętu nie obsługuje przypadku, w którym dane są podzielone na wiele ramek.</span><span class="sxs-lookup"><span data-stu-id="da03d-605">Most hardware checksum logic does not handle the case where the data is split into multiple frames.</span></span>

## <a name="driver-output"></a><span data-ttu-id="da03d-606">Dane wyjściowe sterownika</span><span class="sxs-lookup"><span data-stu-id="da03d-606">Driver Output</span></span>  

<span data-ttu-id="da03d-607">Wszystkie poprzednio wymienione żądania przesyłania pakietów wymagają funkcji wyjściowej zaimplementowanej w sterowniku.</span><span class="sxs-lookup"><span data-stu-id="da03d-607">All previously mentioned packet transmit requests require an output function implemented in the driver.</span></span> <span data-ttu-id="da03d-608">Określona logika przesyłania jest specyficzna dla sprzętu, ale zazwyczaj polega na sprawdzaniu wydajności sprzętu w celu natychmiastowego wysłania pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-608">Specific transmit logic is hardware specific, but it usually consists of checking for hardware capacity to send the packet immediately.</span></span> <span data-ttu-id="da03d-609">Jeśli to możliwe, ładunek pakietu (i dodatkowe ładunki w łańcuchu pakietów) są ładowane do jednego lub większej liczby buforów transmisji sprzętowej i zostanie zainicjowana operacja wysyłania.</span><span class="sxs-lookup"><span data-stu-id="da03d-609">If possible, the packet payload (and additional payloads in the packet  chain) are loaded into one or more of the hardware transmit buffers and a transmit operation is initiated.</span></span> <span data-ttu-id="da03d-610">Jeśli pakiet nie mieści się w dostępnych buforach transmisji, pakiet powinien znajdować się w kolejce i być przesyłany, gdy bufory transmisji staną się dostępne.</span><span class="sxs-lookup"><span data-stu-id="da03d-610">If the packet won't fit in the available transmit buffers, the packet should be queued, and be transmitted when the transmission buffers become available.</span></span>

<span data-ttu-id="da03d-611">Zalecana Kolejka przesyłania jest pojedynczo połączoną listą ze wskaźnikami głowy i tail.</span><span class="sxs-lookup"><span data-stu-id="da03d-611">The recommended transmit queue is a singly linked list, having both head and tail pointers.</span></span> <span data-ttu-id="da03d-612">Nowe pakiety są dodawane na końcu kolejki, utrzymując najstarszy pakiet na pierwszym planie.</span><span class="sxs-lookup"><span data-stu-id="da03d-612">New packets are added to the end of the queue, keeping the oldest packet at the front.</span></span> <span data-ttu-id="da03d-613">Pole *nx_packet_queue_next* jest używane jako następny link do pakietu w kolejce.</span><span class="sxs-lookup"><span data-stu-id="da03d-613">The *nx_packet_queue_next* field is used as the packet's next link in the queue.</span></span> <span data-ttu-id="da03d-614">Sterownik definiuje wskaźniki główne i końcowe kolejki transmisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-614">The driver defines the head and tail pointers of the transmit queue.</span></span>

> [!CAUTION]  
> <span data-ttu-id="da03d-615">*Ponieważ do tej kolejki uzyskuje się dostęp z części wątku i przerwania w sterowniku, ochrona przerywania musi zostać umieszczona wokół manipulacji kolejek*.</span><span class="sxs-lookup"><span data-stu-id="da03d-615">*Because this queue is accessed from thread and interrupt portions of the driver, interrupt protection must be placed around the queue manipulations*.</span></span>

<span data-ttu-id="da03d-616">Większość implementacji sprzętu fizycznego generuje przerwanie podczas przesyłania pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-616">Most physical hardware implementations generate an interrupt upon packet transmit completion.</span></span> <span data-ttu-id="da03d-617">Gdy sterownik odbiera takie przerwanie, zazwyczaj zwalnia zasoby skojarzone z pakietem, które właśnie są przesyłane.</span><span class="sxs-lookup"><span data-stu-id="da03d-617">When the driver receives such an interrupt, it typically releases the resources associated with the packet just being transmitted.</span></span> <span data-ttu-id="da03d-618">W przypadku gdy logika przesyłania odczytuje dane bezpośrednio z bufora NX_PACKET, Sterownik powinien używać usługi ***nx_packet_transmit_release*** , aby zwolnić pakiet skojarzony z zakończonym przerwaniem przesyłania zwrotnego z powrotem do dostępnej puli pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-618">In case the transmit logic reads data directly from the NX_PACKET buffer, the driver should use the ***nx_packet_transmit_release*** service to release the packet associated with the transmit complete interrupt back to the available packet pool.</span></span> <span data-ttu-id="da03d-619">Następnie sterownik analizuje kolejkę transmisji dla dodatkowych pakietów oczekujących na wysłanie.</span><span class="sxs-lookup"><span data-stu-id="da03d-619">Next, the driver examines the transmit queue for additional packets waiting to be sent.</span></span> <span data-ttu-id="da03d-620">Ponieważ wiele pakietów przesyłania umieszczonych w kolejce, które pasują do buforów przesyłania sprzętowego, są dekolejkowane i ładowane do buforów.</span><span class="sxs-lookup"><span data-stu-id="da03d-620">As many of the queued transmit packets that fit into the hardware transmit buffer(s) are de-queued and loaded into the buffers.</span></span> <span data-ttu-id="da03d-621">Następuje to po zainicjowaniu innej operacji wysyłania.</span><span class="sxs-lookup"><span data-stu-id="da03d-621">This is followed by initiation of another send operation.</span></span>

<span data-ttu-id="da03d-622">Gdy tylko dane w NX_PACKET zostały przeniesione do kolejki FIFO nadajnika (lub jeśli sterownik obsługuje operację zero kopiowania, dane w NX_PACKET zostały przesłane), Sterownik musi przenieść *nx_packet_prepend_ptr* na początek nagłówka IP przed wywołaniem funkcji \***nx_packet_transmit_release.** Należy pamiętać, aby odpowiednio dostosować _nx_packet_length \* pole.</span><span class="sxs-lookup"><span data-stu-id="da03d-622">As soon as the data in the NX_PACKET has been moved into the transmitter FIFO (or in case a driver supports zero-copy operation, the data in NX_PACKET has been transmitted), the driver must move the *nx_packet_prepend_ptr* to the beginning of the IP header before calling ***nx_packet_transmit_release.** _ Remember to adjust _nx_packet_length* field accordingly.</span></span> <span data-ttu-id="da03d-623">Jeśli ramka IP składa się z wielu pakietów, należy zwolnić tylko nagłówek łańcucha pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-623">If an IP frame is made up of multiple packets, only the head of the packet chain needs to be released.</span></span>

## <a name="driver-input"></a><span data-ttu-id="da03d-624">Dane wejściowe sterownika</span><span class="sxs-lookup"><span data-stu-id="da03d-624">Driver Input</span></span>

<span data-ttu-id="da03d-625">Po odebraniu otrzymanego przerwania pakietów sterownik sieciowy pobiera pakiet z buforów odbioru fizycznego sprzętowego i tworzy prawidłowy pakiet NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-625">Upon reception of a received packet interrupt, the network driver retrieves the packet from the physical hardware receive buffers and builds a valid NetX Duo packet.</span></span> <span data-ttu-id="da03d-626">Kompilowanie prawidłowego pakietu NetX Duo obejmuje skonfigurowanie odpowiedniej długości pola i łączenie wielu pakietów, jeśli rozmiar pakietu przychodzącego jest większy niż pojedynczy ładunek pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-626">Building a valid NetX Duo packet involves setting up the appropriate length field and chaining together multiple packets if the incoming packet's size is greater than a single packet payload.</span></span> <span data-ttu-id="da03d-627">Po poprawnym skompilowaniu *prepend_ptr* jest przenoszona po utworzeniu nagłówka warstwy fizycznej, a pakiet odbioru jest wysyłany do NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-627">Once properly built, the *prepend_ptr* is moved after the physical layer header and the receive packet is dispatched to NetX Duo.</span></span>

<span data-ttu-id="da03d-628">NetX Duo zakłada, że adresy IP (IPv4 i IPv6) i nagłówki ARP są wyrównane na granicy **ULONG** .</span><span class="sxs-lookup"><span data-stu-id="da03d-628">NetX Duo assumes that the IP (IPv4 and IPv6) and ARP headers are aligned on a **ULONG** boundary.</span></span> <span data-ttu-id="da03d-629">W związku z tym należy upewnić się, że w sterowniku NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-629">The NetX Duo driver must, therefore, ensure this alignment.</span></span> <span data-ttu-id="da03d-630">W środowiskach Ethernet w tym celu należy uruchomić nagłówek Ethernet dwa bajty od początku pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-630">In Ethernet environments this is done by starting the Ethernet header two bytes from the beginning of the packet.</span></span> <span data-ttu-id="da03d-631">Gdy *nx_packet_prepend_ptr* jest przenoszona poza nagłówek Ethernet, podstawowy adres IP (IPv4 i IPv6) lub nagłówek ARP jest wyrównany do 4 bajtów.</span><span class="sxs-lookup"><span data-stu-id="da03d-631">When the *nx_packet_prepend_ptr* is moved beyond the Ethernet header, the underlying IP (IPv4 and IPv6) or ARP header is 4-byte aligned.</span></span>

> [!WARNING] 
> <span data-ttu-id="da03d-632">*Zapoznaj się z sekcją "nagłówki sieci Ethernet" poniżej, aby poznać ważne różnice między nagłówkami protokołu IPv6 i IPv6*.</span><span class="sxs-lookup"><span data-stu-id="da03d-632">*See the section "Ethernet Headers" below for important differences between IPv6 and IPv6 Ethernet headers*.</span></span>

<span data-ttu-id="da03d-633">W NetX Duo dostępne są kilka funkcji odbioru pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-633">There are several receive packet functions available in NetX Duo.</span></span> <span data-ttu-id="da03d-634">Jeśli odebrany pakiet jest pakietem ARP, wywoływana jest _\* **nx_arp_packet_deferred_receive**_ .</span><span class="sxs-lookup"><span data-stu-id="da03d-634">If the received packet is an ARP packet, _\***nx_arp_packet_deferred_receive**_ is called.</span></span> <span data-ttu-id="da03d-635">Jeśli otrzymany pakiet jest pakietem RARP, wywoływana jest wartość _ _*_nx_rarp_packet_deferred_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="da03d-635">If the received packet is an RARP packet, _ _*_nx_rarp_packet_deferred_receive_*_ is called.</span></span> <span data-ttu-id="da03d-636">Istnieje kilka opcji obsługi przychodzących pakietów IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-636">There are several options for handling incoming IP packets.</span></span> <span data-ttu-id="da03d-637">W celu uzyskania najszybszej obsługi pakietów IP jest wywoływana _*_nx_ip_packet_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="da03d-637">For the fastest handling of IP packets, _ _*_nx_ip_packet_receive_*_ is called.</span></span> <span data-ttu-id="da03d-638">Takie podejście ma najmniejszy koszt, ale wymaga więcej przetwarzania w ramach procedury obsługi przerwania odbierania usługi (ISR) sterownika.</span><span class="sxs-lookup"><span data-stu-id="da03d-638">This approach has the least overhead, but requires more processing in the driver's receive interrupt service handler (ISR).</span></span> <span data-ttu-id="da03d-639">W przypadku minimalnej liczby procesów ISR należy wywołać \*_nx_ip_packet_deferred_receive_\*\*.</span><span class="sxs-lookup"><span data-stu-id="da03d-639">For minimal ISR processing __ *_nx_ip_packet_deferred_receive_*\* is called.</span></span>

<span data-ttu-id="da03d-640">Po poprawnym skompilowaniu nowego pakietu odbioru fizyczne Bufory odbioru sprzętu są skonfigurowane w celu uzyskania większej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="da03d-640">After the new receive packet is properly built, the physical hardware's receive buffers are setup to receive more data.</span></span> <span data-ttu-id="da03d-641">Może to wymagać przydzielenia pakietów NetX Duo i umieszczenia adresu ładunku w buforze odbierania sprzętu lub po prostu w przypadku zmiany ustawienia w buforze odbioru sprzętowego.</span><span class="sxs-lookup"><span data-stu-id="da03d-641">This might require allocating NetX Duo packets and placing the payload address in the hardware receive buffer or it may simply amount to changing a setting in the hardware receive buffer.</span></span> <span data-ttu-id="da03d-642">Aby zminimalizować możliwości przepełnienia, ważne jest, aby Bufory odbioru sprzętu były dostępne bufory najszybciej, jak to możliwe po odebraniu pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-642">To minimize overrun possibilities, it is important that the hardware's receive buffers have available buffers as soon as possible after a packet is received.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="da03d-643">*Początkowe Bufory odbioru są skonfigurowane podczas inicjowania sterownika*.</span><span class="sxs-lookup"><span data-stu-id="da03d-643">*The initial receive buffers are setup during driver initialization*.</span></span>

### <a name="deferred-receive-packet-handling"></a><span data-ttu-id="da03d-644">Odroczona obsługa odbieranych pakietów</span><span class="sxs-lookup"><span data-stu-id="da03d-644">Deferred Receive Packet Handling</span></span>  
<span data-ttu-id="da03d-645">Sterownik może odroczyć odbieranie pakietów do wątku pomocnika adresów IP NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-645">The driver may defer receive packet processing to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="da03d-646">W przypadku niektórych aplikacji może być konieczne zminimalizowanie przetwarzania w trybie ISR oraz pakietów porzuconych.</span><span class="sxs-lookup"><span data-stu-id="da03d-646">For some applications this may be necessary to minimize ISR processing as well as dropped packets.</span></span> 

<span data-ttu-id="da03d-647">Aby można było użyć odroczonego obsługi pakietów, należy najpierw skompilować bibliotekę NetX Duo z definicją \***NX_DRIVER_DEFERRED_PROCESSING** _.</span><span class="sxs-lookup"><span data-stu-id="da03d-647">To use deferred packet handling, the NetX Duo library must first be compiled with \***NX_DRIVER_DEFERRED_PROCESSING** _ defined.</span></span> <span data-ttu-id="da03d-648">Spowoduje to dodanie odroczonej logiki pakietu do wątku pomocnika adresów IP NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-648">This adds the deferred packet logic to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="da03d-649">Następnie w przypadku odebrania pakietu danych sterownik musi wywołać __nx_ip_packet_deferred_receive ():\*</span><span class="sxs-lookup"><span data-stu-id="da03d-649">Next, on receiving a data packet, the driver must call __nx_ip_packet_deferred_receive():\*</span></span>

```c
_nx_ip_packet_deferred_receive(ip_ptr, packet_ptr);
```
<span data-ttu-id="da03d-650">Odroczona funkcja Receive umieszcza pakiet odbierający reprezentowany przez *packet_ptr* na FIFO (lista połączona) i powiadamia wątek pomocnika IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-650">The deferred receive function places the receive packet represented by *packet_ptr* on a FIFO (linked list) and notifies the IP helper thread.</span></span> <span data-ttu-id="da03d-651">Po wykonaniu tego pomocnika IP powtarza wywołania funkcji obsługi odroczonej, aby przetwarzać każdy odroczony pakiet.</span><span class="sxs-lookup"><span data-stu-id="da03d-651">After executing, the IP helper repetitively calls the deferred handling function to process each deferred packet.</span></span> <span data-ttu-id="da03d-652">Przetwarzanie odroczonego programu obsługi zazwyczaj obejmuje usunięcie nagłówka warstwy fizycznej pakietu (zazwyczaj Ethernet) i wysłanie go do jednej z tych funkcji odbioru NetX Duo:</span><span class="sxs-lookup"><span data-stu-id="da03d-652">The deferred handler processing typically includes removing the packet's physical layer header (usually Ethernet) and dispatching it to one of these NetX Duo receive functions:</span></span>

- <span data-ttu-id="da03d-653">***_nx_ip_packet_receive***</span><span class="sxs-lookup"><span data-stu-id="da03d-653">***_nx_ip_packet_receive***</span></span>
- <span data-ttu-id="da03d-654">***_nx_arp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="da03d-654">***_nx_arp_packet_deferred_receive***</span></span>
- <span data-ttu-id="da03d-655">***_nx_rarp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="da03d-655">***_nx_rarp_packet_deferred_receive***</span></span>

## <a name="ethernet-headers"></a><span data-ttu-id="da03d-656">Nagłówki sieci Ethernet</span><span class="sxs-lookup"><span data-stu-id="da03d-656">Ethernet Headers</span></span> 

<span data-ttu-id="da03d-657">Jedną z najbardziej znaczących różnic między adresami IPv6 i IPv4 dla nagłówków Ethernet jest ustawienie typu ramki.</span><span class="sxs-lookup"><span data-stu-id="da03d-657">One of the most significant differences between IPv6 and IPv4 for Ethernet Headers is the frame type setting.</span></span> <span data-ttu-id="da03d-658">Podczas wysyłania pakietów Sterownik Ethernet jest odpowiedzialny za ustawienie typu ramki Ethernet w pakietach wychodzących.</span><span class="sxs-lookup"><span data-stu-id="da03d-658">When sending out packets, the Ethernet driver is responsible for setting the Ethernet frame type in outgoing packets.</span></span> <span data-ttu-id="da03d-659">W przypadku pakietów IPv6 typem ramki powinna być 0x86DD; w przypadku pakietów IPv4 typem ramki powinna być 0x0800.</span><span class="sxs-lookup"><span data-stu-id="da03d-659">For IPv6 packets, the frame type should be 0x86DD; for IPv4 packets, the frame type should be 0x0800.</span></span>

<span data-ttu-id="da03d-660">Następujący segment kodu ilustruje ten proces:</span><span class="sxs-lookup"><span data-stu-id="da03d-660">The following code segment illustrates this process:</span></span>

```c
NX_PACKET *packet_ptr;
packet_ptr = driver_req_ptr -> nx_ip_driver_packet;
if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V4)
{

   /* Set Ethernet frame type to IPv4 /*
   ethernet_frame_ptr -> frame_type = 0x0800;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V6)
{

   /* Set Ethernet frame type to IPv6. /*
   ethernet_frame_ptr -> frame_type = 0x86DD;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else
{

   /* Unknown IP version. Free the packet we will not send. */
   nx_packet_transmit_release(packet_ptr);
}
```
<span data-ttu-id="da03d-661">Podobnie w przypadku pakietów przychodzących Sterownik Ethernet powinien określić typ pakietu na podstawie typu ramki Ethernet.</span><span class="sxs-lookup"><span data-stu-id="da03d-661">Similarly, for incoming packets, the Ethernet driver should determine the packet type from the Ethernet frame type.</span></span> <span data-ttu-id="da03d-662">Powinien być zaimplementowany do akceptowania typów ramek IPv6 (0x86DD), IPv4 (0x0800), ARP (0x0806) i RARP (0x8035).</span><span class="sxs-lookup"><span data-stu-id="da03d-662">It should be implemented to accept IPv6 (0x86DD), IPv4 (0x0800), ARP (0x0806), and RARP (0x8035) frame types.</span></span>

## <a name="example-ram-ethernet-network-driver"></a><span data-ttu-id="da03d-663">Przykład sterownika sieci Ethernet w pamięci RAM</span><span class="sxs-lookup"><span data-stu-id="da03d-663">Example RAM Ethernet Network Driver</span></span>

<span data-ttu-id="da03d-664">System demonstracyjny NetX Duo jest dostarczany z małym sterownikiem sieciowym opartym na pamięci RAM, zdefiniowanym w pliku ***nx_ram_network_driver. c.***</span><span class="sxs-lookup"><span data-stu-id="da03d-664">The NetX Duo demonstration system is delivered with a small RAM-based network driver, defined in the file ***nx_ram_network_driver.c.***</span></span> <span data-ttu-id="da03d-665">Ten sterownik zakłada, że wystąpienia protokołu IP są wszystkie w tej samej sieci i po prostu przypisuje wirtualne adresy sprzętowe (adresy MAC) do każdego wystąpienia urządzenia w miarę ich tworzenia.</span><span class="sxs-lookup"><span data-stu-id="da03d-665">This driver assumes the IP instances are all on the same network and simply assigns virtual hardware addresses (MAC addresses) to each device instance as they are created.</span></span> <span data-ttu-id="da03d-666">Ten plik zawiera dobry przykład podstawowej struktury sterowników sieci fizycznych NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="da03d-666">This file provides a good example of the basic structure of NetX Duo physical network drivers.</span></span> <span data-ttu-id="da03d-667">Użytkownicy mogą opracowywać własne sterowniki sieciowe przy użyciu platformy sterowników przedstawionej w tym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="da03d-667">Users may develop their own network drivers using the driver framework presented in this example.</span></span>

<span data-ttu-id="da03d-668">Funkcja wejścia sterownika sieci jest \***_nx_ram_network_driver (),** która jest przenoszona do wywołania tworzenia wystąpienia IP.</span><span class="sxs-lookup"><span data-stu-id="da03d-668">The entry function of the network driver is \***_nx_ram_network_driver(),** _ which is passed to the IP instance create call.</span></span> <span data-ttu-id="da03d-669">Funkcje wprowadzania dla dodatkowych interfejsów sieciowych mogą być przesyłane do usługi _nx_ip_interface_attach () \*.</span><span class="sxs-lookup"><span data-stu-id="da03d-669">Entry functions for additional network interfaces can be passed into the _nx_ip_interface_attach()\* service.</span></span> <span data-ttu-id="da03d-670">Po uruchomieniu wystąpienia adresu IP funkcja wprowadzania sterowników jest wywoływana w celu zainicjowania i włączenia urządzenia (zobacz **NX_LINK_INITIALIZE** przypadku i **NX_LINK_ENABLE**).</span><span class="sxs-lookup"><span data-stu-id="da03d-670">After the IP instance starts to run, the driver entry function is invoked to initialize and enable the device (refer to the case **NX_LINK_INITIALIZE** and **NX_LINK_ENABLE**).</span></span> <span data-ttu-id="da03d-671">Po wydaniu polecenia **NX_LINK_ENABLE** urządzenie powinno być gotowe do przesyłania i odbierania pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-671">After the **NX_LINK_ENABLE** command is issued, the device should be ready to transmit and receive packets.</span></span> 

<span data-ttu-id="da03d-672">Wystąpienie IP przesyła pakiety sieciowe za pomocą jednego z następujących poleceń:</span><span class="sxs-lookup"><span data-stu-id="da03d-672">The IP instance transmits network packets via one of these commands:</span></span>

|                                 |                                                                |
| ------------------------------- | -------------------------------------------------------------- |
| <span data-ttu-id="da03d-673">***NX_LINK_PACKET_SEND***</span><span class="sxs-lookup"><span data-stu-id="da03d-673">***NX_LINK_PACKET_SEND***</span></span>    | <span data-ttu-id="da03d-674">Trwa przesyłanie pakietu IPv4 lub IPv6.</span><span class="sxs-lookup"><span data-stu-id="da03d-674">An IPv4 or IPv6 packet is being transmitted,</span></span>                   |
| <span data-ttu-id="da03d-675">***NX_LINK_ARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="da03d-675">***NX_LINK_ARP_SEND***</span></span>       | <span data-ttu-id="da03d-676">Trwa przesyłanie żądania ARP lub pakietu odpowiedzi ARP,</span><span class="sxs-lookup"><span data-stu-id="da03d-676">An ARP request or ARP response packet is being transmitted,</span></span>    |
| <span data-ttu-id="da03d-677">***NX_LINK_ARP_RARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="da03d-677">***NX_LINK_ARP_RARP_SEND***</span></span> | <span data-ttu-id="da03d-678">Trwa przesyłanie żądania odwrotnego protokołu ARP lub pakietu odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="da03d-678">A Reverse ARP request or response packet is being transmitted,</span></span> |

<span data-ttu-id="da03d-679">W przypadku przetwarzania tych poleceń sterownik sieciowy musi dołączać odpowiedni nagłówek ramki Ethernet, a następnie wysyłać go do podstawowego sprzętu do transmisji.</span><span class="sxs-lookup"><span data-stu-id="da03d-679">On processing these commands, the network driver needs to prepend the appropriate Ethernet frame header, and then send it to the underlying hardware for transmission.</span></span> <span data-ttu-id="da03d-680">W trakcie procesu transmisji sterownik sieciowy ma wyłączną własność obszaru bufora pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-680">During the transmission process, the network driver has the exclusive ownership of the packet buffer area.</span></span> <span data-ttu-id="da03d-681">W związku z tym po przesłaniu danych (lub po skopiowaniu danych do wewnętrznego bufora transferu sterowników) Sterownik sieciowy jest odpowiedzialny za zwolnienie buforu pakietów przez przeniesienie wskaźnika dołączania poza nagłówek Ethernet do nagłówka IP (i odpowiednio dostosować długość pakietu), a następnie przez wywołanie usługi ***nx_packet_transmit_release ()*** w celu zwolnienia pakietu.</span><span class="sxs-lookup"><span data-stu-id="da03d-681">Therefore once the data is being transmitted (or once the data has been copied into the driver internal transfer buffer), the network driver is responsible for releasing the packet buffer by first moving the prepend pointer past the Ethernet header to the IP header (and adjust packet length accordingly), and then by calling the ***nx_packet_transmit_release()*** service to release the packet.</span></span> <span data-ttu-id="da03d-682">Nie można zwolnić pakietu, gdy transmisja danych spowoduje przeciek pakietów.</span><span class="sxs-lookup"><span data-stu-id="da03d-682">Not releasing the packet after data transmission will cause packets to leak.</span></span>

<span data-ttu-id="da03d-683">Sterownik urządzenia sieciowego jest również odpowiedzialny za obsługę przychodzących pakietów danych.</span><span class="sxs-lookup"><span data-stu-id="da03d-683">The network device driver is also responsible for handling incoming data packets.</span></span> <span data-ttu-id="da03d-684">W przykładzie sterownika pamięci RAM otrzymany pakiet jest przetwarzany przez funkcję ***_nx_ram_network_driver_receive ()***.</span><span class="sxs-lookup"><span data-stu-id="da03d-684">In the RAM driver example, the received packet is processed by the function ***_nx_ram_network_driver_receive()***.</span></span> <span data-ttu-id="da03d-685">Gdy urządzenie otrzyma ramkę Ethernet, sterownik jest odpowiedzialny za przechowywanie danych w strukturze NX_PACKET.</span><span class="sxs-lookup"><span data-stu-id="da03d-685">Once the device receives an Ethernet frame, the driver is responsible for storing the data in  NX_PACKET structure.</span></span> <span data-ttu-id="da03d-686">Należy pamiętać, że NetX Duo zakłada, że nagłówek IP zaczyna się od 4-bajtowego wyrównanego adresu.</span><span class="sxs-lookup"><span data-stu-id="da03d-686">Note that NetX Duo assumes the IP header starts from 4-byte aligned address.</span></span> <span data-ttu-id="da03d-687">Ponieważ długość nagłówka Ethernet jest 14byte, Sterownik musi przechowywać początek nagłówka Ethernet w adresie wyrównanym 2-bajtowym w celu zagwarantowania, że nagłówek IP zaczyna się od 4-bajtowego wyrównanego adresu.</span><span class="sxs-lookup"><span data-stu-id="da03d-687">Since the length of Ethernet header is 14byte, the driver needs to store the starting of the Ethernet header at 2-byte aligned address to guarantee that the IP header starts at 4-byte aligned address.</span></span>