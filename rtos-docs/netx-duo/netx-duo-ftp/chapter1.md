---
title: Rozdział 1 — wprowadzenie do usługi Azure RTO NetX Duo FTP
description: Protokół transferu plików (FTP) to protokół przeznaczony do transferów plików.
author: philmea
ms.author: philmea
ms.date: 07/14/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 1d56b20b1c7d719d1b7d9c8c5b2fe234d5577da3
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/22/2021
ms.locfileid: "104821889"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo-ftp"></a><span data-ttu-id="0bd73-103">Rozdział 1 — wprowadzenie do usługi Azure RTO NetX Duo FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-103">Chapter 1 - Introduction to Azure RTOS NetX Duo FTP</span></span>

<span data-ttu-id="0bd73-104">Protokół transferu plików (FTP) to protokół przeznaczony do transferów plików.</span><span class="sxs-lookup"><span data-stu-id="0bd73-104">The File Transfer Protocol (FTP) is a protocol designed for file transfers.</span></span> <span data-ttu-id="0bd73-105">FTP wykorzystuje niezawodne usługi Transmission Control Protocol (TCP) do wykonywania funkcji transferu plików.</span><span class="sxs-lookup"><span data-stu-id="0bd73-105">FTP utilizes reliable Transmission Control Protocol (TCP) services to perform its file transfer function.</span></span> <span data-ttu-id="0bd73-106">Z tego powodu usługa FTP jest wysoce niezawodnym protokołem transferu plików.</span><span class="sxs-lookup"><span data-stu-id="0bd73-106">Because of this, FTP is a highly reliable file transfer protocol.</span></span> <span data-ttu-id="0bd73-107">Serwer FTP jest również wysoce wydajny.</span><span class="sxs-lookup"><span data-stu-id="0bd73-107">FTP is also high-performance.</span></span> <span data-ttu-id="0bd73-108">Bieżący transfer plików FTP odbywa się na dedykowanym połączeniu FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-108">The actual FTP file transfer is performed on a dedicated FTP connection.</span></span> <span data-ttu-id="0bd73-109">Usługa FTP NetX Duo obsługuje zarówno sieci IPv4, jak i IPv6.</span><span class="sxs-lookup"><span data-stu-id="0bd73-109">NetX Duo FTP accommodates both IPv4 and IPv6 networks.</span></span> <span data-ttu-id="0bd73-110">Protokół IPv6 nie zmienia bezpośrednio protokołu FTP, mimo że niektóre zmiany w oryginalnym interfejsie API FTP NetX są niezbędne do uwzględnienia protokołu IPv6 i zostaną opisane w tym dokumencie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-110">IPv6 does not directly change the FTP protocol, although some changes in the original NetX FTP API are necessary to accommodate IPv6 and will be described in this document.</span></span>

## <a name="ftp-requirements"></a><span data-ttu-id="0bd73-111">Wymagania dotyczące FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-111">FTP Requirements</span></span>

<span data-ttu-id="0bd73-112">Aby zapewnić prawidłowe działanie, pakiet FTP NetX wymaga NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="0bd73-112">In order to function properly, the NetX FTP package requires NetX Duo.</span></span> <span data-ttu-id="0bd73-113">Aplikacja hosta musi utworzyć wystąpienie IP dla uruchomionych usług NetX i zadań okresowych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-113">The host application must create an IP instance for running NetX services and periodic tasks.</span></span> <span data-ttu-id="0bd73-114">Jeśli uruchomiona jest aplikacja hosta FTP za pośrednictwem sieci IPv6, IPv6 i ICMPv6 musi być włączona w zadaniu adresu IP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-114">If running the FTP host application over an IPv6 network, IPv6, and ICMPv6 must be enabled on the IP task.</span></span> <span data-ttu-id="0bd73-115">Dla sieci IPv6 lub IPv4 musi być także włączony protokół TCP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-115">TCP must be also enabled for either IPv6 or IPv4 networks.</span></span> <span data-ttu-id="0bd73-116">Aplikacja hosta IPv6 musi ustawić swój LINKLOCAL i globalny adres IPv6 przy użyciu interfejsu API IPv6 i/lub protokołu DHCPv6.</span><span class="sxs-lookup"><span data-stu-id="0bd73-116">The IPv6 host application must set its linklocal and global IPv6 address using the IPv6 API and/or DHCPv6.</span></span> <span data-ttu-id="0bd73-117">Program demonstracyjny w sekcji "mały przykładowy system" w **rozdziale 2** demonstruje, jak to zrobić.</span><span class="sxs-lookup"><span data-stu-id="0bd73-117">A demo program in section “Small Example System” in **Chapter 2** demonstrates how this is done.</span></span>

<span data-ttu-id="0bd73-118">Serwer FTP i klient są również zaprojektowane do pracy z osadzonym systemem plików FileX.</span><span class="sxs-lookup"><span data-stu-id="0bd73-118">The FTP Server and Client are also designed to work with the FileX embedded file system.</span></span> <span data-ttu-id="0bd73-119">Jeśli FileX nie jest dostępna, deweloper hosta może zaimplementować lub zastąpić własny system plików zgodnie z zaleceniami sugerowanymi w filex_stub. h przez zdefiniowanie każdej usługi wymienionej w tym pliku.</span><span class="sxs-lookup"><span data-stu-id="0bd73-119">If FileX is not available, the host developer can implement or substitute their own file system along the guidelines suggested in filex_stub.h by defining each of the services listed in that file.</span></span> <span data-ttu-id="0bd73-120">Zostało to omówione w kolejnych sekcjach tego przewodnika.</span><span class="sxs-lookup"><span data-stu-id="0bd73-120">This is discussed in later sections of this guide.</span></span>

<span data-ttu-id="0bd73-121">Część klienta FTP pakietu FTP NetX nie ma żadnych dalszych wymagań.</span><span class="sxs-lookup"><span data-stu-id="0bd73-121">The FTP Client portion of the NetX FTP package has no further requirements.</span></span>

<span data-ttu-id="0bd73-122">Część serwera FTP w pakiecie FTP NetX ma kilka dodatkowych wymagań.</span><span class="sxs-lookup"><span data-stu-id="0bd73-122">The FTP Server portion of the NetX FTP package has several additional requirements.</span></span> <span data-ttu-id="0bd73-123">Najpierw wymaga pełnego dostępu do *dobrze znanego portu* TCP, aby obsłużyć wszystkie żądania poleceń FTP klienta i *dobrze znany port 20* do obsługi wszystkich transferów danych FTP klienta.</span><span class="sxs-lookup"><span data-stu-id="0bd73-123">First, it requires complete access to TCP *well-known port 21* for handling all Client FTP command requests and *well-known port 20* for handling all Client FTP data transfers.</span></span>

## <a name="ftp-constraints"></a><span data-ttu-id="0bd73-124">Ograniczenia FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-124">FTP Constraints</span></span>

<span data-ttu-id="0bd73-125">Standard FTP ma wiele opcji dotyczących reprezentacji danych plików.</span><span class="sxs-lookup"><span data-stu-id="0bd73-125">The FTP standard has many options regarding the representation of file data.</span></span> <span data-ttu-id="0bd73-126">NetX FTP nie implementuje opcji przełącznika, np. ls – Al.</span><span class="sxs-lookup"><span data-stu-id="0bd73-126">NetX FTP does not implement switch options e.g. ls –al.</span></span> <span data-ttu-id="0bd73-127">NetX serwer FTP oczekuje, że żądania i ich argumenty są odbierane w pojedynczym pakiecie, a nie w kolejnych pakietach.</span><span class="sxs-lookup"><span data-stu-id="0bd73-127">NetX FTP Server expects to receive requests and their arguments in a single packet rather than consecutive packets.</span></span>

<span data-ttu-id="0bd73-128">Podobnie jak w przypadku implementacji systemu UNIX, NetX FTP przyjmuje następujące ograniczenia dotyczące formatu pliku:</span><span class="sxs-lookup"><span data-stu-id="0bd73-128">Similar to UNIX implementations, NetX FTP assumes the following file format constraints:</span></span>

- <span data-ttu-id="0bd73-129">Typ pliku: dane **binarne**</span><span class="sxs-lookup"><span data-stu-id="0bd73-129">File Type: **Binary**</span></span>
- <span data-ttu-id="0bd73-130">Format pliku: **tylko do drukowania**</span><span class="sxs-lookup"><span data-stu-id="0bd73-130">File Format: **Nonprint Only**</span></span>
- <span data-ttu-id="0bd73-131">Struktura pliku: **tylko Struktura pliku**</span><span class="sxs-lookup"><span data-stu-id="0bd73-131">File Structure: **File Structure Only**</span></span>

## <a name="ftp-file-names"></a><span data-ttu-id="0bd73-132">Nazwy plików FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-132">FTP File Names</span></span>

<span data-ttu-id="0bd73-133">Nazwy plików FTP powinny mieć format docelowego systemu plików (zazwyczaj FileX).</span><span class="sxs-lookup"><span data-stu-id="0bd73-133">FTP file names should be in the format of the target file system (usually FileX).</span></span> <span data-ttu-id="0bd73-134">Powinny to być ciągi ASCII zakończonych znakiem NULL, z pełnymi informacjami o ścieżce, jeśli jest to konieczne.</span><span class="sxs-lookup"><span data-stu-id="0bd73-134">They should be NULL terminated ASCII strings, with full path information if necessary.</span></span> <span data-ttu-id="0bd73-135">Nie ma określonego limitu rozmiaru nazw plików FTP w implementacji FTP NetX.</span><span class="sxs-lookup"><span data-stu-id="0bd73-135">There is no specified limit for the size of FTP file names in the NetX FTP implementation.</span></span> <span data-ttu-id="0bd73-136">Jednak rozmiar ładunku puli pakietów powinien być w stanie obsłużyć maksymalną ścieżkę i/lub nazwę pliku.</span><span class="sxs-lookup"><span data-stu-id="0bd73-136">However, the packet pool payload size should be able to accommodate the maximum path and/or file name.</span></span>

## <a name="ftp-client-commands"></a><span data-ttu-id="0bd73-137">Polecenia klienta FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-137">FTP Client Commands</span></span>

<span data-ttu-id="0bd73-138">FTP ma prosty mechanizm otwierania połączeń i wykonywania operacji plików i katalogów.</span><span class="sxs-lookup"><span data-stu-id="0bd73-138">The FTP has a simple mechanism for opening connections and performing file and directory operations.</span></span> <span data-ttu-id="0bd73-139">Istnieje zasadniczo zestaw standardowych poleceń FTP, które są wydawane przez klienta po pomyślnym nawiązaniu połączenia z *dobrze znanym portem TCP 21*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-139">There is basically a set of standard FTP commands that are issued by the Client after a connection has been successfully established on the TCP *well-known port 21*.</span></span> <span data-ttu-id="0bd73-140">Poniżej przedstawiono niektóre z podstawowych poleceń FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-140">The following shows some of the basic FTP commands.</span></span> <span data-ttu-id="0bd73-141">Należy zauważyć, że jedyną różnicą, gdy usługa FTP działa za pośrednictwem protokołu IPv6, to polecenie PORT jest zastępowane poleceniem EPRT:</span><span class="sxs-lookup"><span data-stu-id="0bd73-141">Note that the only difference when FTP runs over IPv6 is that the PORT command is replaced with the EPRT command:</span></span>

- <span data-ttu-id="0bd73-142">CWD ścieżka *zmiany katalogu roboczego*</span><span class="sxs-lookup"><span data-stu-id="0bd73-142">CWD path *Change working directory*</span></span>
- <span data-ttu-id="0bd73-143">& nazwa *pliku*</span><span class="sxs-lookup"><span data-stu-id="0bd73-143">DELE filename *Delete specified file name*</span></span>
- <span data-ttu-id="0bd73-144">EPRT ip_address, port *udostępnia adres IPv6 i port danych klienta*</span><span class="sxs-lookup"><span data-stu-id="0bd73-144">EPRT ip_address, port *Provide IPv6 address and Client data port*</span></span>
- <span data-ttu-id="0bd73-145">EPSV *Zażądaj trybu transferu pasywnego dla protokołu IPv6*</span><span class="sxs-lookup"><span data-stu-id="0bd73-145">EPSV *Request passive transfer mode for IPv6*</span></span>
- <span data-ttu-id="0bd73-146">Wyświetlanie listy katalogów *Pobierz katalog*</span><span class="sxs-lookup"><span data-stu-id="0bd73-146">LIST directory *Get directory listing*</span></span>
- <span data-ttu-id="0bd73-147">Katalog MKD *Utwórz nowy katalog*</span><span class="sxs-lookup"><span data-stu-id="0bd73-147">MKD directory *Make new directory*</span></span>
- <span data-ttu-id="0bd73-148">Katalog NLST — *Pobieranie listy katalogów*</span><span class="sxs-lookup"><span data-stu-id="0bd73-148">NLST directory *Get directory listing*</span></span>
- <span data-ttu-id="0bd73-149">AKTUALIZUJĄCY nie działa *Brak operacji, zwraca sukces*</span><span class="sxs-lookup"><span data-stu-id="0bd73-149">NOOP *No operation, returns success*</span></span>
- <span data-ttu-id="0bd73-150">Hasło przekazywania hasła *dla logowania*</span><span class="sxs-lookup"><span data-stu-id="0bd73-150">PASS password *Provide password for login*</span></span>
- <span data-ttu-id="0bd73-151">PASV *Zażądaj trybu transferu pasywnego dla protokołu IPv4*</span><span class="sxs-lookup"><span data-stu-id="0bd73-151">PASV *Request passive transfer mode for IPv4*</span></span>
- <span data-ttu-id="0bd73-152">Ip_address portów, port *udostępnia adres IP i port danych klienta*</span><span class="sxs-lookup"><span data-stu-id="0bd73-152">PORT ip_address,port *Provide IP address and Client data port*</span></span>
- <span data-ttu-id="0bd73-153">Ścieżka do *pobrania ścieżki bieżącego katalogu*</span><span class="sxs-lookup"><span data-stu-id="0bd73-153">PWD path *Pickup current directory path*</span></span>
- <span data-ttu-id="0bd73-154">Zakończ *Kończenie połączenia klienta*</span><span class="sxs-lookup"><span data-stu-id="0bd73-154">QUIT *Terminate Client connection*</span></span>
- <span data-ttu-id="0bd73-155">RETR filename *Odczytaj określony plik*</span><span class="sxs-lookup"><span data-stu-id="0bd73-155">RETR filename *Read specified file*</span></span>
- <span data-ttu-id="0bd73-156">Katalog RMD *Usuń określony katalog*</span><span class="sxs-lookup"><span data-stu-id="0bd73-156">RMD directory *Delete specified directory*</span></span>
- <span data-ttu-id="0bd73-157">RNFR oldfilename *Określ plik do zmiany nazwy*</span><span class="sxs-lookup"><span data-stu-id="0bd73-157">RNFR oldfilename *Specify file to rename*</span></span>
- <span data-ttu-id="0bd73-158">RNTO NewFileName *Zmień nazwę pliku na podaną nazwę pliku*</span><span class="sxs-lookup"><span data-stu-id="0bd73-158">RNTO newfilename *Rename file to supplied file name*</span></span>
- <span data-ttu-id="0bd73-159">STOR filename *Zapisz określony plik*</span><span class="sxs-lookup"><span data-stu-id="0bd73-159">STOR filename *Write specified file*</span></span>
- <span data-ttu-id="0bd73-160">*Wybierz opcję obraz pliku binarnego*</span><span class="sxs-lookup"><span data-stu-id="0bd73-160">TYPE I *Select binary file image*</span></span>
- <span data-ttu-id="0bd73-161">Nazwa_użytkownika użytkownika *Podaj nazwę użytkownika na potrzeby logowania*</span><span class="sxs-lookup"><span data-stu-id="0bd73-161">USER username *Provide username for login*</span></span>

<span data-ttu-id="0bd73-162">Te polecenia ASCII są używane wewnętrznie przez oprogramowanie klienckie NetX FTP do wykonywania operacji FTP z serwerem FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-162">These ASCII commands are used internally by the NetX FTP Client software to perform FTP operations with the FTP Server.</span></span>

## <a name="ftp-server-responses"></a><span data-ttu-id="0bd73-163">Odpowiedzi serwera FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-163">FTP Server Responses</span></span>

<span data-ttu-id="0bd73-164">Gdy serwer FTP przetwarza żądanie klienta, zwraca 3-cyfrową odpowiedź zakodowaną w kodzie ASCII, po którym następuje opcjonalny tekst ASCII.</span><span class="sxs-lookup"><span data-stu-id="0bd73-164">Once the FTP Server processes the Client request, it returns a 3-digit coded response in ASCII followed by optional ASCII text.</span></span> <span data-ttu-id="0bd73-165">Odpowiedź numeryczna jest używana przez oprogramowanie klienckie FTP do określenia, czy operacja zakończyła się powodzeniem, czy niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="0bd73-165">The numeric response is used by the FTP Client software to determine whether the operation succeeded or failed.</span></span> <span data-ttu-id="0bd73-166">Na poniższej liście przedstawiono różne odpowiedzi serwera FTP na żądania klientów:</span><span class="sxs-lookup"><span data-stu-id="0bd73-166">The following list shows various FTP Server responses to Client requests:</span></span>

<span data-ttu-id="0bd73-167">**Pierwsze znaczenie pola liczbowego**</span><span class="sxs-lookup"><span data-stu-id="0bd73-167">**First Numeric Field Meaning**</span></span>

- <span data-ttu-id="0bd73-168">1XX *pozytywnego stanu wstępnego — inna odpowiedź*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-168">1xx *Positive preliminary status – another reply coming*.</span></span>
- <span data-ttu-id="0bd73-169">2xx *pozytywnego stanu ukończenia*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-169">2xx *Positive completion status*.</span></span>
- <span data-ttu-id="0bd73-170">3xx *pozytywnego stanu wstępnego — należy wysłać inne polecenie*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-170">3xx *Positive preliminary status – another command must be sent*.</span></span>
- <span data-ttu-id="0bd73-171">4xx *tymczasowy warunek błędu*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-171">4xx *Temporary error condition*.</span></span>
- <span data-ttu-id="0bd73-172">5xx *warunek błędu.*</span><span class="sxs-lookup"><span data-stu-id="0bd73-172">5xx *Error condition.*</span></span>

<span data-ttu-id="0bd73-173">**Drugie znaczenie pola liczbowego**</span><span class="sxs-lookup"><span data-stu-id="0bd73-173">**Second Numeric Field Meaning**</span></span>

- <span data-ttu-id="0bd73-174">x0x *błąd składniowy w poleceniu*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-174">x0x *Syntax error in command*.</span></span>
- <span data-ttu-id="0bd73-175">x1x *komunikat informacyjny*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-175">x1x *Informational message*.</span></span>
- <span data-ttu-id="0bd73-176">*powiązane z usługą* X2X.</span><span class="sxs-lookup"><span data-stu-id="0bd73-176">x2x *Connection related*.</span></span>
- <span data-ttu-id="0bd73-177">*powiązane z uwierzytelnianiem* x3x.</span><span class="sxs-lookup"><span data-stu-id="0bd73-177">x3x *Authentication related*.</span></span>
- <span data-ttu-id="0bd73-178">*nieokreślony* x4x.</span><span class="sxs-lookup"><span data-stu-id="0bd73-178">x4x *Unspecified*.</span></span>
- <span data-ttu-id="0bd73-179">*powiązany system plików* x5x.</span><span class="sxs-lookup"><span data-stu-id="0bd73-179">x5x *File system related*.</span></span>

<span data-ttu-id="0bd73-180">Na przykład żądanie klienta dotyczące rozłączenia połączenia FTP z poleceniem QUIT zazwyczaj reaguje na kod "221" z serwera — w przypadku pomyślnego rozłączenia.</span><span class="sxs-lookup"><span data-stu-id="0bd73-180">For example, a Client request to disconnect an FTP connection with the QUIT command will typically be responded with a “221” code from the Server – if the disconnect is successful.</span></span>

## <a name="ftp-passive-transfer-mode"></a><span data-ttu-id="0bd73-181">Tryb pasywnego transferu FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-181">FTP Passive Transfer Mode</span></span>

<span data-ttu-id="0bd73-182">Domyślnie klient FTP NetX Duo używa aktywnego trybu transportu do wymiany danych za pośrednictwem gniazda danych z serwerem FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-182">By default, the NetX Duo FTP Client uses the active transport mode to exchange data over the data socket with the FTP server.</span></span> <span data-ttu-id="0bd73-183">Problem z tym rozmieszczeniem polega na tym, że klient FTP musi otworzyć gniazdo serwera TCP, z którym serwer FTP ma nawiązać połączenie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-183">The problem with this arrangement is that it requires the FTP Client to open a TCP server socket for the FTP Server to connect to.</span></span> <span data-ttu-id="0bd73-184">Oznacza to potencjalne zagrożenie bezpieczeństwa i może być blokowany przez zaporę klienta.</span><span class="sxs-lookup"><span data-stu-id="0bd73-184">This represents a possible security risk and may be blocked by the Client firewall.</span></span> <span data-ttu-id="0bd73-185">Tryb transferu pasywnego różni się od aktywnego trybu transportu, ponieważ serwer FTP tworzy gniazdo serwera TCP na potrzeby połączenia danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-185">Passive transfer mode differs from active transport mode by having the FTP server create the TCP server socket on the data connection.</span></span> <span data-ttu-id="0bd73-186">Eliminuje to zagrożenie bezpieczeństwa (dla klienta FTP).</span><span class="sxs-lookup"><span data-stu-id="0bd73-186">This eliminates the security risk (for the FTP Client).</span></span>

<span data-ttu-id="0bd73-187">Aby włączyć pasywny transfer danych, aplikacja wywołuje *nx_ftp_client_passive_mode_set* na wcześniej utworzonym kliencie FTP z drugim argumentem ustawionym na NX_TRUE.</span><span class="sxs-lookup"><span data-stu-id="0bd73-187">To enable passive data transfer, the application calls *nx_ftp_client_passive_mode_set* on a previously created FTP Client with the second argument set to NX_TRUE.</span></span> <span data-ttu-id="0bd73-188">Następnie wszystkie kolejne usługi klienta FTP NetX Duo do przesyłania danych (NLST, RETR, STOR) są podejmowane w trybie transportu pasywnego.</span><span class="sxs-lookup"><span data-stu-id="0bd73-188">Thereafter, all subsequent NetX Duo FTP Client services for transferring data (NLST, RETR, STOR) are attempted in the passive transport mode.</span></span>

<span data-ttu-id="0bd73-189">Klient FTP najpierw wysyła polecenie pasywne (bez argumentów), PASV polecenie dla protokołu IPv4 lub EPSV dla protokołu IPv6.</span><span class="sxs-lookup"><span data-stu-id="0bd73-189">The FTP Client first sends the passive command (no arguments), PASV command for IPv4 or EPSV command for IPv6.</span></span> <span data-ttu-id="0bd73-190">Jeśli serwer FTP obsługuje to żądanie, zwróci odpowiedź 227 "OK" dla PASV i 229 "OK" odpowiedzi na EPSV.</span><span class="sxs-lookup"><span data-stu-id="0bd73-190">If the FTP server supports this request it will return the 227 “OK” response for PASV, and 229 “OK” response for EPSV.</span></span> <span data-ttu-id="0bd73-191">Następnie klient wysyła żądanie, np. RETR.</span><span class="sxs-lookup"><span data-stu-id="0bd73-191">Then the Client sends the request e.g. RETR.</span></span> <span data-ttu-id="0bd73-192">Jeśli serwer odmówi trybu transferu pasywnego, usługa klienta FTP NetX Duo zwróci stan błędu.</span><span class="sxs-lookup"><span data-stu-id="0bd73-192">If the server refuses passive transfer mode, the NetX Duo FTP Client service returns an error status.</span></span>

<span data-ttu-id="0bd73-193">Aby wyłączyć tryb transportu pasywnego i wrócić do trybu aktywnego transportu, aplikacja wywołuje *nx_ftp_client_passive_mode_set* z drugim argumentem ustawionym na NX_FALSE.</span><span class="sxs-lookup"><span data-stu-id="0bd73-193">To disable passive transport mode and return to active transport mode, the application calls *nx_ftp_client_passive_mode_set* with the second argument set to NX_FALSE.</span></span>

## <a name="ftp-communication"></a><span data-ttu-id="0bd73-194">Komunikacja FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-194">FTP Communication</span></span>

<span data-ttu-id="0bd73-195">Serwer FTP używa *dobrze znanego portu TCP 21* w polu żądania klientów.</span><span class="sxs-lookup"><span data-stu-id="0bd73-195">The FTP Server utilizes the *well-known TCP port 21* to field Client requests.</span></span> <span data-ttu-id="0bd73-196">Klienci FTP mogą korzystać z dowolnego dostępnego portu TCP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-196">FTP Clients may use any available TCP port.</span></span> <span data-ttu-id="0bd73-197">Ogólna sekwencja zdarzeń FTP jest następująca:</span><span class="sxs-lookup"><span data-stu-id="0bd73-197">The general sequence of FTP events is as follows:</span></span>

<span data-ttu-id="0bd73-198">**Żądania odczytu pliku FTP**:</span><span class="sxs-lookup"><span data-stu-id="0bd73-198">**FTP Read File Requests**:</span></span>

1. <span data-ttu-id="0bd73-199">Problemy z klientem połączenie TCP z serwerem 21.</span><span class="sxs-lookup"><span data-stu-id="0bd73-199">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="0bd73-200">Serwer wysyła odpowiedź "220", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-200">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-201">Klient wysyła komunikat "użytkownik" z "username".</span><span class="sxs-lookup"><span data-stu-id="0bd73-201">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="0bd73-202">Serwer wysyła odpowiedź "331", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-202">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-203">Klient wysyła komunikat "PASS" z hasłem "Password" (hasło).</span><span class="sxs-lookup"><span data-stu-id="0bd73-203">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="0bd73-204">Serwer wysyła odpowiedź "230", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-204">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-205">Klient wysyła komunikat "TYPE I" na potrzeby transferu binarnego.</span><span class="sxs-lookup"><span data-stu-id="0bd73-205">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="0bd73-206">Serwer wysyła odpowiedź "200", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-206">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-207">*Aplikacje IPv4*: klient wysyła komunikat "Port" z adresem IP i portem.</span><span class="sxs-lookup"><span data-stu-id="0bd73-207">*IPv4 applications*: Client sends “PORT” message with IP address and port.</span></span><br /><span data-ttu-id="0bd73-208">*Aplikacje IPv6*: klient wysyła komunikat "EPRT" z adresem IP i portem.</span><span class="sxs-lookup"><span data-stu-id="0bd73-208">*IPv6 applications*: Client sends “EPRT” message with IP address and port.</span></span>
1. <span data-ttu-id="0bd73-209">Serwer wysyła odpowiedź "200", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-209">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-210">Klient wysyła komunikat "RETR" z nazwą pliku do odczytu.</span><span class="sxs-lookup"><span data-stu-id="0bd73-210">Client sends “RETR” message with file name to read.</span></span>
1. <span data-ttu-id="0bd73-211">Serwer tworzy gniazdo danych i łączy się z portem danych klienta określonym w poleceniu "PORT".</span><span class="sxs-lookup"><span data-stu-id="0bd73-211">Server creates data socket and connects with client data port specified in the “PORT” command.</span></span>
1. <span data-ttu-id="0bd73-212">Serwer wysyła odpowiedź "125" do odczytu pliku sygnału.</span><span class="sxs-lookup"><span data-stu-id="0bd73-212">Server sends “125” response to signal file read has started.</span></span>
1. <span data-ttu-id="0bd73-213">Serwer wysyła zawartość pliku za pomocą połączenia danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-213">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="0bd73-214">Ten proces jest kontynuowany do momentu całkowitego przetransferowania pliku.</span><span class="sxs-lookup"><span data-stu-id="0bd73-214">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="0bd73-215">Po zakończeniu serwer rozłącza połączenie danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-215">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="0bd73-216">Serwer wysyła odpowiedź "250", aby odczytywanie pliku sygnału zakończyło się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-216">Server sends “250” response to signal file read is successful.</span></span>
1. <span data-ttu-id="0bd73-217">Klient wysyła "QUIT", aby zakończyć połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-217">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="0bd73-218">Serwer wysyła odpowiedź "221", aby sygnał rozłączył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-218">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="0bd73-219">Serwer rozłącza połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-219">Server disconnects FTP connection.</span></span>

<span data-ttu-id="0bd73-220">Jak wspomniano wcześniej, jedyną różnicą między usługą FTP działającą za pośrednictwem protokołu IPv4 i</span><span class="sxs-lookup"><span data-stu-id="0bd73-220">As mentioned previously, the only difference between FTP running over IPv4 and</span></span>

<span data-ttu-id="0bd73-221">IPv6 to polecenie PORT jest zastępowane poleceniem EPRT dla protokołu IPv6</span><span class="sxs-lookup"><span data-stu-id="0bd73-221">IPv6 is the PORT command is replaced with the EPRT command for IPv6</span></span>

<span data-ttu-id="0bd73-222">Jeśli klient FTP wykonuje żądanie odczytu w trybie transferu pasywnego, sekwencja poleceń jest następująca (**pogrubione** wiersze wskazują inny krok z aktywnego trybu transferu):</span><span class="sxs-lookup"><span data-stu-id="0bd73-222">If the FTP Client makes a read request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="0bd73-223">Problemy z klientem połączenie TCP z serwerem 21.</span><span class="sxs-lookup"><span data-stu-id="0bd73-223">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="0bd73-224">Serwer wysyła odpowiedź "220", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-224">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-225">Klient wysyła komunikat "użytkownik" z "username".</span><span class="sxs-lookup"><span data-stu-id="0bd73-225">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="0bd73-226">Serwer wysyła odpowiedź "331", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-226">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-227">Klient wysyła komunikat "PASS" z hasłem "Password" (hasło).</span><span class="sxs-lookup"><span data-stu-id="0bd73-227">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="0bd73-228">Serwer wysyła odpowiedź "230", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-228">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-229">Klient wysyła komunikat "TYPE I" na potrzeby transferu binarnego.</span><span class="sxs-lookup"><span data-stu-id="0bd73-229">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="0bd73-230">Serwer wysyła odpowiedź "200", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-230">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-231">***Aplikacje IPv4:* Klient wysyła komunikat "PASV".**</span><span class="sxs-lookup"><span data-stu-id="0bd73-231">***IPv4 applications:* Client sends “PASV” message.**</span></span><br /><span data-ttu-id="0bd73-232">**_Aplikacje IPv6:_ Klient wysyła komunikat "EPSV".**</span><span class="sxs-lookup"><span data-stu-id="0bd73-232">**_IPv6 applications:_ Client sends “EPSV” message.**</span></span>
1. <span data-ttu-id="0bd73-233">***Aplikacje IPv4:* Serwer wysyła odpowiedź "227" oraz adres IP i port, z którymi klient może się połączyć, aby sygnalizować powodzenie.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-233">***IPv4 applications:* Server sends “227” response, and IP address and port for the Client to connect to, to signal success.**</span></span><br /><span data-ttu-id="0bd73-234">**_Aplikacje IPv6:_ Serwer wysyła odpowiedź "229" oraz adres IP i port, z którymi klient może się połączyć, aby sygnalizować powodzenie.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-234">**_IPv6 applications:_ Server sends “229” response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="0bd73-235">Klient wysyła komunikat "RETR" z nazwą pliku do odczytu.</span><span class="sxs-lookup"><span data-stu-id="0bd73-235">Client sends “RETR” message with file name to read.</span></span>
1. <span data-ttu-id="0bd73-236">**Serwer tworzy gniazdo serwera danych i nasłuchuje dla żądania połączenia klienta w tym gnieździe przy użyciu portu określonego w odpowiedzi w kroku 10.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-236">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the response in step 10.**</span></span>
1. <span data-ttu-id="0bd73-237">**Serwer wysyła odpowiedź "150" w gnieździe sterowania do odczytania pliku sygnału.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-237">**Server sends “150” response on the control socket to signal file read has started.**</span></span>
1. <span data-ttu-id="0bd73-238">Serwer wysyła zawartość pliku za pomocą połączenia danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-238">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="0bd73-239">Ten proces jest kontynuowany do momentu całkowitego przetransferowania pliku.</span><span class="sxs-lookup"><span data-stu-id="0bd73-239">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="0bd73-240">Po zakończeniu serwer rozłącza połączenie danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-240">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="0bd73-241">**Serwer wysyła odpowiedź "226" w gnieździe sterowania, aby plik sygnału został pomyślnie odczytany.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-241">**Server sends “226” response on the control socket to signal file read is successful.**</span></span>
1. <span data-ttu-id="0bd73-242">Klient wysyła "QUIT", aby zakończyć połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-242">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="0bd73-243">Serwer wysyła odpowiedź "221", aby sygnał rozłączył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-243">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="0bd73-244">Serwer rozłącza połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-244">Server disconnects FTP connection.</span></span>

<span data-ttu-id="0bd73-245">**Żądania zapisu FTP**:</span><span class="sxs-lookup"><span data-stu-id="0bd73-245">**FTP Write Requests**:</span></span>

1. <span data-ttu-id="0bd73-246">Problemy z klientem połączenie TCP z serwerem 21.</span><span class="sxs-lookup"><span data-stu-id="0bd73-246">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="0bd73-247">Serwer wysyła odpowiedź "220", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-247">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-248">Klient wysyła komunikat "użytkownik" z "username".</span><span class="sxs-lookup"><span data-stu-id="0bd73-248">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="0bd73-249">Serwer wysyła odpowiedź "331", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-249">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-250">Klient wysyła komunikat "PASS" z hasłem "Password" (hasło).</span><span class="sxs-lookup"><span data-stu-id="0bd73-250">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="0bd73-251">Serwer wysyła odpowiedź "230", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-251">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-252">Klient wysyła komunikat "TYPE I" na potrzeby transferu binarnego.</span><span class="sxs-lookup"><span data-stu-id="0bd73-252">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="0bd73-253">Serwer wysyła odpowiedź "200", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-253">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-254">*Aplikacje IPv4*: klient wysyła komunikat "Port" z adresem IP i portem.</span><span class="sxs-lookup"><span data-stu-id="0bd73-254">*IPv4 applications*: Client sends “PORT” message with IP address and port.</span></span><br /><span data-ttu-id="0bd73-255">*Aplikacje IPv6*: klient wysyła komunikat "EPRT" z adresem IP i portem.</span><span class="sxs-lookup"><span data-stu-id="0bd73-255">*IPv6 applications*: Client sends “EPRT” message with IP address and port.</span></span>
1. <span data-ttu-id="0bd73-256">Serwer wysyła odpowiedź "200", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-256">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-257">Klient wysyła komunikat "STOR" z nazwą pliku do zapisu.</span><span class="sxs-lookup"><span data-stu-id="0bd73-257">Client sends “STOR” message with file name to write.</span></span>
1. <span data-ttu-id="0bd73-258">Serwer tworzy gniazdo danych i łączy się z portem danych klienta określonym w poprzednim poleceniu "EPRT" lub "PORT".</span><span class="sxs-lookup"><span data-stu-id="0bd73-258">Server creates data socket and connects with client data port specified in the previous “EPRT” or “PORT” command.</span></span>
1. <span data-ttu-id="0bd73-259">Serwer wysyła odpowiedź "125" do zapisu pliku sygnału zostało uruchomione.</span><span class="sxs-lookup"><span data-stu-id="0bd73-259">Server sends “125” response to signal file write has started.</span></span>
1. <span data-ttu-id="0bd73-260">Klient wysyła zawartość pliku za pomocą połączenia danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-260">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="0bd73-261">Ten proces jest kontynuowany do momentu całkowitego przetransferowania pliku.</span><span class="sxs-lookup"><span data-stu-id="0bd73-261">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="0bd73-262">Po zakończeniu klient rozłącza połączenie danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-262">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="0bd73-263">Serwer wysyła odpowiedź "250", aby zapis pliku sygnału zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-263">Server sends “250” response to signal file write is successful.</span></span>
1. <span data-ttu-id="0bd73-264">Klient wysyła "QUIT", aby zakończyć połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-264">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="0bd73-265">Serwer wysyła odpowiedź "221", aby sygnał rozłączył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-265">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="0bd73-266">Serwer rozłącza połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-266">Server disconnects FTP connection.</span></span>

<span data-ttu-id="0bd73-267">Jeśli klient FTP wykonuje żądanie zapisu w trybie transferu pasywnego, sekwencja poleceń jest następująca (**pogrubione** wiersze wskazują inny krok z aktywnego trybu transferu):</span><span class="sxs-lookup"><span data-stu-id="0bd73-267">If the FTP Client makes a write request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="0bd73-268">Problemy z klientem połączenie TCP z serwerem 21.</span><span class="sxs-lookup"><span data-stu-id="0bd73-268">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="0bd73-269">Serwer wysyła odpowiedź "220", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-269">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-270">Klient wysyła komunikat "użytkownik" z "username".</span><span class="sxs-lookup"><span data-stu-id="0bd73-270">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="0bd73-271">Serwer wysyła odpowiedź "331", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-271">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-272">Klient wysyła komunikat "PASS" z hasłem "Password" (hasło).</span><span class="sxs-lookup"><span data-stu-id="0bd73-272">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="0bd73-273">Serwer wysyła odpowiedź "230", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-273">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-274">Klient wysyła komunikat "TYPE I" na potrzeby transferu binarnego.</span><span class="sxs-lookup"><span data-stu-id="0bd73-274">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="0bd73-275">Serwer wysyła odpowiedź "200", aby sygnał zakończył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-275">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="0bd73-276">***Aplikacje IPv4:* Klient wysyła komunikat "PASV".**</span><span class="sxs-lookup"><span data-stu-id="0bd73-276">***IPv4 applications:* Client sends “PASV” message.**</span></span><br /><span data-ttu-id="0bd73-277">**_Aplikacje IPv6:_ Klient wysyła komunikat "EPSV".**</span><span class="sxs-lookup"><span data-stu-id="0bd73-277">**_IPv6 applications:_ Client sends “EPSV” message.**</span></span>
1. <span data-ttu-id="0bd73-278">***Aplikacje IPv4:* Serwer wysyła odpowiedź "227" oraz adres IP i port, z którymi klient może się połączyć, aby sygnalizować powodzenie.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-278">***IPv4 applications:* Server sends “227” response, and IP address and port for the Client to connect to, to signal success.**</span></span><br /><span data-ttu-id="0bd73-279">**_Aplikacje IPv6:_ Serwer wysyła odpowiedź "229" oraz adres IP i port, z którymi klient może się połączyć, aby sygnalizować powodzenie.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-279">**_IPv6 applications:_ Server sends “229” response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="0bd73-280">Klient wysyła komunikat "STOR" z nazwą pliku do zapisu.</span><span class="sxs-lookup"><span data-stu-id="0bd73-280">Client sends “STOR” message with file name to write.</span></span>
1. <span data-ttu-id="0bd73-281">**Serwer tworzy gniazdo serwera danych i nasłuchuje dla żądania połączenia klienta w tym gnieździe przy użyciu portu określonego w odpowiedzi w kroku 10.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-281">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the response in step 10.**</span></span>
1. <span data-ttu-id="0bd73-282">**Serwer wysyła odpowiedź "150" w gnieździe sterowania, aby został uruchomiony zapis pliku sygnału.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-282">**Server sends “150” response on the control socket to signal file write has started.**</span></span>
1. <span data-ttu-id="0bd73-283">Klient wysyła zawartość pliku za pomocą połączenia danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-283">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="0bd73-284">Ten proces jest kontynuowany do momentu całkowitego przetransferowania pliku.</span><span class="sxs-lookup"><span data-stu-id="0bd73-284">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="0bd73-285">Po zakończeniu klient rozłącza połączenie danych.</span><span class="sxs-lookup"><span data-stu-id="0bd73-285">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="0bd73-286">**Serwer wysyła odpowiedź "226" w gnieździe sterowania, aby sygnał zapisu pliku zakończył się pomyślnie.**</span><span class="sxs-lookup"><span data-stu-id="0bd73-286">**Server sends “226” response on the control socket to signal file write is successful.**</span></span>
1. <span data-ttu-id="0bd73-287">Klient wysyła "QUIT", aby zakończyć połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-287">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="0bd73-288">Serwer wysyła odpowiedź "221", aby sygnał rozłączył się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-288">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="0bd73-289">Serwer rozłącza połączenie FTP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-289">Server disconnects FTP connection.</span></span>

## <a name="ftp-authentication"></a><span data-ttu-id="0bd73-290">Uwierzytelnianie FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-290">FTP Authentication</span></span>

<span data-ttu-id="0bd73-291">Za każdym razem, gdy ma miejsce połączenie FTP, klient musi podać *nazwę użytkownika* i *hasło*.</span><span class="sxs-lookup"><span data-stu-id="0bd73-291">Whenever an FTP connection takes place, the Client must provide the Server with a *username* and *password*.</span></span> <span data-ttu-id="0bd73-292">Niektóre witryny FTP zezwalają na to, co jest nazywane *anonimową FTP*, co umożliwia dostęp do usługi FTP bez określonej nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="0bd73-292">Some FTP sites allow what is called *Anonymous FTP*, which allows FTP access without a specific username and password.</span></span> <span data-ttu-id="0bd73-293">Dla tego typu połączenia należy podać wartość "Anonymous" dla nazwy użytkownika, a hasło powinno być kompletnym adresem e-mail.</span><span class="sxs-lookup"><span data-stu-id="0bd73-293">For this type of connection, “anonymous” should be supplied for username and the password should be a complete e-mail address.</span></span>

<span data-ttu-id="0bd73-294">Użytkownik jest odpowiedzialny za dostarczanie NetX FTP z procedurami uwierzytelniania logowania i wylogowywania.</span><span class="sxs-lookup"><span data-stu-id="0bd73-294">The user is responsible for supplying NetX FTP with login and logout authentication routines.</span></span> <span data-ttu-id="0bd73-295">Są one dostarczane w ramach usług ***nxd_ftp_server_create** _ i _*_nx_ftp_server_create_\*_ i wywoływane z przetwarzania haseł.</span><span class="sxs-lookup"><span data-stu-id="0bd73-295">These are supplied during the ***nxd_ftp_server_create** _ and _*_nx_ftp_server_create_\*_ services and called from the password processing.</span></span> <span data-ttu-id="0bd73-296">Różnica między nimi polega na tym, że wskaźniki funkcji wejścia _*_nxd_ftp_server_create_*_ są używane do logowania i wylogowywania funkcji uwierzytelniania, oczekiwano typu adresu NetX Duo _*_NXD_ADDRESS_*_.</span><span class="sxs-lookup"><span data-stu-id="0bd73-296">The difference between the two is the _*_nxd_ftp_server_create_*_ input function pointers to login and logout authenticate functions expect the NetX Duo address type _*_NXD_ADDRESS_*_.</span></span> <span data-ttu-id="0bd73-297">Ten typ danych zawiera formaty adresów IPv4 lub IPv6, dzięki czemu ta funkcja jest usługą "Duo" obsługującą zarówno sieci IPv4, jak i IPv6.</span><span class="sxs-lookup"><span data-stu-id="0bd73-297">This data type holds both IPv4 or IPv6 address formats, making this function the “duo” service supporting both IPv4 and IPv6 networks.</span></span> <span data-ttu-id="0bd73-298">Funkcja input programu _ \*_nx_ftp_server_create_\*\*, która umożliwia zalogowanie i wylogowanie się, oczekuje ULONG typu adresu IP.</span><span class="sxs-lookup"><span data-stu-id="0bd73-298">The _ *_nx_ftp_server_create_*\* input function pointers to login and logout authenticate functions expect ULONG IP address type.</span></span> <span data-ttu-id="0bd73-299">Ta funkcja jest ograniczona do sieci IPv4.</span><span class="sxs-lookup"><span data-stu-id="0bd73-299">This function is limited to IPv4 networks.</span></span> <span data-ttu-id="0bd73-300">Deweloperzy są zachęcani do korzystania z usługi "Duo" wszędzie tam, gdzie to możliwe.</span><span class="sxs-lookup"><span data-stu-id="0bd73-300">The developer is encouraged to use the “duo” service whenever possible.</span></span>

<span data-ttu-id="0bd73-301">Jeśli funkcja *logowania* zwróci NX_SUCCESS, połączenie zostanie uwierzytelnione i operacje FTP są dozwolone.</span><span class="sxs-lookup"><span data-stu-id="0bd73-301">If the *login* function returns NX_SUCCESS, the connection is authenticated and FTP operations are allowed.</span></span> <span data-ttu-id="0bd73-302">W przeciwnym razie, jeśli funkcja *logowania* zwróci coś innego niż NX_SUCCESS, próba połączenia zostanie odrzucona.</span><span class="sxs-lookup"><span data-stu-id="0bd73-302">Otherwise, if the *login* function returns something other than NX_SUCCESS, the connection attempt is rejected.</span></span>

## <a name="ftp-multi-thread-support"></a><span data-ttu-id="0bd73-303">Obsługa wielowątkowości FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-303">FTP Multi-Thread Support</span></span>

<span data-ttu-id="0bd73-304">Usługi klienta FTP NetX można wywołać z wielu wątków jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="0bd73-304">The NetX FTP Client services can be called from multiple threads simultaneously.</span></span> <span data-ttu-id="0bd73-305">Jednak żądania odczytu lub zapisu dla danego wystąpienia klienta FTP powinny być wykonywane w kolejności z tego samego wątku.</span><span class="sxs-lookup"><span data-stu-id="0bd73-305">However, read or write requests for a particular FTP Client instance should be done in sequence from the same thread.</span></span>

## <a name="ftp-rfcs"></a><span data-ttu-id="0bd73-306">Specyfikacje RFC protokołu FTP</span><span class="sxs-lookup"><span data-stu-id="0bd73-306">FTP RFCs</span></span>

<span data-ttu-id="0bd73-307">Usługa FTP NetX Duo jest zgodna ze standardami RFC 959, RFC 2428 i pokrewnymi specyfikacjami RFC.</span><span class="sxs-lookup"><span data-stu-id="0bd73-307">NetX Duo FTP is compliant with RFC 959, RFC 2428 and related RFCs.</span></span>
