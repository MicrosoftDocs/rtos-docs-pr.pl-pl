---
title: Rozdział 5 — sterowniki sieciowe usługi Azure RTO NetX
description: Ten rozdział zawiera opis sterowników sieciowych dla usługi Azure RTO NetX.
author: philmea
ms.author: philmea
ms.date: 09/11/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: ccc55111d785d84cdb193c387830abbc03a15e7c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/22/2021
ms.locfileid: "104822758"
---
# <a name="chapter-5---netx-network-drivers"></a><span data-ttu-id="74824-103">Rozdział 5 — NetX sterowniki sieciowe</span><span class="sxs-lookup"><span data-stu-id="74824-103">Chapter 5 - NetX Network Drivers</span></span>

<span data-ttu-id="74824-104">Ten rozdział zawiera opis sterowników sieciowych dla usługi NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-104">This chapter contains a description of network drivers for NetX.</span></span> <span data-ttu-id="74824-105">Przedstawione informacje ułatwiają deweloperom pisanie sterowników sieciowych specyficznych dla aplikacji dla usługi Azure RTO NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-105">The information presented is designed to help developers write application-specific network drivers for Azure RTOS NetX.</span></span>

## <a name="driver-introduction"></a><span data-ttu-id="74824-106">Wprowadzenie do sterownika</span><span class="sxs-lookup"><span data-stu-id="74824-106">Driver Introduction</span></span>

<span data-ttu-id="74824-107">Struktura NX_IP zawiera wszystkie elementy do zarządzania pojedynczym wystąpieniem IP.</span><span class="sxs-lookup"><span data-stu-id="74824-107">The NX_IP structure contains everything to manage a single IP instance.</span></span> <span data-ttu-id="74824-108">Obejmuje to ogólne informacje o protokole TCP/IP, a także procedurę wejścia sterownika sieci fizycznej specyficzną dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="74824-108">This includes general TCP/IP protocol information as well as the application-specific physical network driver's entry routine.</span></span> <span data-ttu-id="74824-109">Procedura wejścia sterownika jest definiowana podczas ***nx_ip_create*** usługi.</span><span class="sxs-lookup"><span data-stu-id="74824-109">The driver's entry routine is defined during the ***nx_ip_create*** service.</span></span> <span data-ttu-id="74824-110">Dodatkowe urządzenia mogą być dodawane do wystąpienia IP za pośrednictwem usługi ***nx_ip_interface_attach*** .</span><span class="sxs-lookup"><span data-stu-id="74824-110">Additional devices may be added to the IP instance via the ***nx_ip_interface_attach*** service.</span></span>

<span data-ttu-id="74824-111">Komunikacja między NetX i sterownikiem sieciowym aplikacji jest realizowana za pomocą struktury żądania **NX_IP_DRIVER** .</span><span class="sxs-lookup"><span data-stu-id="74824-111">Communication between NetX and the application's network driver is accomplished through the **NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="74824-112">Ta struktura jest najczęściej zdefiniowana lokalnie na stosie obiektu wywołującego i dlatego jest wydawana po powrocie sterownika i wywołania funkcji.</span><span class="sxs-lookup"><span data-stu-id="74824-112">This structure is most often defined locally on the caller's stack and is therefore released after the driver and calling function return.</span></span> <span data-ttu-id="74824-113">Struktura jest zdefiniowana w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="74824-113">The structure is defined as follows.</span></span>

```C
typedef struct NX_IP_DRIVER_STRUCT
{
    UINT nx_ip_driver_command;
    UINT nx_ip_driver_status;
    ULONG nx_ip_driver_physical_address_msw;
    ULONG nx_ip_driver_physical_address_lsw;
    NX_PACKET *nx_ip_driver_packet;
    ULONG *nx_ip_driver_return_ptr;
    NX_IP *nx_ip_driver_ptr;
    NX_INTERFACE *nx_ip_driver_interface;
} NX_IP_DRIVER;
```

## <a name="driver-entry"></a><span data-ttu-id="74824-114">Wpis sterownika</span><span class="sxs-lookup"><span data-stu-id="74824-114">Driver Entry</span></span>

<span data-ttu-id="74824-115">NetX wywołuje funkcję wpisu sterownika sieci na potrzeby inicjowania sterownika i wysyłania pakietów oraz dla różnych operacji kontroli i stanu, w tym inicjowania i włączania urządzenia sieciowego.</span><span class="sxs-lookup"><span data-stu-id="74824-115">NetX invokes the network driver entry function for driver initialization and for sending packets and for various control and status operations, including initializing and enabling the network device.</span></span> <span data-ttu-id="74824-116">NetX wydaje polecenia do sterownika sieciowego przez ustawienie \***nx_ip_driver_command** _ pola w strukturze _ \*NX_IP_DRIVER\*\*.</span><span class="sxs-lookup"><span data-stu-id="74824-116">NetX issues commands to the network driver by setting the ***nx_ip_driver_command** _ field in the _ *NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="74824-117">Funkcja wprowadzania sterowników ma następujący format:</span><span class="sxs-lookup"><span data-stu-id="74824-117">The driver entry function has the following format:</span></span>

```C
VOID my_driver_entry(NX_IP_DRIVER *request);
```

## <a name="driver-requests"></a><span data-ttu-id="74824-118">Żądania sterowników</span><span class="sxs-lookup"><span data-stu-id="74824-118">Driver Requests</span></span>

<span data-ttu-id="74824-119">NetX tworzy żądanie sterownika przy użyciu określonego polecenia i wywołuje funkcję wejścia sterownika, aby wykonać polecenie.</span><span class="sxs-lookup"><span data-stu-id="74824-119">NetX creates the driver request with a specific command and invokes the driver entry function to execute the command.</span></span> <span data-ttu-id="74824-120">Ponieważ każdy sterownik sieciowy ma funkcję pojedynczego wpisu, NetX wykonuje wszystkie żądania za pomocą struktury danych żądania sterownika.</span><span class="sxs-lookup"><span data-stu-id="74824-120">Because each network driver has a single entry function, NetX makes all requests through the driver request data structure.</span></span> <span data-ttu-id="74824-121">***Nx_ip_driver_command*** członek struktury danych żądania sterownika (**NX_IP_DRIVER**) definiuje żądanie.</span><span class="sxs-lookup"><span data-stu-id="74824-121">The ***nx_ip_driver_command*** member of the driver request data structure (**NX_IP_DRIVER**) defines the request.</span></span> <span data-ttu-id="74824-122">Informacje o stanie są raportowane z powrotem do obiektu wywołującego w ***nx_ip_driver_status*** członkowskich.</span><span class="sxs-lookup"><span data-stu-id="74824-122">Status information is reported back to the caller in the member ***nx_ip_driver_status***.</span></span> <span data-ttu-id="74824-123">Jeśli to pole jest **NX_SUCCESS**, żądanie sterownika zostało zakończone pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="74824-123">If this field is **NX_SUCCESS**, the driver request was completed successfully.</span></span>

<span data-ttu-id="74824-124">NetX serializować cały dostęp do sterownika.</span><span class="sxs-lookup"><span data-stu-id="74824-124">NetX serializes all access to the driver.</span></span> <span data-ttu-id="74824-125">W związku z tym sterownik nie musi obsługiwać wielu wątków asynchronicznie wywołujących funkcję entry.</span><span class="sxs-lookup"><span data-stu-id="74824-125">Therefore, the driver does not need to handle multiple threads asynchronously calling the entry function.</span></span> <span data-ttu-id="74824-126">Należy pamiętać, że funkcja sterownika urządzenia jest wykonywana z zablokowanym elementem mutex IP.</span><span class="sxs-lookup"><span data-stu-id="74824-126">Note that the device driver function executes with the IP mutex locked.</span></span> <span data-ttu-id="74824-127">W związku z tym wewnętrzna funkcja sterownika urządzenia nie jest blokowana.</span><span class="sxs-lookup"><span data-stu-id="74824-127">Therefore the device driver internal function shall not block itself.</span></span>

<span data-ttu-id="74824-128">Zazwyczaj sterownik urządzenia obsługuje również przerwania.</span><span class="sxs-lookup"><span data-stu-id="74824-128">Typically the device driver also handles interrupts.</span></span> <span data-ttu-id="74824-129">W związku z tym wszystkie funkcje sterownika muszą być bezpieczne dla przerwań.</span><span class="sxs-lookup"><span data-stu-id="74824-129">Therefore, all driver functions need to be interrupt-safe.</span></span>

### <a name="driver-initialization"></a><span data-ttu-id="74824-130">Inicjowanie sterownika</span><span class="sxs-lookup"><span data-stu-id="74824-130">Driver Initialization</span></span>

<span data-ttu-id="74824-131">Chociaż rzeczywiste przetwarzanie inicjacji sterownika jest specyficzne dla aplikacji, zwykle składa się ona ze struktury danych i fizycznej inicjalizacji sprzętowej.</span><span class="sxs-lookup"><span data-stu-id="74824-131">Although the actual driver initialization processing is application specific, it usually consists of data structure and physical hardware initialization.</span></span> <span data-ttu-id="74824-132">Informacje wymagane od NetX do inicjacji sterownika to maksymalna jednostka transmisji (MTU) IP, czyli liczba bajtów dostępnych dla ładunku warstwy IP, w tym nagłówek IP, a jeśli interfejs fizyczny wymaga mapowania logicznego do fizycznego.</span><span class="sxs-lookup"><span data-stu-id="74824-132">The information required from NetX for driver initialization is the IP Maximum Transmission Unit (MTU), which is the number of bytes available to the IP-layer payload, including IP header) and if the physical interface needs logical-to-physical mapping.</span></span> <span data-ttu-id="74824-133">Wymagania dotyczące sterownika</span><span class="sxs-lookup"><span data-stu-id="74824-133">The driver needs</span></span>

<span data-ttu-id="74824-134">Aby skonfigurować jednostkę MTU interfejsu przez ustawienie wartości w \***nx_interface_ip_mtu_size** _ w strukturze _ \*NX_INTERFACE\*\*.</span><span class="sxs-lookup"><span data-stu-id="74824-134">to configure the interface MTU by setting the value in ***nx_interface_ip_mtu_size** _ in the _ *NX_INTERFACE** structure.</span></span>

<span data-ttu-id="74824-135">Sterownik urządzenia musi również skonfigurować wartość w ***nx_ip_interface_address_mapping_needed*** w</span><span class="sxs-lookup"><span data-stu-id="74824-135">The device driver also needs to set up the value in ***nx_ip_interface_address_mapping_needed*** in</span></span>

<span data-ttu-id="74824-136">**NX_INTERFACE** , aby informować o tym, czy mapowanie adresów interfejsu jest wymagane.</span><span class="sxs-lookup"><span data-stu-id="74824-136">**NX_INTERFACE** to inform NetX whether or not interface address mapping is required.</span></span> <span data-ttu-id="74824-137">Jeśli konieczne jest mapowanie adresów, sterownik jest odpowiedzialny za skonfigurowanie interfejsu z prawidłowym adresem MAC i dostarczenie adresu MAC NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-137">If address mapping is needed, the driver is responsible for configuring the interface with valid MAC address, and supply the MAC address to NetX.</span></span>

<span data-ttu-id="74824-138">Gdy sterownik sieciowy odbiera NX_LINK żądanie INITIALIZE z NetX, otrzymuje wskaźnik do bloku kontroli IP w ramach bloku kontrolki żądania NX_IP_DRIVER pokazanego powyżej.</span><span class="sxs-lookup"><span data-stu-id="74824-138">When the network driver receives the NX_LINK INITIALIZE request from NetX, it receives a pointer to the IP control block as part of the NX_IP_DRIVER request control block shown above.</span></span>

<span data-ttu-id="74824-139">Gdy aplikacja wywoła ***nx_ip_create***, wątek pomocnika IP wysyła żądanie sterownika z zestawem polecenie, aby NX_LINK_INITIALIZE do sterownika w celu zainicjowania fizycznego interfejsu sieciowego.</span><span class="sxs-lookup"><span data-stu-id="74824-139">After the application calls ***nx_ip_create***, the IP helper thread sends a driver request with the command set to NX_LINK_INITIALIZE to the driver to initialize its physical network interface.</span></span> <span data-ttu-id="74824-140">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania Initialize.</span><span class="sxs-lookup"><span data-stu-id="74824-140">The following NX_IP_DRIVER members are used for the initialize request.</span></span>

| <span data-ttu-id="74824-141">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-141">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="74824-142">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-142">Meaning</span></span> |
|------------------------|-----------------------------------------------|
| <span data-ttu-id="74824-143">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-143">nx_ip_driver_command</span></span>   | <span data-ttu-id="74824-144">NX_LINK_INITIALIZE</span><span class="sxs-lookup"><span data-stu-id="74824-144">NX_LINK_INITIALIZE</span></span> |
| <span data-ttu-id="74824-145">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-145">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="74824-146">Wskaźnik na wystąpienie protokołu IP.</span><span class="sxs-lookup"><span data-stu-id="74824-146">Pointer to the IP instance.</span></span> <span data-ttu-id="74824-147">Ta wartość powinna być zapisywana przez sterownik, aby funkcja sterownika mogła znaleźć wystąpienie adresu IP, na którym ma działać.</span><span class="sxs-lookup"><span data-stu-id="74824-147">This value should be saved by the driver so that the driver function can find the IP instance to operate on.</span></span> |
| <span data-ttu-id="74824-148">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-148">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-149">Wskaźnik do struktury interfejsu sieciowego w ramach wystąpienia adresu IP.</span><span class="sxs-lookup"><span data-stu-id="74824-149">Pointer to the network interface structure within the IP instance.</span></span> <span data-ttu-id="74824-150">Te informacje powinny być zapisywane przez sterownik.</span><span class="sxs-lookup"><span data-stu-id="74824-150">This information should be saved by the driver.</span></span> <span data-ttu-id="74824-151">W przypadku pakietów odbierających sterownik używa informacji o strukturze interfejsu podczas wysyłania pakietu w górę stosu.</span><span class="sxs-lookup"><span data-stu-id="74824-151">On receiving packets, the driver shall use the interface structure information when sending the packet up the stack.</span></span> |
| <span data-ttu-id="74824-152">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-152">nx_ip_driver_status</span></span>    | <span data-ttu-id="74824-153">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-153">Completion status.</span></span> <span data-ttu-id="74824-154">Jeśli sterownik nie może zainicjować określonego interfejsu w wystąpieniu protokołu IP, spowoduje to zwrócenie stanu błędu o wartości niezerowej.</span><span class="sxs-lookup"><span data-stu-id="74824-154">If the driver is not able to initialize the specified interface to the IP instance, it will return a nonzero error status.</span></span>                                                                                           |


> [!IMPORTANT]
> <span data-ttu-id="74824-155">*Większość poleceń sterowników jest wywoływanych z wątku pomocnika IP, który został utworzony dla wystąpienia IP. W związku z tym procedura sterownika powinna unikać wykonywania operacji blokowania lub wątek pomocnika IP może spowodować nieograniczone opóźnienia dla aplikacji, które korzystają z wątku IP.*</span><span class="sxs-lookup"><span data-stu-id="74824-155">*Most of the driver commands are called from the IP helper thread that was created for the IP instance. Therefore the driver routine should avoid performing blocking operations, or the IP helper thread could stall, causing unbounded delays to applications that rely on the IP thread.*</span></span>

### <a name="enable-link"></a><span data-ttu-id="74824-156">Włącz link</span><span class="sxs-lookup"><span data-stu-id="74824-156">Enable Link</span></span>  

<span data-ttu-id="74824-157">Następnie wątek pomocnika IP włącza sieć fizyczną przez ustawienie polecenia sterownika NX_LINK_ENABLE w żądaniu sterownika i wysłanie żądania do sterownika sieciowego.</span><span class="sxs-lookup"><span data-stu-id="74824-157">Next, the IP helper thread enables the physical network by setting the driver command to NX_LINK_ENABLE in the driver request and sending the request to the network driver.</span></span> <span data-ttu-id="74824-158">Dzieje się to wkrótce po zakończeniu wątku pomocnika IP.</span><span class="sxs-lookup"><span data-stu-id="74824-158">This happens shortly after the IP helper thread completes the initialization request.</span></span> <span data-ttu-id="74824-159">Włączenie linku może być proste, ponieważ ustawienie pola nx_interface_link_up w wystąpieniu interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-159">Enabling the link may be as simple as setting the nx_interface_link_up field in the interface instance.</span></span> <span data-ttu-id="74824-160">Może to jednak również wymagać manipulowania sprzętem fizycznym.</span><span class="sxs-lookup"><span data-stu-id="74824-160">But it may also involve manipulation of the physical hardware.</span></span> <span data-ttu-id="74824-161">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania włączenia linku.</span><span class="sxs-lookup"><span data-stu-id="74824-161">The following NX_IP_DRIVER members are used for the enable link request.</span></span>

| <span data-ttu-id="74824-162">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-162">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="74824-163">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-163">Meaning</span></span> |
|------------------------|------------------------------------------|
| <span data-ttu-id="74824-164">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-164">nx_ip_driver_command</span></span>   | <span data-ttu-id="74824-165">NX_LINK_ENABLE</span><span class="sxs-lookup"><span data-stu-id="74824-165">NX_LINK_ENABLE</span></span>                                                                                                          |
| <span data-ttu-id="74824-166">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-166">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="74824-167">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-167">Pointer to IP instance</span></span>                                                                                                  |
| <span data-ttu-id="74824-168">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-168">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-169">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-169">Pointer to the interface instance</span></span>                                                                                       |
| <span data-ttu-id="74824-170">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-170">nx_ip_driver_status</span></span>    | <span data-ttu-id="74824-171">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-171">Completion status.</span></span> <span data-ttu-id="74824-172">Jeśli sterownik nie może włączyć określonego interfejsu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-172">If the driver is not able to enable the specified interface, it will return a non-zero error status.</span></span> |



### <a name="disable-link"></a><span data-ttu-id="74824-173">Wyłącz link</span><span class="sxs-lookup"><span data-stu-id="74824-173">Disable Link</span></span>  

<span data-ttu-id="74824-174">To żądanie jest nawiązywane przez NetX podczas usuwania wystąpienia IP przez usługę \***nx_ip_delete** _.</span><span class="sxs-lookup"><span data-stu-id="74824-174">This request is made by NetX during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="74824-175">Lub aplikacja może wydać to polecenie, aby tymczasowo wyłączyć link w celu zaoszczędzenia mocy.</span><span class="sxs-lookup"><span data-stu-id="74824-175">Or an application may issue this command in order to temporarily disable the link in order to save power.</span></span> <span data-ttu-id="74824-176">Ta usługa wyłącza fizyczny interfejs sieciowy w wystąpieniu IP.</span><span class="sxs-lookup"><span data-stu-id="74824-176">This service disables the physical network interface on the IP instance.</span></span> <span data-ttu-id="74824-177">Przetwarzanie w celu wyłączenia łącza może być proste, ponieważ czyści _flagę nx_interface_link_up \* w wystąpieniu interfejsu. Może to jednak również wymagać manipulowania sprzętem fizycznym. Zwykle jest to operacja odwrotna operacji \***enable link**_ .</span><span class="sxs-lookup"><span data-stu-id="74824-177">The processing to disable the link may be as simple as clearing the _nx_interface_link_up\* flag in the interface instance. But it may also involve manipulation of the physical hardware. Typically it is a reverse operation of the \***Enable Link**_ operation.</span></span> <span data-ttu-id="74824-178">Gdy łącze zostanie wyłączone, żądanie aplikacji _ Włącz operację \*_link_\*\*, aby włączyć interfejs.</span><span class="sxs-lookup"><span data-stu-id="74824-178">After the link is disabled, the application request _ *_Enable Link_*\* operation to enable the interface.</span></span> <span data-ttu-id="74824-179">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania Disable link.</span><span class="sxs-lookup"><span data-stu-id="74824-179">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="74824-180">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-180">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="74824-181">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-181">Meaning</span></span> |
|------------------------|--------------------------------------|
| <span data-ttu-id="74824-182">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-182">nx_ip_driver_command</span></span>   | <span data-ttu-id="74824-183">NX_LINK_DISABLE</span><span class="sxs-lookup"><span data-stu-id="74824-183">NX_LINK_DISABLE</span></span> |
| <span data-ttu-id="74824-184">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-184">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="74824-185">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-185">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-186">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-186">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-187">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-187">Pointer to the interface instance</span></span> |
| <span data-ttu-id="74824-188">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-188">nx_ip_driver_status</span></span>    | <span data-ttu-id="74824-189">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-189">Completion status.</span></span> <span data-ttu-id="74824-190">Jeśli sterownik nie może wyłączyć określonego interfejsu w wystąpieniu protokołu IP, zwróci on stan błędu różny od zera.</span><span class="sxs-lookup"><span data-stu-id="74824-190">If the driver is not able to disable the specified interface in the IP instance, it will return a non-zero error status.</span></span> |


### <a name="uninitialize-link"></a><span data-ttu-id="74824-191">Odinicjuj łącze</span><span class="sxs-lookup"><span data-stu-id="74824-191">Uninitialize Link</span></span>  

<span data-ttu-id="74824-192">To żądanie jest nawiązywane przez NetX podczas usuwania wystąpienia IP przez usługę ***nx_ip_delete*** .</span><span class="sxs-lookup"><span data-stu-id="74824-192">This request is made by NetX during the deletion of an IP instance by the ***nx_ip_delete*** service.</span></span> <span data-ttu-id="74824-193">To żądanie służy do odinicjowania interfejsu i zwolnienia wszelkich zasobów utworzonych podczas fazy inicjalizacji.</span><span class="sxs-lookup"><span data-stu-id="74824-193">This request uninitialize the interface, and release any resources created during initialization phase.</span></span> <span data-ttu-id="74824-194">Zwykle jest to operacja odwrotna operacji ***inicjowania linku*** .</span><span class="sxs-lookup"><span data-stu-id="74824-194">Typically it is a reverse operation of the ***Initialize Link*** operation.</span></span> <span data-ttu-id="74824-195">Po uninitalized interfejsu nie można użyć urządzenia, dopóki interfejs nie zostanie ponownie zainicjowany.</span><span class="sxs-lookup"><span data-stu-id="74824-195">After the interface is uninitalized, the device cannot be used until the interface is initialized again.</span></span>

<span data-ttu-id="74824-196">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania Disable link.</span><span class="sxs-lookup"><span data-stu-id="74824-196">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="74824-197">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-197">NX_IP_DRIVER member</span></span>  | <span data-ttu-id="74824-198">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-198">Meaning</span></span>                |
|----------------------|------------------------|
| <span data-ttu-id="74824-199">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-199">nx_ip_driver_command</span></span> | <span data-ttu-id="74824-200">NX_LINK_UNINITIALZE</span><span class="sxs-lookup"><span data-stu-id="74824-200">NX_LINK_UNINITIALZE</span></span>    |
| <span data-ttu-id="74824-201">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-201">nx_ip_driver_ptr</span></span>     | <span data-ttu-id="74824-202">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-202">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-203">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-203">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-204">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-204">Pointer to the interface instance</span></span> |
| <span data-ttu-id="74824-205">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-205">nx_ip_driver_status</span></span>    | <span data-ttu-id="74824-206">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-206">Completion status.</span></span> <span data-ttu-id="74824-207">Jeśli sterownik nie może wymusić inicjalizacji określonego interfejsu do wystąpienia IP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-207">If the driver is not able to uninitialize the specified interface to the IP instance, it will return a non-zero error status.</span></span> |


### <a name="packet-send"></a><span data-ttu-id="74824-208">Wysyłanie pakietów</span><span class="sxs-lookup"><span data-stu-id="74824-208">Packet Send</span></span>  

<span data-ttu-id="74824-209">To żądanie jest wykonywane w trakcie wewnętrznego przetwarzania wysyłania adresów IP, przetwarzania, w którym wszystkie protokoły NetX używają do przesyłania pakietów (z wyjątkiem ARP, RARP).</span><span class="sxs-lookup"><span data-stu-id="74824-209">This request is made during internal IP send processing, processing, which all NetX protocols use to transmit packets (except for ARP, RARP).</span></span> <span data-ttu-id="74824-210">W przypadku odebrania polecenia Wyślij pakiet *nx_packet_prepend_ptr* wskazuje na początek pakietu do wysłania, czyli początek nagłówka IP.</span><span class="sxs-lookup"><span data-stu-id="74824-210">On receiving the packet send command, the *nx_packet_prepend_ptr* points to the beginning of the packet to be sent, which is the beginning of the IP header.</span></span>
<span data-ttu-id="74824-211">*nx_packet_length* wskazuje łączny rozmiar (w bajtach) przesyłanych danych.</span><span class="sxs-lookup"><span data-stu-id="74824-211">*nx_packet_length* indicates the total size (in bytes) of the data being transmitted.</span></span> <span data-ttu-id="74824-212">Jeśli *nx_packet_next* jest prawidłowy, wychodzący datagram IP jest przechowywany w wielu pakietach, sterownik jest wymagany do podążania za łańcuchowym pakietem i przesyłania całej ramki.</span><span class="sxs-lookup"><span data-stu-id="74824-212">If *nx_packet_next* is valid, the outgoing IP datagram is stored in multiple packets, the driver is required to follow the chained packet and transmit the entire frame.</span></span> <span data-ttu-id="74824-213">Należy zauważyć, że prawidłowy obszar danych w każdym łańcuchowym pakiecie jest przechowywany między *nx_packet_prepend_ptr* i *nx_packet_append_ptr*.</span><span class="sxs-lookup"><span data-stu-id="74824-213">Note that valid data area in each chained packet is stored between *nx_packet_prepend_ptr* and *nx_packet_append_ptr*.</span></span>

<span data-ttu-id="74824-214">Sterownik jest odpowiedzialny za konstruowanie nagłówka fizycznego.</span><span class="sxs-lookup"><span data-stu-id="74824-214">The driver is responsible for constructing physical header.</span></span> <span data-ttu-id="74824-215">Jeśli wymagany jest adres fizyczny do mapowania adresów IP (np. Ethernet), warstwa adresów IP już rozwiązała adres MAC.</span><span class="sxs-lookup"><span data-stu-id="74824-215">If physical address to IP address mapping is required (such as Ethernet), the IP layer already resolved the MAC address.</span></span> <span data-ttu-id="74824-216">Docelowy adres MAC jest przesyłany z wystąpienia IP przechowywanego w *nx_ip_driver_physical_address_msw i nx_ip_driver_physical_address_lsw.*</span><span class="sxs-lookup"><span data-stu-id="74824-216">The destination MAC address is passed from the IP instance, stored in *nx_ip_driver_physical_address_msw and nx_ip_driver_physical_address_lsw.*</span></span>

<span data-ttu-id="74824-217">Po dodaniu fizycznego nagłówka, przetwarzanie wysyłane przez pakiet, następnie wywołuje funkcję wyjściową sterownika, aby przesłać pakiet.</span><span class="sxs-lookup"><span data-stu-id="74824-217">After adding the physical header, the packet send processing then calls the driver's output function to transmit the packet.</span></span>

<span data-ttu-id="74824-218">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania wysłania pakietu.</span><span class="sxs-lookup"><span data-stu-id="74824-218">The following NX_IP_DRIVER members are used for the packet send request.</span></span>

| <span data-ttu-id="74824-219">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-219">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="74824-220">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-220">Meaning</span></span> |
|-----------------------------------|---------------------------------------------------------------|
| <span data-ttu-id="74824-221">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-221">nx_ip_driver_command</span></span>              | <span data-ttu-id="74824-222">NX_LINK_PACKET_SEND</span><span class="sxs-lookup"><span data-stu-id="74824-222">NX_LINK_PACKET_SEND</span></span> |
| <span data-ttu-id="74824-223">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-223">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="74824-224">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-224">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-225">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="74824-225">nx_ip_driver_packet</span></span>               | <span data-ttu-id="74824-226">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="74824-226">Pointer to the packet to send</span></span> |
| <span data-ttu-id="74824-227">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-227">nx_ip_driver_interface</span></span>            | <span data-ttu-id="74824-228">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-228">Pointer to the interface instance.</span></span>             |
| <span data-ttu-id="74824-229">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="74824-229">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="74824-230">Najbardziej znaczące 32-bitowe adresów fizycznych (tylko w przypadku konieczności mapowania fizycznego)</span><span class="sxs-lookup"><span data-stu-id="74824-230">Most significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="74824-231">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="74824-231">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="74824-232">Najmniej znaczące 32-bitów adresów fizycznych (tylko w przypadku konieczności mapowania fizycznego)</span><span class="sxs-lookup"><span data-stu-id="74824-232">Least significant 32-bits of physical address (only if physical mapping needed)</span></span>    |
| <span data-ttu-id="74824-233">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-233">nx_ip_driver_status</span></span>               | <span data-ttu-id="74824-234">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-234">Completion status.</span></span> <span data-ttu-id="74824-235">Jeśli sterownik nie może wysłać pakietu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-235">If the driver is not able to send the packet, it will return a non-zero error status.</span></span>  |

### <a name="packet-broadcast"></a><span data-ttu-id="74824-236">Emisja pakietów</span><span class="sxs-lookup"><span data-stu-id="74824-236">Packet Broadcast</span></span>  
<span data-ttu-id="74824-237">To żądanie jest niemal identyczne z żądaniem wysyłania pakietu.</span><span class="sxs-lookup"><span data-stu-id="74824-237">This request is almost identical to the send packet request.</span></span> <span data-ttu-id="74824-238">Jedyną różnicą jest to, że docelowe pola adresu fizycznego są ustawiane na adres MAC emisji sieci Ethernet.</span><span class="sxs-lookup"><span data-stu-id="74824-238">The only difference is that the destination physical address fields are set to the Ethernet broadcast MAC address.</span></span> <span data-ttu-id="74824-239">Do żądania emisji pakietów są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="74824-239">The following NX_IP_DRIVER members are used for the packet broadcast request.</span></span>

| <span data-ttu-id="74824-240">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-240">NX_IP_DRIVER member</span></span>                | <span data-ttu-id="74824-241">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-241">Meaning</span></span>          |
|------------------------------------|--------------------------------------------------------------|
| <span data-ttu-id="74824-242">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-242">nx_ip_driver_command</span></span>               | <span data-ttu-id="74824-243">NX_LINK_PACKET_BROADCAST</span><span class="sxs-lookup"><span data-stu-id="74824-243">NX_LINK_PACKET_BROADCAST</span></span> |
| <span data-ttu-id="74824-244">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-244">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="74824-245">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-245">Pointer to IP instance</span></span>  |
| <span data-ttu-id="74824-246">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="74824-246">nx_ip_driver_packet</span></span>                | <span data-ttu-id="74824-247">Wskaźnik do pakietu do końca</span><span class="sxs-lookup"><span data-stu-id="74824-247">Pointer to the packet to end</span></span> |
| <span data-ttu-id="74824-248">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="74824-248">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="74824-249">Emisja 0x0000FFFF)</span><span class="sxs-lookup"><span data-stu-id="74824-249">0x0000FFFF broadcast)</span></span> |
| <span data-ttu-id="74824-250">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="74824-250">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="74824-251">emisji 0xFFFFFFFF)</span><span class="sxs-lookup"><span data-stu-id="74824-251">0xFFFFFFFF  broadcast)</span></span> |
| <span data-ttu-id="74824-252">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-252">nx_ip_driver_interface</span></span>             | <span data-ttu-id="74824-253">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-253">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="74824-254">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-254">nx_ip_driver_status</span></span>                | <span data-ttu-id="74824-255">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-255">Completion status.</span></span> <span data-ttu-id="74824-256">Jeśli sterownik nie może wysłać pakietu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-256">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="arp-send"></a><span data-ttu-id="74824-257">Wysyłanie protokołu ARP</span><span class="sxs-lookup"><span data-stu-id="74824-257">ARP Send</span></span>  

<span data-ttu-id="74824-258">To żądanie jest również podobne do żądania wysłania pakietów IP.</span><span class="sxs-lookup"><span data-stu-id="74824-258">This request is also similar to the IP packet send request.</span></span>
<span data-ttu-id="74824-259">Jedyną różnicą jest to, że nagłówek Ethernet określa pakiet ARP zamiast pakietu IP, a docelowe pola adresów fizycznych są ustawiane na adres MAC emisji.</span><span class="sxs-lookup"><span data-stu-id="74824-259">The only difference is that the Ethernet header specifies an ARP packet instead of an IP packet, and destination physical address fields are set to MAC broadcast address.</span></span> <span data-ttu-id="74824-260">Do żądania wysłania ARP są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="74824-260">The following NX_IP_DRIVER members are used for the ARP send request.</span></span>

| <span data-ttu-id="74824-261">**NX_IP_DRIVER składową**</span><span class="sxs-lookup"><span data-stu-id="74824-261">**NX_IP_DRIVER member**</span></span> | <span data-ttu-id="74824-262">**Znaczenie**</span><span class="sxs-lookup"><span data-stu-id="74824-262">**Meaning**</span></span> |
| --- | --- |
| <span data-ttu-id="74824-263">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-263">nx_ip_driver_command</span></span> | <span data-ttu-id="74824-264">NX_LINK_ARP_SEND</span><span class="sxs-lookup"><span data-stu-id="74824-264">NX_LINK_ARP_SEND</span></span> |
| <span data-ttu-id="74824-265">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-265">nx_ip_driver_ptr</span></span> | <span data-ttu-id="74824-266">Wskaźnik na wystąpienie adresu IP.</span><span class="sxs-lookup"><span data-stu-id="74824-266">Pointer to IP instance.</span></span> |
| <span data-ttu-id="74824-267">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="74824-267">nx_ip_driver_packet</span></span> | <span data-ttu-id="74824-268">Wskaźnik do pakietu do wysłania.</span><span class="sxs-lookup"><span data-stu-id="74824-268">Pointer to the packet to send.</span></span> |
| <span data-ttu-id="74824-269">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="74824-269">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="74824-270">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="74824-270">0x0000FFFF (broadcast)</span></span> |
| <span data-ttu-id="74824-271">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="74824-271">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="74824-272">0xFFFFFFFF (emisja)</span><span class="sxs-lookup"><span data-stu-id="74824-272">0xFFFFFFFF (broadcast)</span></span> |
| <span data-ttu-id="74824-273">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-273">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-274">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-274">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="74824-275">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-275">nx_ip_driver_status</span></span> | <span data-ttu-id="74824-276">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-276">Completion status.</span></span> <span data-ttu-id="74824-277">Jeśli sterownik nie może wysłać pakietu ARP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-277">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

<span data-ttu-id="74824-278">*Jeśli mapowanie fizyczne nie jest potrzebne, implementacja tego żądania nie jest wymagana.*</span><span class="sxs-lookup"><span data-stu-id="74824-278">*If physical mapping is not needed, implementation of this request is not required.*</span></span>

### <a name="arp-response-send"></a><span data-ttu-id="74824-279">Wysyłanie odpowiedzi ARP</span><span class="sxs-lookup"><span data-stu-id="74824-279">ARP Response Send</span></span>  

<span data-ttu-id="74824-280">To żądanie jest niemal identyczne z żądaniem wysyłania pakietów protokołu ARP.</span><span class="sxs-lookup"><span data-stu-id="74824-280">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="74824-281">Jedyną różnicą jest to, że docelowe pola adresów fizycznych są przesyłane z wystąpienia IP.</span><span class="sxs-lookup"><span data-stu-id="74824-281">The only difference is the destination physical address fields are passed from the IP instance.</span></span> <span data-ttu-id="74824-282">Do żądania wysłania odpowiedzi ARP są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="74824-282">The following NX_IP_DRIVER members are used for the ARP response send request.</span></span>

| <span data-ttu-id="74824-283">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-283">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="74824-284">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-284">Meaning</span></span> |
|-----------------------------------| ------------------------------------|
| <span data-ttu-id="74824-285">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-285">nx_ip_driver_command</span></span>              | <span data-ttu-id="74824-286">NX_LINK_ARP_RESPONSE_SEND</span><span class="sxs-lookup"><span data-stu-id="74824-286">NX_LINK_ARP_RESPONSE_SEND</span></span> |
| <span data-ttu-id="74824-287">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-287">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="74824-288">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-288">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-289">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="74824-289">nx_ip_driver_packet</span></span>               | <span data-ttu-id="74824-290">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="74824-290">Pointer to the packet to send</span></span>|
| <span data-ttu-id="74824-291">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="74824-291">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="74824-292">Najbardziej znaczące 32-bitów adresu fizycznego</span><span class="sxs-lookup"><span data-stu-id="74824-292">Most significant 32-bits of physical address</span></span> |
| <span data-ttu-id="74824-293">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="74824-293">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="74824-294">Najmniej znaczące 32-bitowe adresy fizyczne</span><span class="sxs-lookup"><span data-stu-id="74824-294">Least significant 32-bits of physical address</span></span>                     |
| <span data-ttu-id="74824-295">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-295">nx_ip_driver_interface</span></span>            | <span data-ttu-id="74824-296">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-296">Pointer to the interface instance</span></span> |
| <span data-ttu-id="74824-297">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-297">nx_ip_driver_status</span></span>               | <span data-ttu-id="74824-298">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-298">Completion status.</span></span> <span data-ttu-id="74824-299">Jeśli sterownik nie może wysłać pakietu ARP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-299">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!NOTE]
> <span data-ttu-id="74824-300">*Jeśli mapowanie fizyczne nie jest potrzebne, implementacja tego żądania nie jest wymagana.*</span><span class="sxs-lookup"><span data-stu-id="74824-300">*If physical mapping is not needed, implementation of this request is not required.*</span></span>

### <a name="rarp-send"></a><span data-ttu-id="74824-301">RARP wysyłaj</span><span class="sxs-lookup"><span data-stu-id="74824-301">RARP Send</span></span>  

<span data-ttu-id="74824-302">To żądanie jest niemal identyczne z żądaniem wysyłania pakietów protokołu ARP.</span><span class="sxs-lookup"><span data-stu-id="74824-302">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="74824-303">Jedyne różnice to typ nagłówka pakietu i pola adresu fizycznego nie są wymagane, ponieważ fizyczne miejsce docelowe jest zawsze adresem emisji.</span><span class="sxs-lookup"><span data-stu-id="74824-303">The only differences are the type of packet header and the physical address fields are not required because the physical destination is always a broadcast address.</span></span>

<span data-ttu-id="74824-304">Następujące NX_IP_DRIVER elementy członkowskie są używane dla żądania wysłania RARP.</span><span class="sxs-lookup"><span data-stu-id="74824-304">The following NX_IP_DRIVER members are used for the RARP send request.</span></span>

| <span data-ttu-id="74824-305">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-305">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="74824-306">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-306">Meaning</span></span> |
|-----------------------------------|---------------------------------|
| <span data-ttu-id="74824-307">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-307">nx_ip_driver_command</span></span>              |<span data-ttu-id="74824-308">NX_LINK_RARP_SEND</span><span class="sxs-lookup"><span data-stu-id="74824-308">NX_LINK_RARP_SEND</span></span> |
| <span data-ttu-id="74824-309">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-309">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="74824-310">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-310">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-311">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="74824-311">nx_ip_driver_packet</span></span>               | <span data-ttu-id="74824-312">Wskaźnik do pakietu do wysłania</span><span class="sxs-lookup"><span data-stu-id="74824-312">Pointer to the packet to send</span></span> |
| <span data-ttu-id="74824-313">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="74824-313">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="74824-314">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="74824-314">0x0000FFFF (broadcast)</span></span> |
| <span data-ttu-id="74824-315">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="74824-315">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="74824-316">0xFFFFFFFF (emisja)</span><span class="sxs-lookup"><span data-stu-id="74824-316">0xFFFFFFFF (broadcast)</span></span> |
| <span data-ttu-id="74824-317">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-317">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="74824-318">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-318">Meaning</span></span> |
| <span data-ttu-id="74824-319">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-319">nx_ip_driver_interface</span></span>            | <span data-ttu-id="74824-320">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-320">Pointer to the interface instance</span></span> |
| <span data-ttu-id="74824-321">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-321">nx_ip_driver_status</span></span>               | <span data-ttu-id="74824-322">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-322">Completion status.</span></span> <span data-ttu-id="74824-323">Jeśli sterownik nie może wysłać pakietu RARP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-323">If the driver is not able to send the RARP packet, it will return a non-zero error status.</span></span>  |

> [!NOTE]
> <span data-ttu-id="74824-324">*Aplikacje wymagające usługi RARP muszą implementować to polecenie.*</span><span class="sxs-lookup"><span data-stu-id="74824-324">*Applications that require RARP service must implement this command.*</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="74824-325">Przyłączanie do grupy multiemisji</span><span class="sxs-lookup"><span data-stu-id="74824-325">Multicast Group Join</span></span>  

<span data-ttu-id="74824-326">To żądanie jest nawiązywane z usługą ***nx_igmp_multicast_interface Join*** .</span><span class="sxs-lookup"><span data-stu-id="74824-326">This request is made with the ***nx_igmp_multicast_interface join*** service.</span></span> <span data-ttu-id="74824-327">Sterownik sieciowy przyjmuje podany adres grupy multiemisji i konfiguruje nośnik fizyczny do akceptowania pakietów przychodzących z tego adresu grupy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="74824-327">The network driver takes the supplied multicast group address and sets up the physical media to accept incoming packets from that multicast group address.</span></span> <span data-ttu-id="74824-328">Należy pamiętać, że w przypadku sterowników, które nie obsługują filtru multiemisji, logika odbierania sterowników może być w trybie ogólnym.</span><span class="sxs-lookup"><span data-stu-id="74824-328">Note that for drivers that don't support multicast filter, the driver receive logic may have to be in promiscuous mode.</span></span> <span data-ttu-id="74824-329">W takim przypadku może być konieczne odfiltrowanie ramek przychodzących na podstawie docelowego adresu MAC, co zmniejsza ilość ruchu przesyłanego do wystąpienia IP.</span><span class="sxs-lookup"><span data-stu-id="74824-329">In this case, the driver may need to filter incoming frames based on destination MAC address, thus reducing the amount of traffic passed into the IP instance.</span></span> <span data-ttu-id="74824-330">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania dołączenia do grupy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="74824-330">The following NX_IP_DRIVER members are used for the multicast group join request.</span></span>

| <span data-ttu-id="74824-331">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-331">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="74824-332">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-332">Meaning</span></span> |
|-----------------------------------|-----------------------------------------------------------------------|
| <span data-ttu-id="74824-333">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-333">nx_ip_driver_command</span></span>              | <span data-ttu-id="74824-334">NX_LINK_MULTICAST_JOIN</span><span class="sxs-lookup"><span data-stu-id="74824-334">NX_LINK_MULTICAST_JOIN</span></span>                                                |
| <span data-ttu-id="74824-335">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-335">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="74824-336">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-336">Pointer to IP instance</span></span>                                                |
| <span data-ttu-id="74824-337">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="74824-337">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="74824-338">Najbardziej znaczące 32-bitowe fizyczne adresy multiemisji</span><span class="sxs-lookup"><span data-stu-id="74824-338">Most significant 32-bits of physical multicast address</span></span>                |
| <span data-ttu-id="74824-339">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="74824-339">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="74824-340">Najmniej znaczące 32-bitowe fizyczne adresy multiemisji</span><span class="sxs-lookup"><span data-stu-id="74824-340">Least significant 32-bits of physical multicast address</span></span>               |
| <span data-ttu-id="74824-341">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-341">nx_ip_driver_interface</span></span>            | <span data-ttu-id="74824-342">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-342">Pointer to the interface instance</span></span>                                     |
| <span data-ttu-id="74824-343">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-343">nx_ip_driver_status</span></span>               | <span data-ttu-id="74824-344">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-344">Completion status.</span></span> <span data-ttu-id="74824-345">Jeśli sterownik nie może dołączyć do grupy multiemisji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-345">If the driver is not able to join the multicast group, it will return a non-zero error status.</span></span> |


### <a name="multicast-group-leave"></a><span data-ttu-id="74824-346">Opuszczenie grupy multiemisji</span><span class="sxs-lookup"><span data-stu-id="74824-346">Multicast Group Leave</span></span>  

<span data-ttu-id="74824-347">To żądanie jest wywoływane przez jawne wywołanie usługi ***nx_igmp_multicast_leave*** .</span><span class="sxs-lookup"><span data-stu-id="74824-347">This request is invoked by explicitly calling the ***nx_igmp_multicast_leave*** service.</span></span> <span data-ttu-id="74824-348">Sterownik usuwa podany adres multiemisji Ethernet z listy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="74824-348">The driver removes the supplied Ethernet multicast address from the multicast list.</span></span> <span data-ttu-id="74824-349">Gdy host opuścił grupę multiemisji, pakiety w sieci z tym adresem multiemisji Ethernet nie są już odbierane przez to wystąpienie tego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="74824-349">After a host has left a multicast group, packets on the network with this Ethernet multicast address are no longer received by this IP instance.</span></span> <span data-ttu-id="74824-350">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania opuszczenia grupy multiemisji.</span><span class="sxs-lookup"><span data-stu-id="74824-350">The following NX_IP_DRIVER members are used for the multicast group leave request.</span></span>

| <span data-ttu-id="74824-351">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-351">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="74824-352">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-352">Meaning</span></span> |
|-----------------------------------|-----------------------------------------------------------------|
| <span data-ttu-id="74824-353">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-353">nx_ip_driver_command</span></span>              | <span data-ttu-id="74824-354">NX_LINK_MULTICAST_LEAVE</span><span class="sxs-lookup"><span data-stu-id="74824-354">NX_LINK_MULTICAST_LEAVE</span></span> |
| <span data-ttu-id="74824-355">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-355">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="74824-356">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-356">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-357">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="74824-357">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="74824-358">Najbardziej znaczące 32 dres IP fizycznych multiemisji</span><span class="sxs-lookup"><span data-stu-id="74824-358">Most significant 32 bits of physical multicast ddress</span></span> |
| <span data-ttu-id="74824-359">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="74824-359">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="74824-360">Najmniej znaczące 32 bitów fizycznego adresu multiemisji</span><span class="sxs-lookup"><span data-stu-id="74824-360">Least significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="74824-361">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-361">nx_ip_driver_interface</span></span>            | <span data-ttu-id="74824-362">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-362">Pointer to the interface instance</span></span> |
| <span data-ttu-id="74824-363">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-363">nx_ip_driver_status</span></span>               | <span data-ttu-id="74824-364">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-364">Completion status.</span></span> <span data-ttu-id="74824-365">Jeśli sterownik nie może opuścić grupy multiemisji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-365">If the driver is not able to leave the multicast group, it will return a non-zero error status.</span></span> |


### <a name="attach-interface"></a><span data-ttu-id="74824-366">Dołącz interfejs</span><span class="sxs-lookup"><span data-stu-id="74824-366">Attach Interface</span></span>  

<span data-ttu-id="74824-367">To żądanie jest wywoływane z NetX do sterownika urządzenia, umożliwiając sterownikowi skojarzenie wystąpienia sterownika z odpowiednim wystąpieniem adresu IP i wystąpieniem interfejsu fizycznego w ramach adresu IP.</span><span class="sxs-lookup"><span data-stu-id="74824-367">This request is invoked from the NetX to the device driver, allowing the driver to associate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="74824-368">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania dołączania interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-368">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="74824-369">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-369">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="74824-370">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-370">Meaning</span></span> |
|------------------------|-------------------------------------------------|
| <span data-ttu-id="74824-371">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-371">nx_ip_driver_command</span></span>   | <span data-ttu-id="74824-372">X_LINK_INTERFACE_ATTACH</span><span class="sxs-lookup"><span data-stu-id="74824-372">X_LINK_INTERFACE_ATTACH</span></span> |
| <span data-ttu-id="74824-373">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-373">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="74824-374">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-374">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-375">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-375">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-376">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-376">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="74824-377">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-377">nx_ip_driver_status</span></span>    | <span data-ttu-id="74824-378">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-378">Completion status.</span></span> <span data-ttu-id="74824-379">Jeśli sterownik nie może odłączyć określonego interfejsu do wystąpienia IP, zostanie zwrócony stan błędu różny od zera.</span><span class="sxs-lookup"><span data-stu-id="74824-379">If the driver is not able to detach the specified interface to the IP instance, it will return a non-zero error status.</span></span>  |


### <a name="detach-interface"></a><span data-ttu-id="74824-380">Odłącz interfejs</span><span class="sxs-lookup"><span data-stu-id="74824-380">Detach Interface</span></span>  

<span data-ttu-id="74824-381">To żądanie jest wywoływane przez NetX do sterownika urządzenia, umożliwiając sterownikowi skojarzenie wystąpienia sterownika z odpowiednim wystąpieniem IP i wystąpieniem interfejsu fizycznego w ramach adresu IP.</span><span class="sxs-lookup"><span data-stu-id="74824-381">This request is invoked by NetX to the device driver, allowing the driver to disassociate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="74824-382">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania dołączania interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-382">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="74824-383">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-383">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="74824-384">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-384">Meaning</span></span> |
|------------------------|---------------------------------------------------------|
| <span data-ttu-id="74824-385">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-385">nx_ip_driver_command</span></span>   | <span data-ttu-id="74824-386">NX_LINK_INTERFACE_DETACH</span><span class="sxs-lookup"><span data-stu-id="74824-386">NX_LINK_INTERFACE_DETACH</span></span> |
| <span data-ttu-id="74824-387">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-387">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="74824-388">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-388">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-389">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-389">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-390">Wskaźnik do wystąpienia interfejsu.</span><span class="sxs-lookup"><span data-stu-id="74824-390">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="74824-391">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-391">nx_ip_driver_status</span></span>    | <span data-ttu-id="74824-392">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-392">Completion status.</span></span> <span data-ttu-id="74824-393">Jeśli sterownik nie może dołączyć określonego interfejsu do wystąpienia protokołu IP, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-393">If the driver is not able to attach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="get-link-status"></a><span data-ttu-id="74824-394">Pobierz stan łącza</span><span class="sxs-lookup"><span data-stu-id="74824-394">Get Link Status</span></span>  

<span data-ttu-id="74824-395">Aplikacja może wysyłać zapytania o stan łącza interfejsu sieciowego za pomocą usługi NetX  ***nx_ip_interface_status_check*** Service dla dowolnego interfejsu na hoście.</span><span class="sxs-lookup"><span data-stu-id="74824-395">The application can query the network interface link status using the NetX service  ***nx_ip_interface_status_check*** service for any interface on the host.</span></span> <span data-ttu-id="74824-396">Aby uzyskać więcej informacji na temat tych usług, zobacz rozdział 4 "Opis usług NetX Services" na stronie 107.</span><span class="sxs-lookup"><span data-stu-id="74824-396">See Chapter 4, "Description of NetX Services" on page 107, for more details on these services.</span></span>

<span data-ttu-id="74824-397">Stan łącza jest zawarty w polu *nx_interface_link_up* w strukturze NX_INTERFACE wskazywanym przez *nx_ip_driver_interface* wskaźnik.</span><span class="sxs-lookup"><span data-stu-id="74824-397">The link status is contained in the *nx_interface_link_up* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* pointer.</span></span> <span data-ttu-id="74824-398">Do żądania stanu linku są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="74824-398">The following NX_IP_DRIVER members are used for the link status request.</span></span>

| <span data-ttu-id="74824-399">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-399">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-400">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-400">Meaning</span></span>                                                                                                      |
|-------------------------|--------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="74824-401">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-401">nx_ip_driver_command</span></span>    | <span data-ttu-id="74824-402">NX_LINK_GET_STATUS</span><span class="sxs-lookup"><span data-stu-id="74824-402">NX_LINK_GET_STATUS</span></span>                                                                                           |
| <span data-ttu-id="74824-403">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-403">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="74824-404">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-404">Pointer to IP instance</span></span>                                                                                       |
| <span data-ttu-id="74824-405">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-405">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-406">Wskaźnik do miejsca docelowego w celu umieszczenia stanu.</span><span class="sxs-lookup"><span data-stu-id="74824-406">Pointer to the destination to place the status.</span></span>                                                              |
| <span data-ttu-id="74824-407">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-407">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-408">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-408">Pointer to the interface instance</span></span>                                                                            |
| <span data-ttu-id="74824-409">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-409">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-410">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-410">Completion status.</span></span> <span data-ttu-id="74824-411">Jeśli sterownik nie może uzyskać określonego stanu, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-411">If the driver is not able to get specific status, it will return a non-zero error status.</span></span> |
|                         |                                                                                                              |

> [!NOTE]
> <span data-ttu-id="74824-412">***nx_ip_status_check** nadal dostępne do sprawdzenia stanu interfejsu podstawowego. Jednak deweloperzy aplikacji zachęca się do korzystania z usługi specyficznej dla interfejsu **nx_ip_interface_status_check.***</span><span class="sxs-lookup"><span data-stu-id="74824-412">***nx_ip_status_check** is still available for checking the status of the primary interface. However, application developers are encouraged to use the interface-specific service **nx_ip_interface_status_check.***</span></span>

### <a name="get-link-speed"></a><span data-ttu-id="74824-413">Pobierz szybkość łącza</span><span class="sxs-lookup"><span data-stu-id="74824-413">Get Link Speed</span></span>  

<span data-ttu-id="74824-414">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="74824-414">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="74824-415">Sterownik przechowuje szybkość linii linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="74824-415">The driver stores the link's line speed in the supplied destination.</span></span> <span data-ttu-id="74824-416">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania szybkiej szybkości łącza.</span><span class="sxs-lookup"><span data-stu-id="74824-416">The following NX_IP_DRIVER members are used for the link line speed request.</span></span>

| <span data-ttu-id="74824-417">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-417">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-418">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-418">Meaning</span></span> |
|-------------------------|---------------------------------------------------------------|
| <span data-ttu-id="74824-419">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-419">nx_ip_driver_command</span></span>    | <span data-ttu-id="74824-420">NX_LINK_GET_SPEED</span><span class="sxs-lookup"><span data-stu-id="74824-420">NX_LINK_GET_SPEED</span></span> |
| <span data-ttu-id="74824-421">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-421">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="74824-422">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-422">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-423">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-423">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-424">Wskaźnik do miejsca docelowego, aby umieścić szybkość linii</span><span class="sxs-lookup"><span data-stu-id="74824-424">Pointer to the destination to place the line speed</span></span> |
| <span data-ttu-id="74824-425">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-425">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-426">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-426">Pointer to the interface instance</span></span> |
| <span data-ttu-id="74824-427">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-427">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-428">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-428">Completion status.</span></span> <span data-ttu-id="74824-429">Jeśli sterownik nie może uzyskać informacji o szybkości, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-429">If the driver is not able to get speed information, it will return a non-zero error status.</span></span>
 |


> [!NOTE]
> <span data-ttu-id="74824-430">*To żądanie nie jest używane wewnętrznie przez NetX, więc jego implementacja jest opcjonalna.*</span><span class="sxs-lookup"><span data-stu-id="74824-430">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-duplex-type"></a><span data-ttu-id="74824-431">Pobierz typ dupleksu</span><span class="sxs-lookup"><span data-stu-id="74824-431">Get Duplex Type</span></span>  

<span data-ttu-id="74824-432">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="74824-432">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="74824-433">Sterownik przechowuje typ dupleksu linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="74824-433">The driver stores the link's duplex type in the supplied destination.</span></span> <span data-ttu-id="74824-434">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania typu dupleksowego.</span><span class="sxs-lookup"><span data-stu-id="74824-434">The following NX_IP_DRIVER members are used for the duplex type request.</span></span>

| <span data-ttu-id="74824-435">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-435">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-436">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-436">Meaning</span></span> |
|-------------------------|-----------------------------------------------------|
| <span data-ttu-id="74824-437">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-437">nx_ip_driver_command</span></span>    | <span data-ttu-id="74824-438">NX_LINK_GET_DUPLEX_TYPE</span><span class="sxs-lookup"><span data-stu-id="74824-438">NX_LINK_GET_DUPLEX_TYPE</span></span> |
| <span data-ttu-id="74824-439">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-439">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="74824-440">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-440">Pointer to IP instance</span></span> |
| <span data-ttu-id="74824-441">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-441">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-442">Wskaźnik do miejsca docelowego w celu umieszczenia typu dupleksowego</span><span class="sxs-lookup"><span data-stu-id="74824-442">Pointer to the destination to place the duplex type</span></span> |
| <span data-ttu-id="74824-443">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-443">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-444">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-444">Pointer to the interface instance</span></span> |
| <span data-ttu-id="74824-445">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-445">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-446">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-446">Completion status.</span></span> <span data-ttu-id="74824-447">Jeśli sterownik nie może uzyskać informacji o dupleksie, spowoduje to zwrócenie stanu błędu o wartości niezerowej.</span><span class="sxs-lookup"><span data-stu-id="74824-447">If the driver is not able to get duplex information, it will return a nonzero error status.</span></span>
 |


> [!NOTE]
> <span data-ttu-id="74824-448">*To żądanie nie jest używane wewnętrznie przez NetX, więc jego implementacja jest opcjonalna.*</span><span class="sxs-lookup"><span data-stu-id="74824-448">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-error-count"></a><span data-ttu-id="74824-449">Pobierz liczbę błędów</span><span class="sxs-lookup"><span data-stu-id="74824-449">Get Error Count</span></span>  

<span data-ttu-id="74824-450">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="74824-450">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="74824-451">Sterownik przechowuje liczbę błędów linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="74824-451">The driver stores the link's error count in the supplied destination.</span></span> <span data-ttu-id="74824-452">Aby zapewnić obsługę tej funkcji, Sterownik musi śledzić błędy operacji.</span><span class="sxs-lookup"><span data-stu-id="74824-452">To support this feature, the driver needs to track operation errors.</span></span> <span data-ttu-id="74824-453">Do żądania liczby błędów linków są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="74824-453">The following NX_IP_DRIVER members are used for the link error count request.</span></span>

| <span data-ttu-id="74824-454">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-454">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-455">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-455">Meaning</span></span>                                                                                                  |
|-------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="74824-456">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-456">nx_ip_driver_command</span></span>    | <span data-ttu-id="74824-457">NX_LINK_GET_ERROR_COUNT</span><span class="sxs-lookup"><span data-stu-id="74824-457">NX_LINK_GET_ERROR_COUNT</span></span>                                                                                  |
| <span data-ttu-id="74824-458">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-458">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="74824-459">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-459">Pointer to IP instance</span></span>                                                                                   |
| <span data-ttu-id="74824-460">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-460">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-461">Wskaźnik do miejsca docelowego, w którym ma zostać umieszczona liczba błędów</span><span class="sxs-lookup"><span data-stu-id="74824-461">Pointer to the destination to place the error count</span></span>                                                      |
| <span data-ttu-id="74824-462">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-462">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-463">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-463">Pointer to the interface instance</span></span>                                                                        |
| <span data-ttu-id="74824-464">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-464">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-465">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-465">Completion status.</span></span> <span data-ttu-id="74824-466">Jeśli sterownik nie może uzyskać liczby błędów, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-466">If the driver is not able to get error count, it will return a non-zero error status.</span></span> |


> [!NOTE]
> <span data-ttu-id="74824-467">*To żądanie nie jest używane wewnętrznie przez NetX, więc jego implementacja jest opcjonalna.*</span><span class="sxs-lookup"><span data-stu-id="74824-467">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-receive-packet-count"></a><span data-ttu-id="74824-468">Pobierz liczbę pakietów odebranych</span><span class="sxs-lookup"><span data-stu-id="74824-468">Get Receive Packet Count</span></span>  

<span data-ttu-id="74824-469">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="74824-469">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="74824-470">Sterownik przechowuje liczbę pakietów odbioru linku w podanej lokalizacji docelowej.</span><span class="sxs-lookup"><span data-stu-id="74824-470">The driver stores the link's receive packet count in the supplied destination.</span></span> <span data-ttu-id="74824-471">Aby zapewnić obsługę tej funkcji, Sterownik musi śledzić liczbę odebranych pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-471">To support this feature, the driver needs to keep track of the number of packets received.</span></span> <span data-ttu-id="74824-472">Następujące NX_IP_DRIVER członkowie są używani do żądania odebrania liczby pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-472">The following NX_IP_DRIVER members are used for the link receive packet count request.</span></span>

| <span data-ttu-id="74824-473">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-473">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-474">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-474">Meaning</span></span>                                                                                                    |
|-------------------------|------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="74824-475">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-475">nx_ip_driver_command</span></span>    | <span data-ttu-id="74824-476">NX_LINK_GET_RX_COUNT</span><span class="sxs-lookup"><span data-stu-id="74824-476">NX_LINK_GET_RX_COUNT</span></span>                                                                                       |
| <span data-ttu-id="74824-477">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-477">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="74824-478">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-478">Pointer to IP instance</span></span>                                                                                     |
| <span data-ttu-id="74824-479">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-479">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-480">Wskaźnik do miejsca docelowego, w którym ma zostać umieszczona liczba pakietów odbieranych</span><span class="sxs-lookup"><span data-stu-id="74824-480">Pointer to the destination to place the receive packet count</span></span>                                               |
| <span data-ttu-id="74824-481">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-481">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-482">Wskaźnik do fizycznego interfejsu sieciowego</span><span class="sxs-lookup"><span data-stu-id="74824-482">Pointer to the physical network interface</span></span>                                                                  |
| <span data-ttu-id="74824-483">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-483">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-484">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-484">Completion status.</span></span> <span data-ttu-id="74824-485">Jeśli sterownik nie może uzyskać liczby odbieranych, zostanie zwrócony stan błędu różny od zera.</span><span class="sxs-lookup"><span data-stu-id="74824-485">If the driver is not able to get receive count, it will return a non-zero error status.</span></span> |


> [!NOTE]
> <span data-ttu-id="74824-486">*To żądanie nie jest używane wewnętrznie przez NetX, więc jego implementacja jest opcjonalna.*</span><span class="sxs-lookup"><span data-stu-id="74824-486">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-transmit-packet-count"></a><span data-ttu-id="74824-487">Pobierz liczbę pakietów transmisji</span><span class="sxs-lookup"><span data-stu-id="74824-487">Get Transmit Packet Count</span></span>  

<span data-ttu-id="74824-488">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="74824-488">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="74824-489">Sterownik przechowuje liczbę pakietów przesyłanych przez link w podanej lokalizacji docelowej.</span><span class="sxs-lookup"><span data-stu-id="74824-489">The driver stores the link's transmit packet count in the supplied destination.</span></span> <span data-ttu-id="74824-490">Aby zapewnić obsługę tej funkcji, Sterownik musi śledzić każdy pakiet przesyłany w każdym interfejsie.</span><span class="sxs-lookup"><span data-stu-id="74824-490">To support this feature, the driver needs to keep track of each packet it transmits on each interface.</span></span> <span data-ttu-id="74824-491">Następujące elementy członkowskie NX_IP_DRIVER są używane dla żądania liczby pakietów przesyłania linku.</span><span class="sxs-lookup"><span data-stu-id="74824-491">The following NX_IP_DRIVER members are used for the link transmit packet count request.</span></span>

| <span data-ttu-id="74824-492">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-492">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-493">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-493">Meaning</span></span>                                                                                                     |
|-------------------------|-------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="74824-494">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-494">nx_ip_driver_command</span></span>    | <span data-ttu-id="74824-495">NX_LINK_GET_TX_COUNT</span><span class="sxs-lookup"><span data-stu-id="74824-495">NX_LINK_GET_TX_COUNT</span></span>                                                                                        |
| <span data-ttu-id="74824-496">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-496">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="74824-497">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-497">Pointer to IP instance</span></span>                                                                                      |
| <span data-ttu-id="74824-498">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-498">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-499">Wskaźnik do lokalizacji docelowej, w której ma zostać umieszczona liczba pakietów transmisji</span><span class="sxs-lookup"><span data-stu-id="74824-499">Pointer to the destination to place the transmit packet count</span></span>                                               |
| <span data-ttu-id="74824-500">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-500">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-501">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-501">Pointer to the interface instance</span></span>                                                                           |
| <span data-ttu-id="74824-502">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-502">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-503">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-503">Completion status.</span></span> <span data-ttu-id="74824-504">Jeśli sterownik nie jest w stanie uzyskać liczby transmisji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-504">If the driver is not able to get transmit count, it will return a non-zero error status.</span></span> |


> [!NOTE]
> <span data-ttu-id="74824-505">*To żądanie nie jest używane wewnętrznie przez NetX, więc jego implementacja jest opcjonalna.*</span><span class="sxs-lookup"><span data-stu-id="74824-505">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-allocation-errors"></a><span data-ttu-id="74824-506">Pobierz błędy alokacji</span><span class="sxs-lookup"><span data-stu-id="74824-506">Get Allocation Errors</span></span>  

<span data-ttu-id="74824-507">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="74824-507">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="74824-508">Sterownik przechowuje liczbę błędów alokacji puli pakietów linku w podanym miejscu docelowym.</span><span class="sxs-lookup"><span data-stu-id="74824-508">The driver stores the link's packet pool allocation error count in the supplied destination.</span></span> <span data-ttu-id="74824-509">Do żądania liczby błędów alokacji łącza są używane następujące elementy członkowskie NX_IP_DRIVER.</span><span class="sxs-lookup"><span data-stu-id="74824-509">The following NX_IP_DRIVER members are used for the link allocation error count request.</span></span>

| <span data-ttu-id="74824-510">**NX_IP_DRIVER składową**</span><span class="sxs-lookup"><span data-stu-id="74824-510">**NX_IP_DRIVER member**</span></span> | <span data-ttu-id="74824-511">**Znaczenie**</span><span class="sxs-lookup"><span data-stu-id="74824-511">**Meaning**</span></span> |
| --- | ---|
| <span data-ttu-id="74824-512">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-512">nx_ip_driver_command</span></span> | <span data-ttu-id="74824-513">NX_LINK_GET_ALLOC_ERRORS</span><span class="sxs-lookup"><span data-stu-id="74824-513">NX_LINK_GET_ALLOC_ERRORS</span></span> |
| <span data-ttu-id="74824-514">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-514">nx_ip_driver_ptr</span></span> | <span data-ttu-id="74824-515">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-515">Pointer to IP instance</span></span> |

| <span data-ttu-id="74824-516">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-516">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-517">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-517">Meaning</span></span>                                                                                                        |
|-------------------------|----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="74824-518">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-518">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-519">Wskaźnik do miejsca docelowego, w którym ma zostać umieszczona liczba błędów alokacji</span><span class="sxs-lookup"><span data-stu-id="74824-519">Pointer to the destination to place the allocation error count</span></span>                                                 |
| <span data-ttu-id="74824-520">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-520">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-521">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-521">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="74824-522">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-522">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-523">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-523">Completion status.</span></span> <span data-ttu-id="74824-524">Jeśli sterownik nie może pobrać błędów alokacji, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-524">If the driver is not able to get allocation errors, it will return a non-zero error status.</span></span> |


<span data-ttu-id="74824-525">*To żądanie nie jest używane wewnętrznie przez NetX, więc jego implementacja jest opcjonalna.*</span><span class="sxs-lookup"><span data-stu-id="74824-525">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="driver-deferred-processing"></a><span data-ttu-id="74824-526">Przetwarzanie Odroczone sterownika</span><span class="sxs-lookup"><span data-stu-id="74824-526">Driver Deferred Processing</span></span>  

<span data-ttu-id="74824-527">To żądanie jest nawiązywane z wątku pomocnika IP w odpowiedzi na sterownik wywołujący procedurę _ ***nx_ip_driver_deferred_processing*** z procedury przesyłania lub odbierania funkcji ISR.</span><span class="sxs-lookup"><span data-stu-id="74824-527">This request is made from the IP helper thread in response to the driver calling the _ ***nx_ip_driver_deferred_processing*** routine from a transmit or receive ISR.</span></span> <span data-ttu-id="74824-528">Dzięki temu sterownik może opóźniać odbieranie i przesyłanie pakietów do wątku pomocnika IP, a tym samym zmniejszyć ilość do przetworzenia w procesie ISR.</span><span class="sxs-lookup"><span data-stu-id="74824-528">This allows the driver ISR to defer the packet receive and transmit processing to the IP helper thread and thus reduce the amount to process in the ISR.</span></span> <span data-ttu-id="74824-529">Pole *nx_interface_additional_link_info* w strukturze NX_INTERFACE wskazywane przez *nx_ip_driver_interface* może być używane przez sterownik do przechowywania informacji o odroczonym zdarzeniu przetwarzania z kontekstu wątku pomocnika IP.</span><span class="sxs-lookup"><span data-stu-id="74824-529">The *nx_interface_additional_link_info* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* may be used by the driver to store information about the deferred processing event from the IP helper thread context.</span></span> <span data-ttu-id="74824-530">Następujące NX_IP_DRIVER elementy członkowskie są używane dla zdarzenia odroczonego przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="74824-530">The following NX_IP_DRIVER members are used for the deferred processing event.</span></span>

<span data-ttu-id="74824-531">**NX_IP_DRIVER**</span><span class="sxs-lookup"><span data-stu-id="74824-531">**NX_IP_DRIVER**</span></span>

| <span data-ttu-id="74824-532">członek</span><span class="sxs-lookup"><span data-stu-id="74824-532">member</span></span>                 | <span data-ttu-id="74824-533">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-533">Meaning</span></span>                           |
|------------------------|-----------------------------------|
| <span data-ttu-id="74824-534">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-534">nx_ip_driver_command</span></span>   | <span data-ttu-id="74824-535">NX_LINK_DEFERRED_PROCESSING</span><span class="sxs-lookup"><span data-stu-id="74824-535">NX_LINK_DEFERRED_PROCESSING</span></span>       |
| <span data-ttu-id="74824-536">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-536">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="74824-537">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-537">Pointer to IP instance</span></span>            |
| <span data-ttu-id="74824-538">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-538">nx_ip_driver_interface</span></span> | <span data-ttu-id="74824-539">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-539">Pointer to the interface instance</span></span> |


### <a name="user-commands"></a><span data-ttu-id="74824-540">Polecenia użytkownika</span><span class="sxs-lookup"><span data-stu-id="74824-540">User Commands</span></span>  

<span data-ttu-id="74824-541">To żądanie jest nawiązywane z poziomu usługi ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="74824-541">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="74824-542">Sterownik przetwarza polecenia użytkownika specyficzne dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="74824-542">The driver processes the application specific user commands.</span></span> <span data-ttu-id="74824-543">Następujące NX_IP_DRIVER elementy członkowskie są używane dla żądania polecenia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="74824-543">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="74824-544">NX_IP_DRIVER składową</span><span class="sxs-lookup"><span data-stu-id="74824-544">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="74824-545">Znaczenie</span><span class="sxs-lookup"><span data-stu-id="74824-545">Meaning</span></span>                                                                                                        |
|-------------------------|----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="74824-546">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="74824-546">nx_ip_driver_command</span></span>    | <span data-ttu-id="74824-547">NX_LINK_USER_COMMAND</span><span class="sxs-lookup"><span data-stu-id="74824-547">NX_LINK_USER_COMMAND</span></span>                                                                                           |
| <span data-ttu-id="74824-548">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-548">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="74824-549">Wskaźnik do wystąpienia adresu IP</span><span class="sxs-lookup"><span data-stu-id="74824-549">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="74824-550">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="74824-550">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="74824-551">Zdefiniowane przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="74824-551">User defined</span></span>                                                                                                   |
| <span data-ttu-id="74824-552">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="74824-552">nx_ip_driver_interface</span></span>  | <span data-ttu-id="74824-553">Wskaźnik do wystąpienia interfejsu</span><span class="sxs-lookup"><span data-stu-id="74824-553">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="74824-554">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="74824-554">nx_ip_driver_status</span></span>     | <span data-ttu-id="74824-555">Stan ukończenia.</span><span class="sxs-lookup"><span data-stu-id="74824-555">Completion status.</span></span> <span data-ttu-id="74824-556">Jeśli sterownik nie może wykonać poleceń użytkownika, spowoduje to zwrócenie stanu błędu o wartości innej niż zero.</span><span class="sxs-lookup"><span data-stu-id="74824-556">If the driver is not able to execute user commands, it will return a non-zero error status.</span></span> |


<span data-ttu-id="74824-557">*To żądanie nie jest używane wewnętrznie przez NetX, więc jego implementacja jest opcjonalna.*</span><span class="sxs-lookup"><span data-stu-id="74824-557">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="unimplemented-commands"></a><span data-ttu-id="74824-558">Niezaimplementowane polecenia</span><span class="sxs-lookup"><span data-stu-id="74824-558">Unimplemented Commands</span></span>  

<span data-ttu-id="74824-559">Polecenia niezaimplementowane przez sterownik sieciowy muszą mieć pole stanu powrotu ustawione na NX_UNHANDLED_COMMAND.</span><span class="sxs-lookup"><span data-stu-id="74824-559">Commands unimplemented by the network driver must have the return status field set to NX_UNHANDLED_COMMAND.</span></span>

## <a name="driver-output"></a><span data-ttu-id="74824-560">Dane wyjściowe sterownika</span><span class="sxs-lookup"><span data-stu-id="74824-560">Driver Output</span></span>  

<span data-ttu-id="74824-561">Wszystkie poprzednio wymienione żądania przesyłania pakietów wymagają funkcji wyjściowej zaimplementowanej w sterowniku.</span><span class="sxs-lookup"><span data-stu-id="74824-561">All previously mentioned packet transmit requests require an output function implemented in the driver.</span></span> <span data-ttu-id="74824-562">Określona logika przesyłania jest specyficzna dla sprzętu, ale zazwyczaj polega na sprawdzaniu wydajności sprzętu w celu natychmiastowego wysłania pakietu.</span><span class="sxs-lookup"><span data-stu-id="74824-562">Specific transmit logic is hardware specific, but it usually consists of checking for hardware capacity to send the packet immediately.</span></span> <span data-ttu-id="74824-563">Jeśli to możliwe, ładunek pakietu (i dodatkowe ładunki w łańcuchu pakietów) są ładowane do jednego lub większej liczby buforów transmisji sprzętowej i zostanie zainicjowana operacja wysyłania.</span><span class="sxs-lookup"><span data-stu-id="74824-563">If possible, the packet payload (and additional payloads in the packet chain) are loaded into one or more of the hardware transmit buffers and a transmit operation is initiated.</span></span> <span data-ttu-id="74824-564">Jeśli pakiet nie mieści się w dostępnych buforach transmisji, pakiet powinien znajdować się w kolejce i być przesyłany, gdy bufory transmisji staną się dostępne.</span><span class="sxs-lookup"><span data-stu-id="74824-564">If the packet won't fit in the available transmit buffers, the packet should be queued, and be transmitted when the transmission buffers become available.</span></span>

<span data-ttu-id="74824-565">Zalecana Kolejka przesyłania jest pojedynczo połączoną listą ze wskaźnikami głównymi i końcowymi.</span><span class="sxs-lookup"><span data-stu-id="74824-565">The recommended transmit queue is a singly-linked list, having both head and tail pointers.</span></span> <span data-ttu-id="74824-566">Nowe pakiety są dodawane na końcu kolejki, utrzymując najstarszy pakiet na pierwszym planie.</span><span class="sxs-lookup"><span data-stu-id="74824-566">New packets are added to the end of the queue, keeping the oldest packet at the front.</span></span> <span data-ttu-id="74824-567">Pole *nx_packet_queue_next* jest używane jako następny link do pakietu w kolejce.</span><span class="sxs-lookup"><span data-stu-id="74824-567">The *nx_packet_queue_next* field is used as the packet's next link in the queue.</span></span> <span data-ttu-id="74824-568">Sterownik definiuje wskaźniki główne i końcowe kolejki transmisji.</span><span class="sxs-lookup"><span data-stu-id="74824-568">The driver defines the head and tail pointers of  transmit queue.</span></span>

<span data-ttu-id="74824-569">*Ponieważ do tej kolejki uzyskuje się dostęp z części wątku i przerwania w sterowniku, ochrona przerywania musi zostać umieszczona wokół manipulacji kolejek.*</span><span class="sxs-lookup"><span data-stu-id="74824-569">*Because this queue is accessed from thread and interrupt portions of the driver, interrupt protection must be placed around the queue manipulations.*</span></span>

<span data-ttu-id="74824-570">Większość implementacji sprzętu fizycznego generuje przerwanie podczas przesyłania pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-570">Most physical hardware implementations generate an interrupt upon packet transmit completion.</span></span>
<span data-ttu-id="74824-571">Gdy sterownik odbiera takie przerwanie, zazwyczaj zwalnia zasoby skojarzone z pakietem, które właśnie są przesyłane.</span><span class="sxs-lookup"><span data-stu-id="74824-571">When the driver receives such an interrupt, it typically releases the resources associated with the packet just being transmitted.</span></span> <span data-ttu-id="74824-572">W przypadku gdy logika przesyłania odczytuje dane bezpośrednio z bufora NX_PACKET, Sterownik powinien używać usługi ***nx_packet_transmit_release*** , aby zwolnić pakiet skojarzony z zakończonym przerwaniem przesyłania zwrotnego z powrotem do dostępnej puli pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-572">In case the transmit logic reads data directly from the NX_PACKET buffer, the driver should use the ***nx_packet_transmit_release*** service to release the packet associated with the transmit complete interrupt back to the available packet pool.</span></span> <span data-ttu-id="74824-573">Następnie sterownik analizuje kolejkę transmisji dla dodatkowych pakietów oczekujących na wysłanie.</span><span class="sxs-lookup"><span data-stu-id="74824-573">Next, the driver examines the transmit queue for additional packets waiting to be sent.</span></span> <span data-ttu-id="74824-574">Ponieważ wiele pakietów przesyłania umieszczonych w kolejce, które pasują do buforów przesyłania sprzętowego, są dekolejkowane i ładowane do buforów.</span><span class="sxs-lookup"><span data-stu-id="74824-574">As many of the queued transmit packets that fit into the hardware transmit buffer(s) are de-queued and loaded into the buffers.</span></span> <span data-ttu-id="74824-575">Następuje to po zainicjowaniu innej operacji wysyłania.</span><span class="sxs-lookup"><span data-stu-id="74824-575">This is followed by initiation of another send operation.</span></span>

<span data-ttu-id="74824-576">Gdy tylko dane w NX_PACKET zostały przeniesione do przekaźnika FIFO (lub w przypadku, gdy sterownik obsługuje operację zerocopy, dane w NX_PACKET zostały przesłane), Sterownik musi przenieść nx_packet_prepend_ptr na początek nagłówka IP przed wywołaniem ***nx_packet_transmit_release.***</span><span class="sxs-lookup"><span data-stu-id="74824-576">As soon as the data in the NX_PACKET has been moved into the transmitter FIFO (or in case a driver supports zerocopy operation, the data in NX_PACKET has been transmitted), the driver must move the nx_packet_prepend_ptr to the beginning of the IP header before calling ***nx_packet_transmit_release.***</span></span> <span data-ttu-id="74824-577">Pamiętaj, aby odpowiednio dostosować pole *nx_packet_length* .</span><span class="sxs-lookup"><span data-stu-id="74824-577">Remember to adjust *nx_packet_length* field accordingly.</span></span> <span data-ttu-id="74824-578">Jeśli ramka IP składa się z wielu pakietów, należy zwolnić tylko nagłówek łańcucha pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-578">If an IP frame is made up of multiple packets, only the head of the packet chain needs to be released.</span></span>

## <a name="driver-input"></a><span data-ttu-id="74824-579">Dane wejściowe sterownika</span><span class="sxs-lookup"><span data-stu-id="74824-579">Driver Input</span></span>  

<span data-ttu-id="74824-580">Po odebraniu otrzymanego przerwania pakietów sterownik sieciowy pobiera pakiet z buforów odbioru fizycznego sprzętowego i tworzy prawidłowy pakiet NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-580">Upon reception of a received packet interrupt, the network driver retrieves the packet from the physical hardware receive buffers and builds a valid NetX packet.</span></span> <span data-ttu-id="74824-581">Kompilowanie prawidłowego pakietu NetX obejmuje skonfigurowanie odpowiedniej długości pola i łączenie wielu pakietów, jeśli rozmiar pakietu przychodzącego jest większy niż pojedynczy ładunek pakietu.</span><span class="sxs-lookup"><span data-stu-id="74824-581">Building a valid NetX packet involves setting up the appropriate length field and chaining together multiple packets if the incoming packet's size is greater than a single packet payload.</span></span> <span data-ttu-id="74824-582">Po poprawnym skompilowaniu prepend_ptr jest przenoszona po utworzeniu nagłówka warstwy fizycznej, a pakiet odbioru jest wysyłany do NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-582">Once properly built, the prepend_ptr is moved after the physical layer header and the receive packet is dispatched to NetX.</span></span>

<span data-ttu-id="74824-583">NetX zakłada, że nagłówki IP i ARP są wyrównane na granicy ULONG.</span><span class="sxs-lookup"><span data-stu-id="74824-583">NetX assumes that the IP and ARP headers are aligned on a ULONG boundary.</span></span> <span data-ttu-id="74824-584">W związku z tym należy upewnić się, że to wyrównanie jest stosowane w sterowniku NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-584">The NetX driver must, therefore, ensure this alignment.</span></span> <span data-ttu-id="74824-585">W środowiskach Ethernet w tym celu należy uruchomić nagłówek Ethernet dwa bajty od początku pakietu.</span><span class="sxs-lookup"><span data-stu-id="74824-585">In Ethernet environments this is done by starting the Ethernet header two bytes from the beginning of the packet.</span></span> <span data-ttu-id="74824-586">Gdy *nx_packet_prepend_ptr* jest przenoszona poza nagłówek Ethernet, bazowy adres IP lub nagłówek ARP jest wyrównany do 4byte.</span><span class="sxs-lookup"><span data-stu-id="74824-586">When the *nx_packet_prepend_ptr* is moved beyond the Ethernet header, the underlying IP or ARP header is 4byte aligned.</span></span>

<span data-ttu-id="74824-587">W programie NetX dostępne są kilka funkcji odbioru pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-587">There are several receive packet functions available in NetX.</span></span> <span data-ttu-id="74824-588">Jeśli odebrany pakiet jest pakietem ARP, wywoływana jest _\* **nx_arp_packet_deferred_receive**_ .</span><span class="sxs-lookup"><span data-stu-id="74824-588">If the received packet is an ARP packet, _\***nx_arp_packet_deferred_receive**_ is called.</span></span> <span data-ttu-id="74824-589">Jeśli otrzymany pakiet jest pakietem RARP, wywoływana jest wartość _ _*_nx_rarp_packet_deferred_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="74824-589">If the received packet is an RARP packet, _ _*_nx_rarp_packet_deferred_receive_*_ is called.</span></span> <span data-ttu-id="74824-590">Istnieje kilka opcji obsługi przychodzących pakietów IP.</span><span class="sxs-lookup"><span data-stu-id="74824-590">There are several options for handling incoming IP packets.</span></span> <span data-ttu-id="74824-591">W celu uzyskania najszybszej obsługi pakietów IP jest wywoływana _*_nx_ip_packet_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="74824-591">For the fastest handling of IP packets, _ _*_nx_ip_packet_receive_*_ is called.</span></span> <span data-ttu-id="74824-592">Takie podejście ma najmniejszy koszt, ale wymaga więcej przetwarzania w ramach procedury obsługi przerwania odbierania usługi (ISR) sterownika.</span><span class="sxs-lookup"><span data-stu-id="74824-592">This approach has the least overhead, but requires more processing in the driver's receive interrupt service handler (ISR).</span></span> <span data-ttu-id="74824-593">W przypadku minimalnej liczby procesów ISR należy wywołać \*_nx_ip_packet_deferred_receive_\*\*.</span><span class="sxs-lookup"><span data-stu-id="74824-593">For minimal ISR processing __ *_nx_ip_packet_deferred_receive_*\* is called.</span></span>

<span data-ttu-id="74824-594">Po poprawnym skompilowaniu nowego pakietu odbioru fizyczne Bufory odbioru sprzętu są skonfigurowane w celu uzyskania większej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="74824-594">After the new receive packet is properly built, the physical hardware's receive buffers are setup to receive more data.</span></span> <span data-ttu-id="74824-595">Może to wymagać przydzielenia pakietów NetX i umieszczenia adresu ładunku w buforze odbioru sprzętowego lub po prostu w przypadku zmiany ustawienia w buforze odbioru sprzętowego.</span><span class="sxs-lookup"><span data-stu-id="74824-595">This might require allocating NetX packets and placing the payload address in the hardware receive buffer or it may simply amount to changing a setting in the hardware receive buffer.</span></span> <span data-ttu-id="74824-596">Aby zminimalizować możliwości przepełnienia, ważne jest, aby Bufory odbioru sprzętu były dostępne bufory najszybciej, jak to możliwe po odebraniu pakietu.</span><span class="sxs-lookup"><span data-stu-id="74824-596">To minimize overrun possibilities, it is important that the hardware's receive buffers have available buffers as soon as possible after a packet is received.</span></span>

<span data-ttu-id="74824-597">*Początkowe Bufory odbioru są skonfigurowane podczas inicjowania sterownika.*</span><span class="sxs-lookup"><span data-stu-id="74824-597">*The initial receive buffers are setup during driver initialization.*</span></span>

### <a name="deferred-receive-packet-handling"></a><span data-ttu-id="74824-598">Odroczona obsługa odbieranych pakietów</span><span class="sxs-lookup"><span data-stu-id="74824-598">Deferred Receive Packet Handling</span></span>  

<span data-ttu-id="74824-599">Sterownik może opóźnić odbieranie przetwarzania pakietów do wątku pomocnika IP NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-599">The driver may defer receive packet processing to the NetX IP helper thread.</span></span> <span data-ttu-id="74824-600">W przypadku niektórych aplikacji może być konieczne zminimalizowanie przetwarzania w trybie ISR oraz pakietów porzuconych.</span><span class="sxs-lookup"><span data-stu-id="74824-600">For some applications this may be necessary to minimize ISR processing as well as dropped packets.</span></span> <span data-ttu-id="74824-601">Aby można było użyć odroczonego obsługi pakietów, biblioteka NetX musi najpierw becompiled z funkcją \***NX_DRIVER_DEFERRED_PROCESSING** _.</span><span class="sxs-lookup"><span data-stu-id="74824-601">To use deferred packet handling, the NetX library must first becompiled with \***NX_DRIVER_DEFERRED_PROCESSING** _ defined.</span></span> <span data-ttu-id="74824-602">Spowoduje to dodanie odroczonej logiki pakietów do wątku pomocnika IP NetX.</span><span class="sxs-lookup"><span data-stu-id="74824-602">This adds the deferred packet logic to the NetX IP helper thread.</span></span> <span data-ttu-id="74824-603">Następnie w przypadku odebrania pakietu danych sterownik musi wywołać __nx_ip_packet_deferred_receive ():\*</span><span class="sxs-lookup"><span data-stu-id="74824-603">Next, on receiving a data packet, the driver must call __nx_ip_packet_deferred_receive():\*</span></span>

```C
_nx_ip_packet_deferred_receive(ip_ptr, packet_ptr);
```

<span data-ttu-id="74824-604">Odroczona funkcja Receive umieszcza pakiet odbierający reprezentowany przez *packet_ptr* na FIFO (lista połączona) i powiadamia wątek pomocnika IP.</span><span class="sxs-lookup"><span data-stu-id="74824-604">The deferred receive function places the receive packet represented by *packet_ptr* on a FIFO (linked list) and notifies the IP helper thread.</span></span> <span data-ttu-id="74824-605">Po wykonaniu tego pomocnika IP powtarza wywołania funkcji obsługi odroczonej, aby przetwarzać każdy odroczony pakiet.</span><span class="sxs-lookup"><span data-stu-id="74824-605">After executing, the IP helper repetitively calls the deferred handling function to process each deferred packet.</span></span> <span data-ttu-id="74824-606">Przetwarzanie odroczonego programu obsługi zazwyczaj obejmuje usunięcie nagłówka warstwy fizycznej pakietu (zazwyczaj Ethernet) i wysłanie go do jednej z tych funkcji odbierania NetX:</span><span class="sxs-lookup"><span data-stu-id="74824-606">The deferred handler processing typically includes removing the packet's physical layer header (usually Ethernet) and dispatching it to one of these NetX receive functions:</span></span>  

<span data-ttu-id="74824-607">***_nx_ip_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="74824-607">***_nx_ip_packet_deferred_receive***</span></span>  
<span data-ttu-id="74824-608">***_nx_arp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="74824-608">***_nx_arp_packet_deferred_receive***</span></span>  
<span data-ttu-id="74824-609">***_nx_rarp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="74824-609">***_nx_rarp_packet_deferred_receive***</span></span> 


## <a name="example-ram-ethernet-network-driver"></a><span data-ttu-id="74824-610">Przykład sterownika sieci Ethernet w pamięci RAM</span><span class="sxs-lookup"><span data-stu-id="74824-610">Example RAM Ethernet Network Driver</span></span>  

<span data-ttu-id="74824-611">System demonstracyjny NetX jest dostarczany z małym sterownikiem sieciowym opartym na pamięci RAM, zdefiniowanym w pliku ***nx_ram_network_driver. c.***</span><span class="sxs-lookup"><span data-stu-id="74824-611">The NetX demonstration system is delivered with a small RAM-based network driver, defined in the file ***nx_ram_network_driver.c.***</span></span>
<span data-ttu-id="74824-612">Ten sterownik zakłada, że wystąpienia protokołu IP są wszystkie w tej samej sieci i po prostu przypisuje wirtualne adresy sprzętowe (adresy MAC) do każdego wystąpienia urządzenia w miarę ich tworzenia.</span><span class="sxs-lookup"><span data-stu-id="74824-612">This driver assumes the IP instances are all on the same network and simply assigns virtual hardware addresses (MAC addresses) to each device instance as they are created.</span></span> <span data-ttu-id="74824-613">Ten plik zawiera dobry przykład podstawowej struktury NetX fizycznych urządzeń sieciowych.</span><span class="sxs-lookup"><span data-stu-id="74824-613">This file provides a good example of the basic structure of NetX physical network drivers.</span></span> <span data-ttu-id="74824-614">Użytkownicy mogą opracowywać własne sterowniki sieciowe przy użyciu platformy sterowników przedstawionej w tym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="74824-614">Users may develop their own network drivers using the driver framework presented in this example.</span></span>

<span data-ttu-id="74824-615">Funkcja wejścia sterownika sieciowego jest \***_nx_ram_network_driver, _,** która jest przenoszona do wywołania tworzenia wystąpienia IP.</span><span class="sxs-lookup"><span data-stu-id="74824-615">The entry function of the network driver is \***_nx_ram_network_driver,** _ which is passed to the IP instance create call.</span></span> <span data-ttu-id="74824-616">Funkcje wprowadzania dla dodatkowych interfejsów sieciowych mogą być przesyłane do usługi _*_nx_ip_interface_attach_*_ .</span><span class="sxs-lookup"><span data-stu-id="74824-616">Entry functions for additional network interfaces can be passed into the _*_nx_ip_interface_attach_*_ service.</span></span> <span data-ttu-id="74824-617">Po uruchomieniu wystąpienia adresu IP funkcja wprowadzania sterowników jest wywoływana w celu zainicjowania i włączenia urządzenia (zobacz przypadek _ *NX_LINK_INITIALIZE*\* i **NX_LINK_ENABLE**).</span><span class="sxs-lookup"><span data-stu-id="74824-617">After the IP instance starts to run, the driver entry function is invoked to initialize and enable the device (refer to the case _ *NX_LINK_INITIALIZE*\* and **NX_LINK_ENABLE**).</span></span> <span data-ttu-id="74824-618">Po wydaniu polecenia **NX_LINK_ENABLE** urządzenie powinno być gotowe do przesyłania i odbierania pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-618">After the **NX_LINK_ENABLE** command is issued, the device should be ready to transmit and receive packets.</span></span> 

<span data-ttu-id="74824-619">Wystąpienie IP przesyła pakiety sieciowe za pomocą jednego z następujących poleceń:</span><span class="sxs-lookup"><span data-stu-id="74824-619">The IP instance transmits network packets via one of these commands:</span></span>

| <span data-ttu-id="74824-620">***NX_LINK_PACKET_SEND***</span><span class="sxs-lookup"><span data-stu-id="74824-620">***NX_LINK_PACKET_SEND***</span></span>    | <span data-ttu-id="74824-621">Pakiet IP jest przesyłany,</span><span class="sxs-lookup"><span data-stu-id="74824-621">An IP packet is being transmitted,</span></span>                             |
| ------------------------------- | -------------------------------------------------------------- |
| <span data-ttu-id="74824-622">***NX_LINK_ARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="74824-622">***NX_LINK_ARP_SEND***</span></span>       | <span data-ttu-id="74824-623">Trwa przesyłanie żądania ARP lub pakietu odpowiedzi ARP,</span><span class="sxs-lookup"><span data-stu-id="74824-623">An ARP request or ARP response packet is being transmitted,</span></span>    |
| <span data-ttu-id="74824-624">***NX_LINK_ARP_RARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="74824-624">***NX_LINK_ARP_RARP_SEND***</span></span> | <span data-ttu-id="74824-625">Trwa przesyłanie żądania odwrotnego protokołu ARP lub pakietu odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="74824-625">A Reverse ARP request or response packet is being transmitted,</span></span> |

<span data-ttu-id="74824-626">W przypadku przetwarzania tych poleceń sterownik sieciowy musi dołączać odpowiedni nagłówek ramki Ethernet, a następnie wysyłać go do podstawowego sprzętu do transmisji.</span><span class="sxs-lookup"><span data-stu-id="74824-626">On processing these commands, the network driver needs to prepend the appropriate Ethernet frame header, and then send it to the underlying hardware for transmission.</span></span> <span data-ttu-id="74824-627">W trakcie procesu transmisji sterownik sieciowy ma wyłączną własność obszaru bufora pakietu.</span><span class="sxs-lookup"><span data-stu-id="74824-627">During the transmission process, the network driver has the exclusive ownership of the packet buffer area.</span></span> <span data-ttu-id="74824-628">W związku z tym po przesłaniu danych (lub po skopiowaniu danych do wewnętrznego buforu transferu sterownika) Sterownik sieciowy jest odpowiedzialny za zwolnienie buforu pakietów przez przeniesienie wskaźnika dołączania poza nagłówek Ethernet do nagłówka IP (i odpowiednio dostosować długość pakietu), a następnie przez wywołanie usługi ***nx_packet_transmit_release*** , aby zwolnić pakiet.</span><span class="sxs-lookup"><span data-stu-id="74824-628">Therefore once the data are being transmitted (or once the data has been copied into the driver internal transfer buffer), the network driver is responsible for releasing the packet buffer by first moving the prepend pointer past the Ethernet header to the IP header (and adjust packet length accordingly), and then by calling the ***nx_packet_transmit_release*** service to release the packet.</span></span> <span data-ttu-id="74824-629">Nie można zwolnić pakietu, gdy transmisja danych spowoduje przeciek pakietów.</span><span class="sxs-lookup"><span data-stu-id="74824-629">Not releasing the packet after data transmission will cause packets to leak.</span></span>

<span data-ttu-id="74824-630">Sterownik urządzenia sieciowego jest również odpowiedzialny za obsługę przychodzących pakietów danych.</span><span class="sxs-lookup"><span data-stu-id="74824-630">The network device driver is also responsible for handling incoming data packets.</span></span> <span data-ttu-id="74824-631">W przykładzie sterownika pamięci RAM otrzymany pakiet jest przetwarzany przez funkcję ***_nx_ram_network_driver_receive***.</span><span class="sxs-lookup"><span data-stu-id="74824-631">In the RAM driver example, the received packet is processed by the function ***_nx_ram_network_driver_receive***.</span></span>

<span data-ttu-id="74824-632">Gdy urządzenie otrzyma ramkę Ethernet, sterownik jest odpowiedzialny za przechowywanie danych w</span><span class="sxs-lookup"><span data-stu-id="74824-632">Once the device receives an Ethernet frame, the driver is responsible for storing the data in</span></span>

<span data-ttu-id="74824-633">Struktura NX_PACKET.</span><span class="sxs-lookup"><span data-stu-id="74824-633">NX_PACKET structure.</span></span> <span data-ttu-id="74824-634">Należy pamiętać, że NetX zakłada, że nagłówek IP zaczyna się od 4-bajtowego wyrównanego adresu.</span><span class="sxs-lookup"><span data-stu-id="74824-634">Note that NetX assumes the IP header starts from 4-byte aligned address.</span></span> <span data-ttu-id="74824-635">Ze względu na to, że Długość nagłówka Ethernet wynosi 14 bajtów, Sterownik musi przechowywać początek nagłówka Ethernet w adresie wyrównanym 2-bajtowym w celu zagwarantowania, że nagłówek IP zaczyna się od 4-bajtowego wyrównanego adresu.</span><span class="sxs-lookup"><span data-stu-id="74824-635">Since the length of Ethernet header is 14-byte, the driver needs to store the starting of the Ethernet header at 2-byte aligned address to guarantee that the IP header starts at 4-byte aligned address.</span></span>