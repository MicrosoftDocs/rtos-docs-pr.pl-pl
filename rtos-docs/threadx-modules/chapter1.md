---
title: Rozdział 1 — omówienie
author: philmea
description: Ten artykuł zawiera omówienie modułów usługi Azure RTO ThreadX
ms.author: philmea
ms.date: 07/15/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 0c9698086468d7bb41c33ebe9fa9d1ebb61b5f1f
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/22/2021
ms.locfileid: "104821402"
---
# <a name="chapter-1-overview"></a><span data-ttu-id="a3b74-103">Rozdział 1: przegląd</span><span class="sxs-lookup"><span data-stu-id="a3b74-103">Chapter 1: Overview</span></span>

<span data-ttu-id="a3b74-104">Składnik modułu ThreadX udostępnia infrastrukturę dla aplikacji do dynamicznego ładowania modułów, które są zbudowane niezależnie od rezydentnej części aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a3b74-104">The ThreadX Module component provides an infrastructure for applications to dynamically load modules that are built separately from the resident portion of the application.</span></span> <span data-ttu-id="a3b74-105">Jest to szczególnie przydatne w sytuacjach, gdy rozmiar kodu aplikacji przekracza dostępną pamięć.</span><span class="sxs-lookup"><span data-stu-id="a3b74-105">This is especially useful in situations where the application code size exceeds available memory.</span></span> <span data-ttu-id="a3b74-106">Może również pomóc, gdy do wdrożenia obrazu podstawowego jest wymagane dodanie nowych funkcji.</span><span class="sxs-lookup"><span data-stu-id="a3b74-106">It can also help when new features are required to be added after the core image is deployed.</span></span> <span data-ttu-id="a3b74-107">Dodatkowo dynamiczne ładowanie modułów może być używane, gdy wymagane są częściowe aktualizacje oprogramowania układowego.</span><span class="sxs-lookup"><span data-stu-id="a3b74-107">In addition, dynamically loading modules can be used when partial firmware updates are required.</span></span>

<span data-ttu-id="a3b74-108">Ochrona pamięci dla załadowanego modułu jest opcjonalna na podstawie właściwości określonych w preambule modułu.</span><span class="sxs-lookup"><span data-stu-id="a3b74-108">Memory protection for the loaded module is optional, based on the properties specified in the module preamble.</span></span> <span data-ttu-id="a3b74-109">W przypadku określenia ochrony pamięci sprzęt zarządzania pamięcią procesora jest skonfigurowany tak, aby wszystkie wątki modułu miały dostęp tylko do kodu modułu i pamięci danych.</span><span class="sxs-lookup"><span data-stu-id="a3b74-109">When memory protection is specified, the processor's memory management hardware is configured such that all threads of the module are only allowed access to the module's code and data memory.</span></span> <span data-ttu-id="a3b74-110">Każdy nadmiarowy dostęp do pamięci lub wykonanie spowoduje awarię pamięci i wątek modułu, który spowodował przerwanie działania.</span><span class="sxs-lookup"><span data-stu-id="a3b74-110">Any extraneous memory access or execution will result in a memory fault and the offending module thread will be terminated.</span></span> <span data-ttu-id="a3b74-111">Jeśli aplikacja rejestruje wywołanie zwrotne powiadomienia o błędach pamięci, zostanie ona również wywołana w celu wygenerowania alertu dotyczącego błędu pamięci.</span><span class="sxs-lookup"><span data-stu-id="a3b74-111">If the application registers a memory fault notification callback, this will also be called to alert the application of the memory fault.</span></span>

<span data-ttu-id="a3b74-112">Składnik modułu ThreadX korzysta z aplikacji, aby zapewnić obszar pamięci, w którym można załadować moduły.</span><span class="sxs-lookup"><span data-stu-id="a3b74-112">The ThreadX Module component relies on the application to provide a memory area where modules can be loaded.</span></span> <span data-ttu-id="a3b74-113">Obszar instrukcji każdego modułu może zostać wykonany w miejscu lub być kopiowany do obszaru pamięci modułu RAM na potrzeby wykonania.</span><span class="sxs-lookup"><span data-stu-id="a3b74-113">The instruction area of each module may execute in place or be copied into the RAM module memory area for execution.</span></span> <span data-ttu-id="a3b74-114">We wszystkich przypadkach wymagania dotyczące pamięci danych modułu są przyliczane z obszaru pamięci modułu.</span><span class="sxs-lookup"><span data-stu-id="a3b74-114">In all cases, the module data memory requirements are allocated from the module memory area.</span></span>

<span data-ttu-id="a3b74-115">Nie ma ograniczeń dotyczących liczby modułów, które mogą być ładowane w tym samym czasie (oprócz ilości dostępnej pamięci), gdy istnieje tylko jedna kopia kodu programu rezydentnego modułu.</span><span class="sxs-lookup"><span data-stu-id="a3b74-115">There are no limits on the number of modules that can be loaded at the same time (aside from the amount of memory available), while there is only one copy of the resident Module Manager code.</span></span> <span data-ttu-id="a3b74-116">Rysunek 1 ilustruje relację Menedżera modułów i samych modułów.</span><span class="sxs-lookup"><span data-stu-id="a3b74-116">Figure 1 illustrates the relationship of the Module Manager and the modules themselves.</span></span>

![Relacje modułów i Menedżera modułów](media/image2.png)

<span data-ttu-id="a3b74-118">**Rysunek 1** Moduły i Menedżer modułów</span><span class="sxs-lookup"><span data-stu-id="a3b74-118">**Figure 1** Modules and Module Manager</span></span>

<span data-ttu-id="a3b74-119">Każdy moduł musi mieć własny obszar pamięci, który jest odpowiedzialny za zdefiniowanie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a3b74-119">Each module must have its own memory area, which is the application's responsibility to define.</span></span> <span data-ttu-id="a3b74-120">Moduł i Menedżer modułów współdziałają za pośrednictwem funkcji wysyłania oprogramowania za pośrednictwem wstępnie zdefiniowanych identyfikatorów żądań, które odpowiadają usługom ThreadX żądanym przez moduł.</span><span class="sxs-lookup"><span data-stu-id="a3b74-120">The Module and the Module Manager interact through a software dispatch function via pre-defined request IDs that correspond to ThreadX services requested by the module.</span></span> <span data-ttu-id="a3b74-121">Ponadto moduł jest wymagany do udostępnienia jednego punktu wejścia wątku, a także wymaganego rozmiaru stosu, priorytetu, identyfikatora modułu, rozmiaru stosu wątku wywołania zwrotnego i priorytetu itp. Te informacje są zdefiniowane w preambule każdego modułu.</span><span class="sxs-lookup"><span data-stu-id="a3b74-121">In addition, the module is required to provide a single thread entry point as well as the required stack size, priority, module ID, callback thread stack size/priority, etc. This information is defined in each module's preamble.</span></span>

<span data-ttu-id="a3b74-122">Menedżer modułów jest odpowiedzialny za tworzenie początkowego wątku modułu i Inicjowanie jego wykonywania.</span><span class="sxs-lookup"><span data-stu-id="a3b74-122">The Module Manager is responsible for creating the initial module thread and initiating its execution.</span></span> <span data-ttu-id="a3b74-123">Po wykonaniu wątku początkowego modułu Menedżer modułów jest odpowiedzialny za pole wszystkie żądania interfejsu API ThreadX wykonywane przez moduł.</span><span class="sxs-lookup"><span data-stu-id="a3b74-123">Once the module's initial thread is executing, the Module Manager is responsible for fielding all ThreadX API requests made by the module.</span></span> <span data-ttu-id="a3b74-124">Moduł ma pełny dostęp do interfejsu API ThreadX, w tym możliwość tworzenia dodatkowych wątków w module.</span><span class="sxs-lookup"><span data-stu-id="a3b74-124">A module has full access to the ThreadX API, including the ability to create additional threads within the module.</span></span>  
  
<span data-ttu-id="a3b74-125">Konwencje nazewnictwa kodu źródłowego modułu są proste: wszystkie pliki źródłowe Menedżera modułów mają nazwę ***txm_module_manager_ \**** i wszystkie pliki skojarzone wyłącznie z modułem pomijają **część nazwy "_Manager_*_". Główny plik dołączany _*_txm_module. h_** jest współużytkowany przez Menedżera i kod źródłowy modułu.</span><span class="sxs-lookup"><span data-stu-id="a3b74-125">The module source code naming conventions are straightforward: all Module Manager source files are named ***txm_module_manager_\**** and all files associated exclusively with the module omit the "**_manager_*_" portion of the name. The main include file _*_txm_module.h_** is shared by the manager and module source code.</span></span>
